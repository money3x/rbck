<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Gemini 2.0 Flash CMS - ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á AI-Powered Content Management</title>
    
    <!-- ‚ö° PERFORMANCE: Critical resource preloading -->
    <link rel="modulepreload" href="core/bootstrap.js">
    <link rel="modulepreload" href="core/auth.js">
    <link rel="modulepreload" href="core/api-client.js">
    <link rel="preload" href="css/luxury-sidebar.css" as="style">
    <link rel="dns-prefetch" href="https://rbck.onrender.com">
    <link rel="preconnect" href="https://rbck.onrender.com" crossorigin>
    
    <!-- ‚ö° PERFORMANCE: Critical CSS inlined for faster rendering -->
    <style>
        /* Critical CSS for above-the-fold content */
        .auth-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 99999; }
        .hidden { display: none !important; }
        .loading { opacity: 0.5; pointer-events: none; }
        .sidebar { width: 280px; transition: transform 0.3s ease; }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../css/beautiful-gemini-styles.css">
    <link rel="stylesheet" href="../css/cms-styles.css">
    <link rel="stylesheet" href="css/modern-ai-settings.css">
    <link rel="stylesheet" href="css/luxury-sidebar-performance.css">
    <link rel="stylesheet" href="css/luxury-sidebar.css">
    <link rel="stylesheet" href="css/luxury-sidebar-effects.css">
    <link rel="stylesheet" href="css/luxury-sidebar-dropdown.css">
    <link rel="stylesheet" href="css/luxury-sidebar-force.css">
    <link rel="stylesheet" href="css/security-dashboard.css">
    <link rel="stylesheet" href="migration-celebration.css">
    <meta name="description" content="Advanced CMS powered by Google i 2.0 Flash AI for intelligent content creation and SEO optimization">
    <style>
        /* ===== ENTERPRISE AI SETTINGS MODAL ===== */
        
        .enterprise-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            animation: fadeIn 0.3s ease forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .enterprise-modal {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(250, 251, 252, 0.95) 100%);
            border-radius: 16px;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.5);
            width: 90vw;
            max-width: 1200px;
            max-height: 90vh;
            overflow: hidden;
            transform: scale(0.95);
            animation: modalSlideIn 0.3s ease forwards;
        }
        
        @keyframes modalSlideIn {
            to { transform: scale(1); }
        }
        
        .enterprise-modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            background: linear-gradient(135deg, 
                rgba(59, 130, 246, 0.05) 0%, 
                rgba(147, 51, 234, 0.05) 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .modal-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .header-text h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
            color: #1f2937;
        }
        
        .header-text p {
            margin: 4px 0 0 0;
            color: #6b7280;
            font-size: 14px;
        }
        
        .close-button {
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #6b7280;
            transition: all 0.2s ease;
        }
        
        .close-button:hover {
            background: rgba(0, 0, 0, 0.1);
            color: #374151;
        }
        
        .enterprise-tabs {
            display: flex;
            background: rgba(249, 250, 251, 0.8);
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            padding: 0 32px;
        }
        
        .tab-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 16px 24px;
            border: none;
            background: none;
            cursor: pointer;
            color: #6b7280;
            font-weight: 500;
            font-size: 14px;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .tab-button:hover {
            color: #374151;
            background: rgba(59, 130, 246, 0.05);
        }
        
        .tab-button.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .tab-icon {
            font-size: 16px;
        }
        
        .enterprise-modal-content {
            height: 60vh;
            max-height: 60vh;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 32px;
            position: relative;
        }
        
        .tab-content {
            display: none;
            min-height: 400px;
            width: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .tab-content.active {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
            animation: fadeInContent 0.3s ease;
            min-height: 400px;
            width: 100%;
        }
        
        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-header {
            margin-bottom: 24px;
        }
        
        .section-header h3 {
            margin: 0 0 8px 0;
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
        }
        
        .section-header p {
            margin: 0;
            color: #6b7280;
            font-size: 14px;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        
        /* KPI Grid for Performance Dashboards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        /* Providers Luxury Grid for Models Tab */
        .providers-luxury-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        /* Performance Dashboard Container */
        .performance-dashboard {
            width: 100%;
            padding: 0;
        }
        
        /* KPI Card Styles */
        .kpi-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);
            border: 1px solid rgba(0, 0, 0, 0.06);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .kpi-card.primary {
            border-left: 4px solid #3b82f6;
        }
        
        .kpi-card.success {
            border-left: 4px solid #10b981;
        }
        
        .kpi-card.warning {
            border-left: 4px solid #f59e0b;
        }
        
        .kpi-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-bottom: 16px;
        }
        
        .kpi-content {
            flex: 1;
        }
        
        .kpi-value {
            font-size: 28px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 4px;
            line-height: 1;
        }
        
        .kpi-label {
            font-size: 14px;
            color: #6b7280;
            font-weight: 500;
        }
        
        /* Provider Luxury Card Styles */
        .provider-luxury-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.95) 100%);
            border: 1px solid rgba(0, 0, 0, 0.06);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .provider-luxury-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .provider-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .provider-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .provider-logo {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .provider-info h4 {
            margin: 0 0 4px 0;
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }
        
        .provider-info p {
            margin: 0;
            font-size: 13px;
            color: #6b7280;
        }
        
        .provider-card-body {
            padding-top: 16px;
        }
        
        .setting-card {
            background: white;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.06);
            overflow: hidden;
            transition: all 0.2s ease;
        }
        
        .setting-card:hover {
            border-color: rgba(59, 130, 246, 0.2);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.1);
        }
        
        .card-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .card-header h4 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #d1d5db;
        }
        
        .status-dot.connected { background: #10b981; }
        .status-dot.error { background: #ef4444; }
        .status-dot.checking { 
            background: #3b82f6;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .card-content {
            padding: 20px 24px;
        }
        
        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.04);
        }
        
        .metric-row:last-child {
            border-bottom: none;
        }
        
        .metric-value {
            font-weight: 600;
            color: #1f2937;
        }
        
        .setting-item {
            margin-bottom: 24px;
        }
        
        .setting-item:last-child {
            margin-bottom: 0;
        }
        
        .setting-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            color: #374151;
        }
        
        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #d1d5db;
            border-radius: 24px;
            transition: 0.3s;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 2px;
            bottom: 2px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }
        
        input:checked + .toggle-slider {
            background: #3b82f6;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: #d1d5db;
            outline: none;
            appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
        }
        
        .slider-value {
            font-weight: 600;
            color: #3b82f6;
            min-width: 40px;
            text-align: right;
        }
        
        .providers-grid {
            display: grid;
            gap: 20px;
        }
        
        .enterprise-modal-footer {
            padding: 24px 32px;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            background: rgba(249, 250, 251, 0.8);
            display: flex;
            justify-content: flex-end;
        }
        
        .footer-actions {
            display: flex;
            gap: 12px;
        }
        
        .btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-secondary {
            background: rgba(0, 0, 0, 0.05);
            color: #6b7280;
        }
        
        .btn-secondary:hover {
            background: rgba(0, 0, 0, 0.1);
            color: #374151;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af);
            transform: translateY(-1px);
        }

        /* Sidebar styling moved to external CSS files for better performance */
        
        /* ===== AI MONITORING DASHBOARD CARDS ENHANCEMENT ===== */
        
        /* 1. Section Header Enhancement */
        .section-header {
            background: linear-gradient(135deg, 
                rgba(66, 133, 244, 0.1) 0%, 
                rgba(52, 168, 83, 0.1) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(15px);
        }
        
        /* 2. Performance Overview Card */
        .performance-overview {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(66, 133, 244, 0.1);
        }
        
        .performance-overview h3 {
            color: var(--text-primary, #f0f6fc);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #4285f4, #34a853);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* 3. Metric Cards Grid - Excel-like organization */
        .performance-metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        /* 4. Individual Metric Cards - Modern design */
        .metric-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%, 
                rgba(255, 255, 255, 0.04) 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }
        
        .metric-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(66, 133, 244, 0.4);
            box-shadow: 0 20px 40px rgba(66, 133, 244, 0.2);
        }
        
        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4285f4, #34a853, #fbbc05, #ea4335);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .metric-card:hover::before {
            opacity: 1;
        }
        
        /* 5. Metric Card Icons */
        .metric-icon {
            font-size: 2.5rem;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, 
                rgba(66, 133, 244, 0.2) 0%, 
                rgba(52, 168, 83, 0.2) 100%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .metric-card:hover .metric-icon {
            transform: scale(1.1) rotate(5deg);
            background: linear-gradient(135deg, #4285f4, #34a853);
        }
        
        /* 6. Metric Content */
        .metric-content {
            flex: 1;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-primary, #f0f6fc);
            margin-bottom: 0.5rem;
            line-height: 1;
        }
        
        .metric-label {
            color: var(--text-secondary, #7d8590);
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* 7. Provider Performance Container */
        .provider-performance-container {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(20px);
        }
        
        .provider-performance-container h3 {
            color: var(--text-primary, #f0f6fc);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #4285f4, #34a853);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* 8. Performance Controls */
        .performance-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        /* 9. Performance Table Enhancement */
        .performance-table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.02);
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .performance-table th {
            background: linear-gradient(135deg, 
                rgba(66, 133, 244, 0.1) 0%, 
                rgba(52, 168, 83, 0.1) 100%);
            color: var(--text-primary, #f0f6fc);
            padding: 1rem;
            font-weight: 600;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .performance-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--text-secondary, #7d8590);
        }
        
        .performance-table tbody tr:hover {
            background: rgba(66, 133, 244, 0.05);
        }
        
        /* 10. Alerts Container */
        .performance-alerts-container,
        .analytics-alerts-container {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(20px);
        }
        
        .no-alerts-message {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, 
                rgba(52, 168, 83, 0.1) 0%, 
                rgba(52, 168, 83, 0.05) 100%);
            border: 1px solid rgba(52, 168, 83, 0.2);
            border-radius: 12px;
            color: var(--text-success, #3fb950);
            font-weight: 500;
        }
        
        /* 11. AI Logs Panel Enhancement */
        .ai-logs-panel {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            overflow: hidden;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(66, 133, 244, 0.1);
        }
        
        .panel-header {
            background: linear-gradient(135deg, 
                rgba(66, 133, 244, 0.1) 0%, 
                rgba(52, 168, 83, 0.1) 100%);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .panel-title {
            color: var(--text-primary, #f0f6fc);
            font-size: 1.3rem;
            font-weight: 700;
            margin: 0;
            background: linear-gradient(135deg, #4285f4, #34a853);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* 12. Logs Controls */
        .logs-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .logs-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: var(--text-primary, #f0f6fc);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logs-btn:hover {
            background: linear-gradient(135deg, #4285f4, #34a853);
            border-color: #4285f4;
            transform: translateY(-2px);
        }
        
        /* 13. Responsive Design */
        @media (max-width: 768px) {
            .performance-metrics-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .metric-card {
                padding: 1rem;
            }
            
            .metric-icon {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
            
            .metric-value {
                font-size: 1.5rem;
            }
            
            .performance-controls {
                flex-direction: column;
            }
        }
        
        /* ===== üé® LUXURY SEO TOOLS STYLING ===== */
        
        /* Premium Feature Cards for Gemini 2.0 SEO Tools */
        .tool-card.premium-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.95) 0%,
                rgba(248, 250, 252, 0.98) 50%,
                rgba(245, 247, 249, 0.95) 100%);
            border: 2px solid transparent;
            border-radius: 24px;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(20px);
            box-shadow: 
                0 12px 40px rgba(66, 133, 244, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .tool-card.premium-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, 
                #4285f4 0%, 
                #34a853 25%, 
                #fbbc05 50%, 
                #ea4335 75%, 
                #4285f4 100%);
            background-size: 300% 300%;
            border-radius: 26px;
            z-index: -1;
            opacity: 0;
            transition: all 0.5s ease;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .tool-card.premium-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 
                0 25px 80px rgba(66, 133, 244, 0.2),
                0 15px 40px rgba(52, 168, 83, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        
        .tool-card.premium-card:hover::before {
            opacity: 0.8;
        }
        
        /* Tool Headers - Premium Style */
        .tool-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(66, 133, 244, 0.1);
        }
        
        .tool-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, #4285f4, #34a853);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(66, 133, 244, 0.3));
        }
        
        .tool-header h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        /* Tool Descriptions */
        .tool-description {
            font-size: 1rem;
            color: #6b7280;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }
        
        /* Status Badges - Enhanced */
        .status-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1.5rem;
        }
        
        .gemini-badge {
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
            animation: glow 3s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3); }
            to { box-shadow: 0 6px 25px rgba(66, 133, 244, 0.5); }
        }
        
        .success-badge {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        /* Enhanced Button Groups */
        .btn-group {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .btn-gemini {
            background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.8rem 1.5rem;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.4s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 
                0 8px 25px rgba(66, 133, 244, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .btn-gemini::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent);
            transition: left 0.6s ease;
        }
        
        .btn-gemini:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 15px 40px rgba(66, 133, 244, 0.4),
                0 8px 25px rgba(52, 168, 83, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, #34a853 0%, #4285f4 100%);
        }
        
        .btn-gemini:hover::before {
            left: 100%;
        }
        
        /* External SEO Tools - Luxury Cards */
        .external-tools-section {
            margin-top: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, 
                rgba(248, 250, 252, 0.8) 0%,
                rgba(241, 245, 249, 0.9) 100%);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .external-tools-section h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .external-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .external-tool-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.9) 0%,
                rgba(248, 250, 252, 0.95) 100%);
            border: 1px solid rgba(66, 133, 244, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .external-tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(66, 133, 244, 0.1), 
                transparent);
            transition: left 0.6s ease;
        }
        
        .external-tool-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(66, 133, 244, 0.3);
            box-shadow: 
                0 15px 40px rgba(66, 133, 244, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .external-tool-card:hover::before {
            left: 100%;
        }
        
        .external-tool-card h4 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 0.75rem;
        }
        
        .external-tool-card p {
            color: #6b7280;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        .external-tool-card .btn {
            width: 100%;
            border-radius: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        /* ===== CHATBOT INTERFACE STYLING ===== */
        
        .chat-message {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(66, 133, 244, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .chat-message:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(66, 133, 244, 0.1);
        }
        
        .user-message {
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.1), rgba(52, 168, 83, 0.05));
            border-left: 4px solid #4285f4;
            margin-left: 2rem;
        }
        
        .assistant-message {
            background: linear-gradient(135deg, rgba(52, 168, 83, 0.1), rgba(251, 188, 5, 0.05));
            border-left: 4px solid #34a853;
            margin-right: 2rem;
        }
        
        .error-message {
            background: linear-gradient(135deg, rgba(234, 67, 53, 0.1), rgba(255, 193, 7, 0.05));
            border-left: 4px solid #ea4335;
            margin-right: 2rem;
        }
        
        .typing-message {
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.05), rgba(52, 168, 83, 0.02));
            border-left: 4px solid #4285f4;
            margin-right: 2rem;
            animation: pulse 1.5s infinite;
        }
        
        .message-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }
        
        .message-avatar {
            font-size: 1.2rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .message-author {
            font-weight: 600;
            color: #4285f4;
        }
        
        .message-time {
            margin-left: auto;
            font-size: 0.8rem;
            color: #999;
        }
        
        .message-content {
            line-height: 1.6;
            color: #333;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .typing-indicator {
            display: flex;
            gap: 0.3rem;
            align-items: center;
        }
        
        .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4285f4;
            animation: typingDot 1.4s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0s; }
        
        @keyframes typingDot {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
        }
        
        .chatbot-input-row textarea {
            resize: vertical;
            min-height: 40px;
            max-height: 120px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 0.75rem 1rem;
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .chatbot-input-row textarea:focus {
            border-color: #4285f4;
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
            outline: none;
        }
        
        .chatbot-input-row button {
            background: linear-gradient(135deg, #4285f4, #34a853);
            border: none;
            border-radius: 10px;
            padding: 0.75rem 1rem;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 50px;
        }
        
        .chatbot-input-row button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(66, 133, 244, 0.3);
        }
        
        .chatbot-input-row button:active {
            transform: translateY(0);
        }

        /* Chat Status Indicator */
        .chat-status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: #666;
        }

        .chat-status-indicator .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #28a745;
            animation: statusPulse 2s infinite;
        }

        .chat-status-indicator .status-dot.processing {
            background: #ffc107;
            animation: statusPulse 1s infinite;
        }

        .chat-status-indicator .status-dot.error {
            background: #dc3545;
            animation: none;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chatbot-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px 8px 0 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .tool-card.premium-card {
                padding: 1.5rem;
                border-radius: 16px;
            }
            
            .tool-icon {
                font-size: 2rem;
            }
            
            .tool-header h3 {
                font-size: 1.2rem;
            }
            
            .btn-group {
                flex-direction: column;
                width: 100%;
            }
            
            .btn-group .btn {
                width: 100%;
            }
            
            .external-tools-grid {
                grid-template-columns: 1fr;
            }
            
            .chat-message {
                margin-left: 0;
                margin-right: 0;
            }
            
            .user-message {
                margin-left: 0.5rem;
            }
            
            .assistant-message,
            .error-message,
            .typing-message {
                margin-right: 0.5rem;
            }
        }
        
        /* ===== üé® ENHANCED DASHBOARD STYLING ===== */
        
        /* Key Metrics Cards Grid */
        .dashboard-metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .metric-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.95) 0%,
                rgba(248, 250, 252, 0.98) 100%);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(20px);
            box-shadow: 
                0 8px 32px rgba(66, 133, 244, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .metric-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, #4285f4, #34a853, #fbbc05, #ea4335);
            border-radius: 22px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 60px rgba(66, 133, 244, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        
        .metric-card:hover::before {
            opacity: 0.6;
        }
        
        .metric-card .metric-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--dark-color, #1a1a1a);
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        
        .metric-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .metric-trend {
            font-size: 0.8rem;
            color: #10b981;
            font-weight: 500;
            margin-top: 0.5rem;
        }
        
        /* Quick Actions Section */
        .quick-actions-section {
            margin-bottom: 3rem;
        }
        
        .quick-actions-section h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 1.5rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .action-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.9) 0%,
                rgba(248, 250, 252, 0.95) 100%);
            border: 1px solid rgba(66, 133, 244, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(66, 133, 244, 0.1), 
                transparent);
            transition: left 0.6s ease;
        }
        
        .action-card:hover {
            transform: translateY(-4px);
            border-color: rgba(66, 133, 244, 0.3);
            box-shadow: 
                0 12px 30px rgba(66, 133, 244, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .action-card:hover::before {
            left: 100%;
        }
        
        .action-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }
        
        .action-content {
            flex: 1;
        }
        
        .action-content h4 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 0.25rem;
        }
        
        .action-content p {
            font-size: 0.9rem;
            color: #6b7280;
            margin: 0;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 0.75rem 1.25rem;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            flex-shrink: 0;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(66, 133, 244, 0.3);
            background: linear-gradient(135deg, #34a853, #4285f4);
        }
        
        /* Dashboard Main Grid */
        .dashboard-main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        /* Dashboard Widget Base Styling */
        .dashboard-widget {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.95) 0%,
                rgba(248, 250, 252, 0.98) 100%);
            border: 1px solid rgba(66, 133, 244, 0.1);
            border-radius: 20px;
            padding: 1.5rem;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 8px 32px rgba(66, 133, 244, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }
        
        .dashboard-widget:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 12px 40px rgba(66, 133, 244, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        
        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(66, 133, 244, 0.1);
        }
        
        .widget-header h3 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin: 0;
        }
        
        .refresh-btn, .view-all-btn {
            background: rgba(66, 133, 244, 0.1);
            border: 1px solid rgba(66, 133, 244, 0.2);
            border-radius: 8px;
            color: #4285f4;
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .refresh-btn:hover, .view-all-btn:hover {
            background: #4285f4;
            color: white;
            transform: scale(1.05);
        }
        
        /* AI Status Widget */
        .ai-providers-status {
            margin-bottom: 1rem;
        }
        
        .provider-status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border-bottom: 1px solid rgba(66, 133, 244, 0.05);
            border-radius: 8px;
            background: rgba(66, 133, 244, 0.02);
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .provider-status-item:hover {
            background: rgba(66, 133, 244, 0.05);
            transform: translateX(2px);
        }
        
        .provider-status-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .provider-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .provider-icon {
            font-size: 1.2rem;
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
        }
        
        .provider-details {
            display: flex;
            flex-direction: column;
        }
        
        .provider-name {
            font-weight: 600;
            color: var(--dark-color, #1a1a1a);
        }
        
        .provider-model {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .status-indicator.connected {
            color: #28a745;
        }
        
        .status-indicator.checking {
            color: #ffc107;
        }
        
        .status-indicator.disconnected,
        .status-indicator.not-configured {
            color: #dc3545;
        }
        
        .status-indicator.error {
            color: #dc3545;
        }
        
        .status-indicator.unknown {
            color: #6c757d;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: statusPulse 2s infinite;
        }
        
        .status-indicator.connected .status-dot {
            background: #28a745;
            animation: none;
        }
        
        .status-indicator.checking .status-dot {
            background: #ffc107;
        }
        
        .status-indicator.disconnected .status-dot,
        .status-indicator.not-configured .status-dot,
        .status-indicator.error .status-dot {
            background: #dc3545;
            animation: none;
        }
        
        /* Loading, No Data, and Error Messages */
        .loading-message,
        .no-data-message,
        .error-message {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
            text-align: center;
            color: #6b7280;
        }
        
        .no-data-icon,
        .error-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            opacity: 0.6;
        }
        
        .no-data-text,
        .error-text {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .no-data-text strong,
        .error-text strong {
            color: var(--dark-color, #1a1a1a);
            font-size: 1rem;
        }
        
        .no-data-text p,
        .error-text p {
            font-size: 0.875rem;
            margin: 0;
            opacity: 0.8;
        }
        
        .no-data-text button,
        .error-text button {
            margin-top: 0.75rem;
            align-self: center;
        }
        
        /* AI Monitoring Performance Table */
        .performance-table-container {
            overflow-x: auto;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
        
        .performance-table th {
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            padding: 1rem 0.75rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .performance-table td {
            padding: 1rem 0.75rem;
            border-bottom: 1px solid rgba(66, 133, 244, 0.05);
        }
        
        .provider-row:hover {
            background: rgba(66, 133, 244, 0.02);
        }
        
        .provider-info-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .provider-icon {
            font-size: 1.25rem;
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
        }
        
        .provider-details .provider-name {
            font-weight: 600;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 0.25rem;
        }
        
        .provider-details .provider-model {
            font-size: 0.75rem;
            color: #6b7280;
        }
        
        .metric-value {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }
        
        .metric-value.good {
            color: #28a745;
        }
        
        .metric-value.warning {
            color: #ffc107;
        }
        
        .metric-value.danger {
            color: #dc3545;
        }
        
        .metric-sub {
            font-size: 0.7rem;
            color: #6b7280;
            text-transform: uppercase;
        }
        
        .last-activity {
            display: flex;
            flex-direction: column;
        }
        
        .activity-text {
            font-weight: 500;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 0.25rem;
        }
        
        .activity-time {
            font-size: 0.7rem;
            color: #6b7280;
        }
        
        /* Table Loading/Error States */
        .loading-cell,
        .no-data-cell,
        .error-cell {
            text-align: center;
            padding: 3rem 2rem;
            color: #6b7280;
        }
        
        .no-data-message-inline,
        .error-message-inline {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .no-data-message-inline .no-data-icon,
        .error-message-inline .error-icon {
            font-size: 2.5rem;
            opacity: 0.6;
        }
        
        .no-data-message-inline .no-data-text,
        .error-message-inline .error-text {
            text-align: center;
        }
        
        .no-data-message-inline strong,
        .error-message-inline strong {
            color: var(--dark-color, #1a1a1a);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .no-data-message-inline p,
        .error-message-inline p {
            margin: 0.5rem 0;
            opacity: 0.8;
        }
        
        /* Performance Controls */
        .performance-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .performance-controls h3 {
            margin: 0;
            color: var(--dark-color, #1a1a1a);
        }
        
        .performance-controls .btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }
        
        /* Responsive Table */
        @media (max-width: 768px) {
            .performance-table-container {
                font-size: 0.75rem;
            }
            
            .performance-table th,
            .performance-table td {
                padding: 0.5rem 0.25rem;
            }
            
            .provider-info-cell {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
            
            .provider-icon {
                font-size: 1rem;
            }
            
            .performance-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .performance-controls .btn {
                justify-content: center;
            }
        }
        
        /* SEO Snapshot Widget */
        .seo-overview {
            margin-bottom: 1rem;
        }
        
        .seo-metric {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(66, 133, 244, 0.05);
        }
        
        .seo-metric:last-child {
            border-bottom: none;
        }
        
        .seo-metric-icon {
            font-size: 1.5rem;
        }
        
        .seo-metric-info {
            display: flex;
            flex-direction: column;
        }
        
        .seo-metric-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
        }
        
        .seo-metric-label {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        .last-updated {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        /* Recent Activity Widget */
        .activity-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(66, 133, 244, 0.05);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
            width: 30px;
            text-align: center;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 600;
            color: var(--dark-color, #1a1a1a);
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }
        
        .activity-time {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        /* External Tools Widget */
        .external-tools-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .external-tool-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: rgba(66, 133, 244, 0.05);
            border-radius: 10px;
            text-decoration: none;
            color: var(--dark-color, #1a1a1a);
            transition: all 0.3s ease;
        }
        
        .external-tool-item:hover {
            background: rgba(66, 133, 244, 0.1);
            transform: translateX(4px);
        }
        
        .external-tool-item .tool-icon {
            font-size: 1.2rem;
        }
        
        .external-tool-item span {
            flex: 1;
            font-weight: 600;
        }
        
        .external-tool-item i {
            color: #4285f4;
        }
        
        /* Premium Widget */
        .premium-widget {
            background: linear-gradient(145deg, 
                rgba(66, 133, 244, 0.95) 0%,
                rgba(52, 168, 83, 0.95) 100%);
            color: white;
            text-align: center;
        }
        
        .premium-content {
            padding: 1rem 0;
        }
        
        .premium-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        
        .premium-widget h3 {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .premium-widget p {
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }
        
        .premium-features {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
        }
        
        .premium-features li {
            padding: 0.25rem 0;
            font-size: 0.9rem;
            opacity: 0.95;
        }
        
        .premium-upgrade-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            backdrop-filter: blur(10px);
        }
        
        .premium-upgrade-btn:hover {
            background: white;
            color: #4285f4;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.3);
        }
        
        /* Widget Actions */
        .widget-actions {
            margin-top: 1rem;
            text-align: center;
        }
        
        .widget-actions .btn {
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-metrics-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .quick-actions-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-main-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .action-card {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            
            .action-btn {
                width: 100%;
            }
            
            .metric-card {
                padding: 1.25rem;
            }
            
            .dashboard-widget {
                padding: 1.25rem;
            }
        }
        
        /* ===== üé® AI SETTINGS MODAL - PREMIUM SPARKLING DESIGN ===== */
        
        /* Modal Overlay */
        .ai-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.8) 0%,
                rgba(13, 17, 23, 0.9) 50%,
                rgba(0, 0, 0, 0.8) 100%);
            backdrop-filter: blur(20px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeInOverlay 0.4s ease-out;
        }
        
        @keyframes fadeInOverlay {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(20px);
            }
        }
        
        /* Modal Container */
        .ai-modal {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.95) 0%,
                rgba(248, 250, 252, 0.98) 50%,
                rgba(245, 247, 249, 0.95) 100%);
            border: 2px solid transparent;
            border-radius: 24px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(25px);
            box-shadow: 
                0 25px 80px rgba(66, 133, 244, 0.3),
                0 15px 40px rgba(52, 168, 83, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .ai-modal::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, 
                #4285f4 0%, 
                #34a853 25%, 
                #fbbc05 50%, 
                #ea4335 75%, 
                #4285f4 100%);
            background-size: 300% 300%;
            border-radius: 26px;
            z-index: -1;
            animation: gradientFlow 8s ease infinite;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Modal Header */
        .ai-modal-header {
            background: linear-gradient(135deg, 
                rgba(66, 133, 244, 0.1) 0%,
                rgba(52, 168, 83, 0.1) 50%,
                rgba(251, 188, 5, 0.1) 100%);
            padding: 2rem;
            border-bottom: 1px solid rgba(66, 133, 244, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            position: relative;
            overflow: hidden;
        }
        
        .ai-modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            animation: headerShimmer 3s ease-in-out infinite;
        }
        
        @keyframes headerShimmer {
            0%, 100% { left: -100%; }
            50% { left: 100%; }
        }
        
        .ai-modal-title-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .ai-modal-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, #4285f4, #34a853);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(66, 133, 244, 0.3));
            animation: iconGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes iconGlow {
            from { filter: drop-shadow(0 2px 4px rgba(66, 133, 244, 0.3)); }
            to { filter: drop-shadow(0 4px 8px rgba(66, 133, 244, 0.6)); }
        }
        
        .ai-modal-header h3 {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--dark-color, #1a1a1a);
            margin: 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .ai-modal-header p {
            color: #6b7280;
            font-size: 1rem;
            margin: 0;
            font-weight: 500;
        }
        
        .ai-modal-close {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            color: #ef4444;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1;
        }
        
        .ai-modal-close:hover {
            background: #ef4444;
            color: white;
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
        }
        
        /* Modal Body */
        .ai-modal-body {
            padding: 1.5rem 2rem;
            max-height: 60vh;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        /* AI Provider Sections */
        .ai-provider-section {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.8) 0%,
                rgba(248, 250, 252, 0.9) 100%);
            border: 1px solid rgba(66, 133, 244, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
        }
        
        .ai-provider-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(66, 133, 244, 0.1), 
                transparent);
            transition: left 0.6s ease;
        }
        
        .ai-provider-section:hover {
            transform: translateY(-4px) scale(1.01);
            border-color: rgba(66, 133, 244, 0.3);
            box-shadow: 
                0 15px 40px rgba(66, 133, 244, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        
        .ai-provider-section:hover::before {
            left: 100%;
        }
        
        /* Special ChindaX styling */
        .ai-provider-section.chindax-special {
            border: 2px solid rgba(251, 188, 5, 0.3);
            background: linear-gradient(145deg, 
                rgba(251, 188, 5, 0.05) 0%,
                rgba(255, 255, 255, 0.9) 100%);
        }
        
        .ai-provider-section.chindax-special::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(251, 188, 5, 0.2), 
                transparent);
        }
        
        /* Provider Header */
        .ai-provider-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(66, 133, 244, 0.1);
        }
        
        .ai-provider-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
            animation: providerIconFloat 3s ease-in-out infinite;
        }
        
        @keyframes providerIconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        
        .ai-provider-info {
            flex: 1;
        }
        
        .ai-provider-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark-color, #1a1a1a);
            margin-bottom: 0.25rem;
        }
        
        .ai-provider-description {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 500;
        }
        
        .ai-provider-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .ai-provider-status .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            animation: statusPulse 2s ease-in-out infinite;
        }
        
        @keyframes statusPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        .ai-provider-status .status-dot.connected {
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .ai-provider-status .status-dot.disconnected {
            background: #ef4444;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }
        
        .ai-provider-status .status-dot.testing {
            background: #f59e0b;
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }
        
        /* Field Groups */
        .ai-provider-fields {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .field-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .field-group label {
            font-weight: 600;
            color: var(--dark-color, #1a1a1a);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .ai-api-input {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.9) 0%,
                rgba(248, 250, 252, 0.95) 100%);
            border: 2px solid rgba(66, 133, 244, 0.2);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .ai-api-input:focus {
            outline: none;
            border-color: #4285f4;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 
                0 0 20px rgba(66, 133, 244, 0.3),
                inset 0 2px 4px rgba(0, 0, 0, 0.1);
            transform: scale(1.02);
        }
        
        .ai-api-input::placeholder {
            color: #9ca3af;
            font-style: italic;
        }
        
        /* Provider Actions */
        .ai-provider-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .ai-test-btn {
            background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.4s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 
                0 8px 25px rgba(66, 133, 244, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .ai-test-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent);
            transition: left 0.6s ease;
        }
        
        .ai-test-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 15px 40px rgba(66, 133, 244, 0.4),
                0 8px 25px rgba(52, 168, 83, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, #34a853 0%, #4285f4 100%);
        }
        
        .ai-test-btn:hover::before {
            left: 100%;
        }
        
        .ai-test-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Test Feedback */
        .ai-test-feedback {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .ai-test-feedback.success {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            color: #166534;
            border: 1px solid #22c55e;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
            animation: successGlow 2s ease-in-out;
        }
        
        .ai-test-feedback.error {
            background: linear-gradient(135deg, #fef2f2, #fecaca);
            color: #991b1b;
            border: 1px solid #ef4444;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
            animation: errorShake 0.5s ease-in-out;
        }
        
        .ai-test-feedback.testing {
            background: linear-gradient(135deg, #fefbeb, #fde68a);
            color: #92400e;
            border: 1px solid #f59e0b;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
            animation: testingPulse 1s ease-in-out infinite;
        }
        
        @keyframes successGlow {
            0%, 100% { box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3); }
            50% { box-shadow: 0 8px 25px rgba(34, 197, 94, 0.5); }
        }
        
        @keyframes errorShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes testingPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Modal Footer */
        .ai-modal-footer {
            background: linear-gradient(135deg, 
                rgba(248, 250, 252, 0.8) 0%,
                rgba(241, 245, 249, 0.9) 100%);
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(66, 133, 244, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .footer-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        .footer-actions .btn {
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        .footer-actions .btn-secondary {
            background: rgba(156, 163, 175, 0.1);
            border: 1px solid rgba(156, 163, 175, 0.3);
            color: #6b7280;
        }
        
        .footer-actions .btn-secondary:hover {
            background: #6b7280;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(107, 114, 128, 0.3);
        }
        
        .footer-actions .btn-success {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border: none;
            box-shadow: 
                0 8px 25px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .footer-actions .btn-success:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 15px 40px rgba(16, 185, 129, 0.4),
                0 8px 25px rgba(52, 211, 153, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .ai-modal {
                width: 95%;
                max-height: 95vh;
                border-radius: 16px;
            }
            
            .ai-modal-header {
                padding: 1.5rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .ai-modal-body {
                padding: 1rem 1.5rem;
            }
            
            .ai-provider-section {
                padding: 1rem;
            }
            
            .ai-provider-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .ai-provider-actions {
                flex-direction: column;
                align-items: stretch;
            }
            
            .ai-test-btn {
                width: 100%;
            }
            
            .footer-actions {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .footer-actions .btn {
                width: 100%;
            }
        }
        
        /* AI Providers Table Styles */
        .provider-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .provider-icon {
            font-size: 1.5em;
            width: 30px;
            text-align: center;
        }
        .provider-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }
        .provider-role {
            font-size: 12px;
            color: #666;
            font-style: italic;
        }
        .status-indicator {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        .status-connected {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            color: #166534;
            border-color: #22c55e;
            box-shadow: 0 2px 8px rgba(34, 197, 94, 0.2);
        }
        .status-disconnected {
            background: linear-gradient(135deg, #fef2f2, #fecaca);
            color: #991b1b;
            border-color: #ef4444;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.2);
        }
        .status-checking {
            background: linear-gradient(135deg, #fefbeb, #fde68a);
            color: #92400e;
            border-color: #f59e0b;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.2);
            animation: pulse 2s infinite;
        }
        .provider-status-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            min-height: 50px;
            width: 100%;
        }
        .provider-specialties {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }
        .specialty-tag {
            background-color: #e3f2fd;
            color: #1976d2;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 17px;
            white-space: nowrap;
        }
        .provider-description {
            font-size: 13px;
            color: #555;
            line-height: 1.3;
        }
        .provider-row {
            transition: background-color 0.2s ease;
        }
        .provider-row:hover {
            background-color: #f5f5f5;
        }
        .ai-providers-table {
            width: 100%;
            border-collapse: collapse;
        }
        .ai-providers-table th,
        .ai-providers-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            text-align: left;
            vertical-align: middle; /* Ensure vertical centering */
        }
        .ai-providers-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #333;
        }
        /* Specific styling for status column */
        .ai-providers-table td[data-type="status"] {
            text-align: center;
            padding: 8px 12px;
        }
        
        /* ===== SECURITY & ADVANCED TAB STYLES ===== */
        
        /* Security KPI Cards */
        .security-kpi {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.05) 0%, rgba(220, 38, 38, 0.05) 100%);
            border: 1px solid rgba(239, 68, 68, 0.1);
        }
        
        .advanced-kpi {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(124, 58, 237, 0.05) 100%);
            border: 1px solid rgba(139, 92, 246, 0.1);
        }
        
        /* Security Status Indicators */
        .security-high {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .security-medium {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        
        .security-low {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
        
        /* Security and Advanced Cards */
        .security-card,
        .advanced-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.95) 100%);
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }
        
        .security-card:hover,
        .advanced-card:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 10px 15px -3px rgba(0, 0, 0, 0.1),
                0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* Setting Groups */
        .security-setting-group,
        .advanced-setting-group {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 24px;
        }
        
        /* Luxury Button Variants */
        .luxury-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }
        
        .luxury-btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }
        
        .luxury-btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        .luxury-btn-secondary {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }
        
        .luxury-btn-secondary:hover {
            background: linear-gradient(135deg, #4b5563, #374151);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(107, 114, 128, 0.4);
        }
        
        .luxury-btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
        
        .luxury-btn-danger:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }
        
        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }
        
        /* Security Audit Log */
        .security-audit-log {
            background: rgba(249, 250, 251, 0.8);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .security-audit-log h5 {
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .audit-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .audit-item:last-child {
            border-bottom: none;
        }
        
        .audit-time {
            font-size: 12px;
            color: #6b7280;
            min-width: 80px;
        }
        
        .audit-event {
            flex: 1;
            font-size: 13px;
            color: #374151;
            margin: 0 12px;
        }
        
        .audit-status.success {
            color: #10b981;
            font-weight: 600;
        }
        
        .audit-status.warning {
            color: #f59e0b;
            font-weight: 600;
        }
        
        .audit-status.danger {
            color: #ef4444;
            font-weight: 600;
        }
        
        /* Webhook Events */
        .webhook-events {
            background: rgba(249, 250, 251, 0.8);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .webhook-events h5 {
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .event-checkboxes {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .event-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #374151;
            cursor: pointer;
        }
        
        .event-checkbox input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: #3b82f6;
        }
        
        /* Storage Usage */
        .maintenance-stats {
            background: rgba(249, 250, 251, 0.8);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .maintenance-stats h5 {
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .storage-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        
        .storage-item:last-child {
            margin-bottom: 0;
        }
        
        .storage-item span {
            font-size: 13px;
            color: #374151;
            min-width: 120px;
        }
        
        .storage-bar {
            flex: 1;
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            margin-left: 12px;
            overflow: hidden;
        }
        
        .storage-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        /* API Endpoints */
        .api-endpoints {
            background: rgba(249, 250, 251, 0.8);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .api-endpoints h5 {
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .endpoint-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .endpoint-item:last-child {
            border-bottom: none;
        }
        
        .endpoint-item code {
            background: rgba(0, 0, 0, 0.05);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            color: #374151;
        }
        
        .endpoint-status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 500;
        }
        
        .endpoint-status.active {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
        }
        
        .endpoint-status.inactive {
            background: rgba(107, 114, 128, 0.1);
            color: #4b5563;
        }
        
        /* Copy and Password Toggle Buttons */
        .copy-button,
        .password-toggle {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .copy-button:hover,
        .password-toggle:hover {
            color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }
        
        /* Responsive Design for Security/Advanced */
        @media (max-width: 1200px) {
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .kpi-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .luxury-btn {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- ‚úÖ CRITICAL: Authentication Check Overlay (Hidden by default) -->
    <div id="authCheckOverlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #1e3a8a, #3730a3); z-index: 99999; display: none; flex-direction: column; justify-content: center; align-items: center; color: white;">
        <div style="text-align: center; padding: 2rem;">
            <div id="authCheckingState" style="display: block;">
                <div style="width: 60px; height: 60px; border: 4px solid rgba(255,255,255,0.3); border-top: 4px solid #fbbf24; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
                <h1 style="margin-bottom: 1rem;">üîí ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...</h1>
                <p style="opacity: 0.8;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
            </div>
            <div id="authRequiredState" style="display: none;">
                <i class="fas fa-shield-alt" style="font-size: 4rem; margin-bottom: 1rem; color: #fbbf24;"></i>
                <h1 style="margin-bottom: 1rem;">üîí Authentication Required</h1>
                <p style="margin-bottom: 2rem; opacity: 0.8;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Admin Panel</p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="redirectToLogin()" style="background: #ef4444; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                    <button onclick="window.location.href = '/'" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid white; padding: 12px 24px; border-radius: 8px; cursor: pointer;">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
                </div>
            </div>
        </div>
        
        <style>
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </div>
    <!-- Sidebar -->
    <nav class="sidebar sidebar-luxury" id="sidebar" role="navigation" aria-label="Main navigation">
        <div class="sidebar-header">
            <h1>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á</h1>
            <p>üöÄ Gemini 2.0 Flash AI CMS</p>
            <button onclick="logout()" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 6px; margin-top: 12px; cursor: pointer; font-size: 12px; width: 100%;">
                <i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
            </button>
        </div>
        <div class="nav-menu" role="list">
            <!-- Dashboard Section -->
            <div class="nav-category">
                <div class="category-header" role="heading" aria-level="2">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link nav-link active sidebar-nav-item" onclick="showSection('dashboard')" role="listitem" aria-current="page" tabindex="0">
                        <i class="fas fa-chart-pie sidebar-nav-icon" aria-hidden="true"></i>
                        <span>üöÄ Main Dashboard</span>
                    </a>
                </div>
            </div>

            <!-- AI Interface Section -->
            <div class="nav-category">
                <div class="category-header" role="heading" aria-level="2">
                    <i class="fas fa-robot"></i>
                    <span>AI Interface</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('ai-swarm')" role="listitem" tabindex="-1">
                        <i class="fas fa-users sidebar-nav-icon" aria-hidden="true"></i>
                        <span>ü§ñ AI Swarm Council</span>
                    </a>
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('ai-monitoring'); setTimeout(initAIMonitoring, 100);" role="listitem" tabindex="-1">
                        <i class="fas fa-chart-line sidebar-nav-icon" aria-hidden="true"></i>
                        <span>üìä AI Monitoring</span>
                    </a>
                    <a href="#" class="nav-link" onclick="showSection('ai-chatbot')">
                        <i class="fas fa-comments"></i>
                        <span>üí¨ AI Chatbot</span>
                    </a>
                    <button class="nav-link sidebar-nav-item sidebar-nav-button" id="aiSettingsLink" onclick="showAISettings(); return false;" role="listitem" tabindex="-1" aria-describedby="ai-settings-desc">
                        <i class="fas fa-cog sidebar-nav-icon" aria-hidden="true"></i>
                        <span>‚öôÔ∏è AI Settings</span>
                    </button>
                    <div id="ai-settings-desc" class="sr-only">Configure AI providers and settings</div>
                </div>
            </div>

            <!-- Article Management Section -->
            <div class="nav-category">
                <div class="category-header">
                    <i class="fas fa-edit"></i>
                    <span>Article Management</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link" onclick="showSection('blog-manage')">
                        <i class="fas fa-file-alt"></i>
                        <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</span>
                    </a>
                    <a href="#" class="nav-link" onclick="showSection('blog-create')">
                        <i class="fas fa-plus-circle"></i>
                        <span>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà</span>
                    </a>
                </div>
            </div>

            <!-- SEO Analytics Section -->
            <div class="nav-category">
                <div class="category-header">
                    <i class="fas fa-search"></i>
                    <span>SEO Analytics</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link" onclick="showSection('seo-tools')">
                        <i class="fas fa-robot"></i>
                        <span>üöÄ Gemini 2.0 SEO Tools</span>
                    </a>
                    <a href="#" class="nav-link" onclick="showSection('analytics')">
                        <i class="fas fa-chart-bar"></i>
                        <span>Analytics</span>
                    </a>
                </div>
            </div>

            <!-- System Security Section -->
            <div class="nav-category">
                <div class="category-header" role="heading" aria-level="2">
                    <i class="fas fa-shield-alt"></i>
                    <span>System Security</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('security-dashboard')" role="listitem" tabindex="-1">
                        <i class="fas fa-tachometer-alt sidebar-nav-icon" aria-hidden="true"></i>
                        <span>üìä Security Dashboard</span>
                    </a>
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('auth-logs')" role="listitem" tabindex="-1">
                        <i class="fas fa-key sidebar-nav-icon" aria-hidden="true"></i>
                        <span>üîí Authentication Logs</span>
                    </a>
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('blocked-ips')" role="listitem" tabindex="-1">
                        <i class="fas fa-ban sidebar-nav-icon" aria-hidden="true"></i>
                        <span>üö´ Blocked IPs</span>
                    </a>
                    <a href="#" class="nav-link sidebar-nav-item" onclick="showSection('security-alerts')" role="listitem" tabindex="-1">
                        <i class="fas fa-exclamation-triangle sidebar-nav-icon" aria-hidden="true"></i>
                        <span>‚ö†Ô∏è Security Alerts</span>
                    </a>
                </div>
            </div>

            <!-- Database Management Section -->
            <div class="nav-category">
                <div class="category-header">
                    <i class="fas fa-database"></i>
                    <span>Database Management</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="#" class="nav-link" onclick="showSection('migration')">
                        <i class="fas fa-server"></i>
                        <span>üóÑÔ∏è Database Migration</span>
                    </a>
                </div>
            </div>

            <!-- External Links -->
            <div class="nav-category">
                <div class="category-header">
                    <i class="fas fa-external-link-alt"></i>
                    <span>External</span>
                </div>
                <div class="sub-menu-grid">
                    <a href="/" class="nav-link">
                        <i class="fas fa-globe"></i>
                        <span>‡∏î‡∏π‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-title-section">
                <button class="mobile-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h2 id="pageTitle">üöÄ Gemini 2.0 Flash Dashboard</h2>
            </div>
            <div class="user-menu">
                <div class="user-avatar">A</div>
                <span>Admin</span>
                <button onclick="logout()" class="btn btn-secondary logout-btn">
                    <i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                </button>
            </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="section-header">
                <h2>üöÄ Main Dashboard</h2>
                <p>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏° Gemini 2.0 Flash Analytics</p>
            </div>
            
            <!-- Key Metrics Cards -->
            <div class="dashboard-metrics-grid">
                <div class="metric-card articles-count">
                    <div class="metric-icon">üìÑ</div>
                    <div class="metric-content">
                        <div class="metric-value" id="publishedArticlesCount">--</div>
                        <div class="metric-label">Published Articles</div>
                        <div class="metric-trend">+12% this month</div>
                    </div>
                </div>
                
                <div class="metric-card active-users">
                    <div class="metric-icon">üë•</div>
                    <div class="metric-content">
                        <div class="metric-value" id="activeUsersCount">--</div>
                        <div class="metric-label">Active Users</div>
                        <div class="metric-trend">+5% this week</div>
                    </div>
                </div>
                
                <div class="metric-card ai-tasks">
                    <div class="metric-icon">ü§ñ</div>
                    <div class="metric-content">
                        <div class="metric-value" id="aiTasksCount">--</div>
                        <div class="metric-label">AI Tasks Today</div>
                        <div class="metric-trend">Real-time</div>
                    </div>
                </div>
                
                <div class="metric-card seo-score">
                    <div class="metric-icon">üìä</div>
                    <div class="metric-content">
                        <div class="metric-value" id="seoHealthScore">--</div>
                        <div class="metric-label">SEO Health Score</div>
                        <div class="metric-trend" id="seoTrend">Updated hourly</div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions Section -->
            <div class="quick-actions-section">
                <h3>‚ö° Quick Actions</h3>
                <div class="quick-actions-grid">
                    <div class="action-card create-article">
                        <div class="action-icon">‚úçÔ∏è</div>
                        <div class="action-content">
                            <h4>Create New Article</h4>
                            <p>Start writing with AI assistance</p>
                        </div>
                        <button class="action-btn" onclick="showSection('blog-manage')">
                            <i class="fas fa-plus"></i> Create
                        </button>
                    </div>
                    
                    <div class="action-card launch-chatbot">
                        <div class="action-icon">üí¨</div>
                        <div class="action-content">
                            <h4>AI Chatbot</h4>
                            <p>Get instant AI assistance</p>
                        </div>
                        <button class="action-btn" onclick="showSection('ai-chatbot')">
                            <i class="fas fa-comments"></i> Launch
                        </button>
                    </div>
                    
                    <div class="action-card seo-analysis">
                        <div class="action-icon">üîç</div>
                        <div class="action-content">
                            <h4>SEO Analysis</h4>
                            <p>Quick SEO health check</p>
                        </div>
                        <button class="action-btn" onclick="showSection('seo-tools')">
                            <i class="fas fa-search"></i> Analyze
                        </button>
                    </div>
                    
                    <div class="action-card view-reports">
                        <div class="action-icon">üìà</div>
                        <div class="action-content">
                            <h4>View Reports</h4>
                            <p>Analytics and insights</p>
                        </div>
                        <button class="action-btn" onclick="showSection('analytics')">
                            <i class="fas fa-chart-bar"></i> Reports
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Grid Container -->
            <div class="dashboard-main-grid">
                <!-- AI Status Widget -->
                <div class="dashboard-widget ai-status-widget">
                    <div class="widget-header">
                        <h3>ü§ñ AI Providers Status</h3>
                        <button class="refresh-btn" onclick="refreshAIStatus()" title="Refresh AI Status">
                            <i class="fas fa-sync"></i>
                        </button>
                    </div>
                    <div class="ai-providers-status" id="aiProvidersStatusContainer">
                        <!-- Dynamic content loaded by refreshAIStatus() -->
                        <div class="loading-message">
                            <i class="fas fa-spinner fa-spin"></i> Loading AI provider status...
                        </div>
                    </div>
                    <div class="widget-actions">
                        <button class="btn btn-sm" onclick="showSection('ai-swarm')">
                            <i class="fas fa-cog"></i> Manage AI
                        </button>
                    </div>
                </div>
                
                <!-- SEO Snapshot Widget -->
                <div class="dashboard-widget seo-snapshot-widget">
                    <div class="widget-header">
                        <h3>üìä SEO Snapshot</h3>
                        <span class="last-updated">Updated 2 hours ago</span>
                    </div>
                    <div class="seo-overview">
                        <div class="seo-metric">
                            <div class="seo-metric-icon">üéØ</div>
                            <div class="seo-metric-info">
                                <span class="seo-metric-value" id="keywordRankings">--</span>
                                <span class="seo-metric-label">Keywords Ranking</span>
                            </div>
                        </div>
                        
                        <div class="seo-metric">
                            <div class="seo-metric-icon">‚úÖ</div>
                            <div class="seo-metric-info">
                                <span class="seo-metric-value" id="seoChecks">--</span>
                                <span class="seo-metric-label">Recent Checks</span>
                            </div>
                        </div>
                        
                        <div class="seo-metric">
                            <div class="seo-metric-icon">üí°</div>
                            <div class="seo-metric-info">
                                <span class="seo-metric-value" id="seoSuggestions">--</span>
                                <span class="seo-metric-label">Suggestions</span>
                            </div>
                        </div>
                    </div>
                    <div class="widget-actions">
                        <button class="btn btn-sm" onclick="showSection('seo-tools')">
                            <i class="fas fa-search"></i> Full SEO Analysis
                        </button>
                    </div>
                </div>
                
                <!-- Recent Activity Widget -->
                <div class="dashboard-widget activity-widget">
                    <div class="widget-header">
                        <h3>üìã Recent Activity</h3>
                        <button class="view-all-btn" onclick="showAllActivity()">View All</button>
                    </div>
                    <div class="activity-list" id="recentActivityList">
                        <div class="activity-item">
                            <div class="activity-icon article-update">üìù</div>
                            <div class="activity-content">
                                <div class="activity-title">Article "AI Technology Trends" updated</div>
                                <div class="activity-time">2 minutes ago</div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon ai-task">ü§ñ</div>
                            <div class="activity-content">
                                <div class="activity-title">AI content generation completed</div>
                                <div class="activity-time">15 minutes ago</div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon system-update">‚öôÔ∏è</div>
                            <div class="activity-content">
                                <div class="activity-title">System backup completed successfully</div>
                                <div class="activity-time">1 hour ago</div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon seo-check">üìä</div>
                            <div class="activity-content">
                                <div class="activity-title">SEO analysis completed for 5 articles</div>
                                <div class="activity-time">3 hours ago</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- External Tools Widget -->
                <div class="dashboard-widget external-tools-widget">
                    <div class="widget-header">
                        <h3>üîó Quick Tools</h3>
                    </div>
                    <div class="external-tools-list">
                        <a href="https://analytics.google.com/" target="_blank" class="external-tool-item">
                            <div class="tool-icon">üìà</div>
                            <span>Google Analytics</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        
                        <a href="https://search.google.com/search-console" target="_blank" class="external-tool-item">
                            <div class="tool-icon">üîç</div>
                            <span>Search Console</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        
                        <a href="https://pagespeed.web.dev/" target="_blank" class="external-tool-item">
                            <div class="tool-icon">‚ö°</div>
                            <span>PageSpeed Insights</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        
                        <a href="https://trends.google.com/" target="_blank" class="external-tool-item">
                            <div class="tool-icon">üìä</div>
                            <span>Google Trends</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Premium/Upgrade Section -->
                <div class="dashboard-widget premium-widget">
                    <div class="premium-content">
                        <div class="premium-icon">‚ú®</div>
                        <h3>Gemini 2.0 Flash Pro</h3>
                        <p>Unlock advanced AI features and analytics</p>
                        <ul class="premium-features">
                            <li>üöÄ Unlimited AI requests</li>
                            <li>üìä Advanced analytics</li>
                            <li>üéØ Priority support</li>
                            <li>üíé Exclusive features</li>
                        </ul>
                        <button class="premium-upgrade-btn">
                            <i class="fas fa-crown"></i> Upgrade to Pro
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- AI Chatbot Section -->
        <section id="ai-chatbot" class="content-section">
            <div class="section-header">
                <h2>üí¨ AI Chatbot Assistant</h2>
                <p>Multi-AI Assistant ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö Long Context ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô</p>
            </div>
            
            <!-- Premium Chatbot Panel with Long Context Support -->
            <div class="chatbot-panel-wide" id="chatbotPanel">
                <div class="chatbot-header">
                    <div>
                        <h4>Multi-AI Assistant</h4>
                        <select id="chatModelSelect">
                            <option value="openai">OpenAI (GPT-4/3.5)</option>
                            <option value="anthropic">Anthropic (Claude)</option>
                            <option value="chinda">ChindaX (chinda-qwen3-32b)</option>
                            <option value="gemini">Gemini 2.0 Flash</option>
                        </select>
                    </div>
                    <div class="chat-status-indicator">
                        <span id="chatStatus" class="status-dot connected"></span>
                        <span id="chatStatusText">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                    </div>
                </div>
                <div class="chatbot-messages" id="chatbotMessages" style="max-height: 400px; overflow-y: auto; padding: 16px; display: flex !important; flex-direction: column; gap: 12px; background: rgba(255, 255, 255, 0.95); border-radius: 12px; min-height: 200px; visibility: visible !important;">
                    <div class="welcome-message" style="padding: 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; margin-bottom: 8px;">
                        <p style="margin: 0; font-size: 14px; line-height: 1.4;">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞ SEO ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö Long Context ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô</p>
                    </div>
                </div>
                <form class="chatbot-input-row" id="chatbotForm">
                    <textarea id="chatbotInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà... (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô)" autocomplete="off" rows="1"></textarea>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </section>
        
        <!-- Blog Management Section -->
        <section id="blog-manage" class="content-section">
            <div class="section-header">
                <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</h2>
                <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÅ‡∏•‡∏∞‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏° Gemini 2.0 Flash SEO Score</p>
                
                <!-- Action Buttons -->
                <div class="blog-management-actions">
                    <button class="btn btn-success" onclick="showSection('blog-create')">
                        <i class="fas fa-plus"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <button class="btn btn-secondary" onclick="loadBlogPosts()">
                        <i class="fas fa-sync"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                    </button>
                    <button class="btn btn-primary" onclick="exportData()">
                        <i class="fas fa-download"></i> Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                    </button>
                </div>
            </div>
            <div class="blog-manage-grid" id="blogManageGrid">
                <!-- Blog posts will be loaded here -->
            </div>
        </section>

        <!-- Blog Create Section -->
        <section id="blog-create" class="content-section">
            <div class="section-header">
                <h2 id="createEditTitle">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà</h2>
                <p>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Gemini 2.0 Flash SEO</p>
            </div>

            <div class="content-editor">
                <div class="form-group">
                    <label for="postTitleTH">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢) *</label>
                    <input type="text" id="postTitleTH" class="form-control" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢">
                </div>

                <div class="form-group">
                    <label for="postTitleEN">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                    <input type="text" id="postTitleEN" class="form-control" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©">
                </div>

                <div class="form-group">
                    <label for="postSlug">URL Slug</label>
                    <input type="text" id="postSlug" class="form-control" placeholder="url-slug-will-auto-generate">
                    <small class="url-help-text">URL ‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°)</small>
                </div>

                <div class="form-group">
                    <label for="postExcerpt">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ *</label>
                    <textarea id="postExcerpt" class="form-control" rows="4" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 150-160 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)"></textarea>
                </div>

                <div class="form-group">
                    <label for="postContent">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</label>
                    <div class="editor-toolbar">
                        <button type="button" class="editor-btn" onclick="formatText('bold')">
                            <i class="fas fa-bold"></i>
                        </button>
                        <button type="button" class="editor-btn" onclick="formatText('italic')">
                            <i class="fas fa-italic"></i>
                        </button>
                        <button type="button" class="editor-btn" onclick="formatText('underline')">
                            <i class="fas fa-underline"></i>
                        </button>
                        <button type="button" class="editor-btn" onclick="insertHeading()">
                            <i class="fas fa-heading"></i>
                        </button>
                        <button type="button" class="editor-btn" onclick="insertList()">
                            <i class="fas fa-list"></i>
                        </button>
                        <button type="button" class="editor-btn" onclick="insertLink()">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>
                    <div id="postContent" contenteditable="true" class="content-editor-area-large">
                        <p>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...</p>
                    </div>
                </div>

                <div class="form-columns-grid">
                    <div class="form-group">
                        <label for="postCategory">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
                        <select id="postCategory" class="form-control">
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                            <option value="maintenance">‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤</option>
                            <option value="repair">‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°</option>
                            <option value="tips">‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</option>
                            <option value="news">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="postTags">‡πÅ‡∏ó‡πá‡∏Å (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ)</label>
                        <input type="text" id="postTags" class="form-control" placeholder="‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß, ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤, ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ">
                    </div>
                </div>

                <div class="form-group">
                    <label for="postAuthor">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</label>
                    <input type="text" id="postAuthor" class="form-control" value="‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á">
                </div>

                <!-- Article Idea Button -->
                <div class="article-idea-actions">
                    <button type="button" class="btn btn-gemini" onclick="showArticleIdeaModal()">
                        <i class="fas fa-lightbulb"></i> ‡∏Ñ‡∏¥‡∏î‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
                    </button>
                </div>

                <!-- SEO Section -->
                <div class="seo-optimization-section">
                    <h4 class="seo-section-title">
                        <i class="fas fa-robot"></i> üöÄ Gemini 2.0 Flash SEO Optimization
                    </h4>
                    
                    <div class="form-group">
                        <label for="metaTitle">Meta Title (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: 50-60 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</label>
                        <input type="text" id="metaTitle" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Google">
                        <div class="character-count" id="metaTitleCount">0/60 characters</div>
                    </div>

                    <div class="form-group">
                        <label for="metaDescription">Meta Description (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: 150-160 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</label>
                        <textarea id="metaDescription" class="form-control" rows="3" placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Google"></textarea>
                        <div class="character-count" id="metaDescriptionCount">0/160 characters</div>
                    </div>
                    
                    <div class="seo-columns-grid">
                        <div class="form-group">
                            <label for="focusKeyword">Focus Keyword</label>
                            <input type="text" id="focusKeyword" class="form-control" placeholder="‡∏Ñ‡∏≥‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°">
                        </div>

                        <div class="form-group">
                            <label for="schemaType">Schema Type</label>
                            <select id="schemaType" class="form-control">
                                <option value="Article">Article</option>
                                <option value="HowTo">How-To Guide</option>
                                <option value="FAQ">FAQ</option>
                                <option value="Review">Review</option>
                            </select>
                        </div>
                    </div>                </div>
                
                <!-- Flash AI Assistance Section -->
                <div class="flash-ai-section">
                    <h4 class="flash-ai-title">
                        <i class="fas fa-robot"></i> üöÄ Gemini 2.0 Flash AI Assistant
                    </h4>
                    <div class="flash-ai-actions">
                        <button type="button" class="btn btn-gemini" onclick="autoGenerateContent()">
                            <i class="fas fa-magic"></i> Flash AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
                        </button>
                        <button type="button" class="btn btn-outline-gemini" onclick="optimizeWithAI()">
                            <i class="fas fa-brain"></i> ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á SEO
                        </button>
                        <button type="button" class="btn btn-outline-gemini" onclick="generateFlashIdeas()">
                            <i class="fas fa-lightbulb"></i> ‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
                        </button>
                    </div>
                </div>
                
                <div class="form-actions-spaced">
                    <button type="button" class="btn btn-secondary" onclick="clearForm()">
                        <i class="fas fa-times"></i> ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
                    </button>
                    <button type="button" class="btn btn-primary" onclick="savePost()">
                        <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏â‡∏ö‡∏±‡∏ö‡∏£‡πà‡∏≤‡∏á
                    </button>
                    <button type="button" class="btn btn-success" onclick="publishPost()">
                        <i class="fas fa-upload"></i> ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
                    </button>
                </div>
            </div>
        </section>        <!-- SEO Tools Section -->
        <section id="seo-tools" class="content-section">
            <div class="section-header gemini-header">
                <h2 class="gemini-title"><i class="fas fa-rocket"></i> Gemini 2.0 Flash SEO Tools & Analytics</h2>
                <p>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ SEO ‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Google Gemini 2.0 Flash ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</p>
            </div>
              <!-- Gemini Status Card -->
            <div class="gemini-status-card">
                <div class="status-flex">
                    <div>
                        <h3 class="gemini-status-title">üöÄ Google Gemini 2.0 Flash Engine</h3>
                        <div id="gemini-status" class="engine-status disconnected">
                            <span id="gemini-status-dot" class="status-dot disconnected"></span>
                            <span id="gemini-status-text">Initializing Flash AI Engine...</span>
                            <div id="gemini-status-time" class="status-time"></div>
                        </div>
                    </div>
                    <div class="gemini-usage-container">
                        <div class="gemini-usage" id="geminiUsage">0/60</div>
                        <div class="gemini-usage-label">requests/minute</div>
                    </div>
                </div>
            </div>

            <!-- Analytics Dashboard - Real Links -->
            <div class="analytics-grid">
                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-chart-line"></i> Google Analytics Dashboard</h3>
                    </div>
                    <div class="analytics-body">
                        <div class="analytics-quick-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="monthlyVisitors">--</span>
                                <span class="stat-label">Monthly Visitors</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="avgSessionDuration">--</span>
                                <span class="stat-label">Avg Session</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="bounceRate">--</span>
                                <span class="stat-label">Bounce Rate</span>
                            </div>
                        </div>
                        <div class="analytics-actions">
                            <a href="https://analytics.google.com/" target="_blank" class="btn btn-primary">
                                <i class="fas fa-external-link-alt"></i> Open Analytics
                            </a>
                            <button class="btn btn-secondary" onclick="refreshAnalytics()">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>
                </div>

                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-search"></i> Google Search Console</h3>
                    </div>
                    <div class="analytics-body">
                        <div class="analytics-quick-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="totalClicks">--</span>
                                <span class="stat-label">Total Clicks</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="totalImpressions">--</span>
                                <span class="stat-label">Impressions</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="avgCTR">--</span>
                                <span class="stat-label">CTR</span>
                            </div>
                        </div>
                        <div class="analytics-actions">
                            <a href="https://search.google.com/search-console" target="_blank" class="btn btn-primary">
                                <i class="fas fa-external-link-alt"></i> Open Console
                            </a>
                            <button class="btn btn-secondary" onclick="refreshSearchConsole()">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEO Tools Grid -->
            <div class="seo-tools-grid">
                <!-- Gemini 2.0 Flash SEO Checker -->
                <div class="tool-card premium-card premium-border">
                    <div class="tool-header">
                        <div class="tool-icon">üéØ</div>
                        <h3>üöÄ Gemini 2.0 Flash SEO Checker</h3>
                    </div>
                    <p class="tool-description">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö SEO ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢ Google Gemini 2.0 Flash ‡∏û‡∏£‡πâ‡∏≠‡∏° Ultra-Fast Analysis</p>
                    <div class="tool-status">
                        <span class="status-badge gemini-badge">üöÄ GEMINI 2.0 FLASH READY</span>
                    </div>
                    <div class="tool-actions">
                        <select id="postSelectForSeo" class="tool-input">
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Flash Analysis</option>
                        </select>
                        <div class="btn-group">
                            <button class="btn btn-gemini" onclick="runGeminiSeoCheck()">
                                <i class="fas fa-rocket"></i> Flash Analysis
                            </button>
                            <button class="btn btn-primary" onclick="seoReport()">
                                <i class="fas fa-chart-bar"></i> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô SEO
                            </button>
                            <button class="btn btn-success" onclick="autoGenerateFlashContent()">
                                <i class="fas fa-magic"></i> Auto Generate
                            </button>
                        </div>
                    </div>
                </div><!-- Flash Keywords Research Tool -->
                <div class="tool-card premium-card premium-border">
                    <div class="tool-header">
                        <div class="tool-icon">üîç</div>
                        <h3>üöÄ Flash Keywords Research</h3>
                    </div>
                    <p class="tool-description">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ keywords ‡∏î‡πâ‡∏ß‡∏¢ Gemini 2.0 Flash ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏ö‡∏ö Real-time</p>
                    <div class="tool-status">
                        <span class="status-badge gemini-badge">üöÄ FLASH POWERED RESEARCH</span>
                    </div>
                    <div class="tool-actions">
                        <input type="text" id="keywordInput" placeholder="‡πÉ‡∏™‡πà keyword ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Flash ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå" class="tool-input">
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="flashKeywordResearch()">
                                <i class="fas fa-search"></i> Flash Analysis
                            </button>
                            <button class="btn btn-secondary" onclick="showKeywordTrends()">
                                <i class="fas fa-trending-up"></i> Keyword Trends
                            </button>
                        </div>
                    </div>
                </div>

                <!-- AI Backlinks Analyzer -->
                <div class="tool-card premium-card">
                    <div class="tool-header">
                        <div class="tool-icon">üîó</div>
                        <h3>AI Backlinks Analyzer</h3>
                    </div>
                    <p class="tool-description">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Backlinks ‡∏•‡πâ‡∏≥‡∏™‡∏°‡∏±‡∏¢ ‡∏û‡∏£‡πâ‡∏≠‡∏° Flash AI Strategy Recommendations</p>
                    <div class="tool-metrics">
                        <div class="metric-item">Total Backlinks <span>‚Äî</span></div>
                        <div class="metric-item">Referring Domains <span>‚Äî</span></div>
                    </div>
                    <div class="tool-actions">
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="analyzeBacklinks()">
                                <i class="fas fa-search"></i> ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Backlinks
                            </button>
                            <button class="btn btn-primary" onclick="generateBacklinks()">
                                <i class="fas fa-plus"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô Backlinks
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Schema Generator -->
                <div class="tool-card premium-card">
                    <div class="tool-header">
                        <div class="tool-icon">üó∫Ô∏è</div>
                        <h3>Schema Generator</h3>
                    </div>
                    <p class="tool-description">‡∏™‡∏£‡πâ‡∏≤‡∏á Schema Markup ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏û‡∏£‡πâ‡∏≠‡∏° Rich Snippets Preview</p>
                    <div class="tool-actions">
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="generateSchema()">
                                <i class="fas fa-code"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á Schema
                            </button>
                            <button class="btn btn-success" onclick="autoGenerateSchema()">
                                <i class="fas fa-magic"></i> Auto Generate
                            </button>
                        </div>
                    </div>
                </div>                <!-- Performance Monitor -->
                <div class="tool-card premium-card">
                    <div class="tool-header">
                        <div class="tool-icon">‚ö°</div>
                        <h3>Performance Monitor</h3>
                    </div>
                    <p class="tool-description">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÅ‡∏•‡∏∞ Core Web Vitals ‡πÅ‡∏ö‡∏ö Real-time</p>
                    <div class="tool-metrics">
                        <div class="metric-item">Page Speed <span id="pageSpeed">‚Äî</span></div>
                        <div class="metric-item">Core Web Vitals <span id="coreWebVitals">‚Äî</span></div>
                    </div>
                    <div class="tool-actions">
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="checkPerformance()">
                                <i class="fas fa-tachometer-alt"></i> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
                            </button>
                            <button class="btn btn-primary" onclick="getFlashTips()">
                                <i class="fas fa-lightbulb"></i> Flash Tips
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Smart Sitemap Generator -->
                <div class="tool-card premium-card">
                    <div class="tool-header">
                        <div class="tool-icon">üó∫Ô∏è</div>
                        <h3>Smart Sitemap Generator</h3>
                    </div>
                    <p class="tool-description">‡∏™‡∏£‡πâ‡∏≤‡∏á sitemap.xml ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏û‡∏£‡πâ‡∏≠‡∏° priority ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Flash AI</p>
                    <div class="tool-status">
                        <span class="status-badge success-badge">‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 6/7/2025</span>
                    </div>
                    <div class="tool-actions">
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="generateSitemap()">
                                <i class="fas fa-sync"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á Sitemap ‡πÉ‡∏´‡∏°‡πà
                            </button>
                            <button class="btn btn-primary" onclick="viewSitemap()">
                                <i class="fas fa-eye"></i> ‡∏î‡∏π Sitemap
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Flash Optimization Tips -->
                <div class="tool-card premium-card">
                    <div class="tool-header">
                        <div class="tool-icon">üí°</div>
                        <h3>Flash Optimization Tips</h3>
                    </div>
                    <p class="tool-description">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á SEO ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏à‡∏≤‡∏Å Gemini 2.0 Flash AI</p>
                    <div class="tool-actions">
                        <button class="btn btn-primary" onclick="getFlashTips()">
                            <i class="fas fa-bolt"></i> ‡∏î‡∏π Flash Tips
                        </button>
                    </div>
                </div>
            </div>

            <!-- External SEO Tools Section -->
            <div class="external-tools-section">
                <h3><i class="fas fa-external-link-alt"></i> External SEO Tools</h3>
                <div class="external-tools-grid">
                    <div class="external-tool-card">
                        <h4>PageSpeed Insights</h4>
                        <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏≤‡∏Å Google</p>
                        <a href="https://pagespeed.web.dev/" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏õ‡∏¥‡∏î PageSpeed
                        </a>
                    </div>
                    <div class="external-tool-card">
                        <h4>Schema Validator</h4>
                        <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö structured data markup</p>
                        <a href="https://validator.schema.org/" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏õ‡∏¥‡∏î Validator
                        </a>
                    </div>
                    <div class="external-tool-card">
                        <h4>Mobile-Friendly Test</h4>
                        <p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</p>
                        <a href="https://search.google.com/test/mobile-friendly" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏õ‡∏¥‡∏î Mobile Test
                        </a>
                    </div>
                    <div class="external-tool-card">
                        <h4>Google Trends</h4>
                        <p>‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞ keyword insights</p>
                        <a href="https://trends.google.com/" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏õ‡∏¥‡∏î Trends
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="content-section">
            <div class="section-header">
                <!-- Header text removed for cleaner UI -->
            </div>
            
            <div class="analytics-dashboard">
                <!-- System Metrics Overview -->
                <div class="analytics-overview">
                    <h3>‚ö° ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö</h3>
                    <div class="analytics-metrics-grid">
                        <div class="metric-card system-status">
                            <div class="metric-icon">üñ•Ô∏è</div>
                            <div class="metric-content">
                                <div class="metric-value" id="systemStatus">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö</div>
                            </div>
                        </div>
                        <div class="metric-card uptime-metric">
                            <div class="metric-icon">‚è±Ô∏è</div>
                            <div class="metric-content">
                                <div class="metric-value" id="uptime">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</div>
                            </div>
                        </div>
                        <div class="metric-card memory-metric">
                            <div class="metric-icon">üíæ</div>
                            <div class="metric-content">
                                <div class="metric-value" id="memoryUsage">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥</div>
                            </div>
                        </div>
                        <div class="metric-card database-metric">
                            <div class="metric-icon">üóÑÔ∏è</div>
                            <div class="metric-content">
                                <div class="metric-value" id="databaseStatus">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Analytics -->
                <div class="content-analytics-container">
                    <h3>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</h3>
                    <div class="analytics-controls">
                        <button class="btn btn-primary" onclick="refreshContentMetrics()">
                            <i class="fas fa-sync"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                        </button>
                        <button class="btn btn-secondary" onclick="exportContentReport()">
                            <i class="fas fa-download"></i> Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                        </button>
                    </div>
                    
                    <div class="content-metrics-grid">
                        <div class="metric-card content-total">
                            <div class="metric-icon">üìù</div>
                            <div class="metric-content">
                                <div class="metric-value" id="totalPosts">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                            </div>
                        </div>
                        <div class="metric-card content-published">
                            <div class="metric-icon">‚úÖ</div>
                            <div class="metric-content">
                                <div class="metric-value" id="publishedPosts">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà</div>
                            </div>
                        </div>
                        <div class="metric-card content-draft">
                            <div class="metric-icon">üìÑ</div>
                            <div class="metric-content">
                                <div class="metric-value" id="draftPosts">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏£‡πà‡∏≤‡∏á</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance & Cache Analytics -->
                <div class="performance-analytics-container">
                    <h3>üöÄ ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÅ‡∏Ñ‡∏ä</h3>
                    <div class="performance-metrics-grid">
                        <div class="metric-card cache-hit">
                            <div class="metric-icon">üéØ</div>
                            <div class="metric-content">
                                <div class="metric-value" id="cacheHitRate">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡∏ä (%)</div>
                            </div>
                        </div>
                        <div class="metric-card cache-size">
                            <div class="metric-icon">üì¶</div>
                            <div class="metric-content">
                                <div class="metric-value" id="cacheSize">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏Ñ‡∏ä</div>
                            </div>
                        </div>
                        <div class="metric-card cache-keys">
                            <div class="metric-icon">üîë</div>
                            <div class="metric-content">
                                <div class="metric-value" id="cacheKeys">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå‡πÅ‡∏Ñ‡∏ä</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Analytics -->
                <div class="ai-analytics-container">
                    <h3>ü§ñ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ AI ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</h3>
                    <div class="ai-metrics-grid">
                        <div class="metric-card ai-providers">
                            <div class="metric-icon">üîó</div>
                            <div class="metric-content">
                                <div class="metric-value" id="aiProviders">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">AI Providers ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</div>
                            </div>
                        </div>
                        <div class="metric-card ai-requests">
                            <div class="metric-icon">üìû</div>
                            <div class="metric-content">
                                <div class="metric-value" id="aiRequests">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏Ñ‡∏≥‡∏Ç‡∏≠ AI ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                            </div>
                        </div>
                        <div class="metric-card ai-errors">
                            <div class="metric-icon">‚ö†Ô∏è</div>
                            <div class="metric-content">
                                <div class="metric-value" id="aiErrors">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                <div class="metric-label">‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î AI</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- External Analytics Dashboard -->
                <div class="external-analytics-container">
                    <h3>üìà Analytics ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å</h3>
                    <div class="external-analytics-card">
                        <div class="analytics-header">
                            <div class="analytics-title">
                                <i class="fas fa-chart-bar"></i>
                                <span>Google Analytics Dashboard</span>
                            </div>
                            <div class="analytics-status">
                                <span class="status-indicator active"></span>
                                <span>‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß</span>
                            </div>
                        </div>
                        <div class="analytics-body">
                            <div class="analytics-quick-stats">
                                <div class="quick-stat">
                                    <div class="stat-icon">üë•</div>
                                    <div class="stat-content">
                                        <div class="stat-value" id="totalUsers">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                        <div class="stat-label">‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</div>
                                    </div>
                                </div>
                                <div class="quick-stat">
                                    <div class="stat-icon">üëÄ</div>
                                    <div class="stat-content">
                                        <div class="stat-value" id="pageViews">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                        <div class="stat-label">‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏´‡∏ô‡πâ‡∏≤</div>
                                    </div>
                                </div>
                                <div class="quick-stat">
                                    <div class="stat-icon">‚è∞</div>
                                    <div class="stat-content">
                                        <div class="stat-value" id="sessionDuration">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                                        <div class="stat-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô</div>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-actions">
                                <button class="btn btn-primary" onclick="refreshAnalyticsData()">
                                    <i class="fas fa-sync"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                </button>
                                <a href="https://analytics.google.com/" target="_blank" class="btn btn-secondary">
                                    <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏õ‡∏¥‡∏î Analytics
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Alerts -->
                <div class="analytics-alerts-container">
                    <h3>üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h3>
                    <div class="alerts-display" id="analyticsAlertsDisplay">
                        <div class="no-alerts-message">
                            <i class="fas fa-check-circle"></i>
                            <span>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Swarm Council Section -->
        <section id="ai-swarm" class="content-section">
            <div class="aiswarm-layout">
                <main class="aiswarm-main">
                    <div class="aiswarm-main-row">
                        <section class="aiswarm-tasks-panel aiswarm-panel">
                            <div class="aiswarm-panel-header"><i class="fas fa-tasks"></i> ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢ AI</div>
                            <div class="panel-content">
                                <table class="ai-providers-table ai-tasks-table">
                                    <thead>
                                        <tr>
                                            <th>‡∏á‡∏≤‡∏ô</th>
                                            <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                                            <th>‡∏õ‡∏∏‡πà‡∏°</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td data-type="task" data-importance="high">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</td>
                                            <td class="description-cell" data-type="task">AI ‡∏à‡∏∞‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏™‡∏≠‡∏ö‡∏ó‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</td>
                                            <td><button class="task-button review"><i class="fas fa-search"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</button></td>
                                        </tr>
                                        <tr>
                                            <td data-type="task" data-importance="high">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô</td>
                                            <td class="description-cell" data-type="task">AI ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà</td>
                                            <td><button class="task-button create"><i class="fas fa-magic"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</button></td>
                                        </tr>
                                        <tr>
                                            <td data-type="task" data-importance="high">‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á SEO</td>
                                            <td class="description-cell" data-type="task">AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û SEO ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</td>
                                            <td><button class="task-button seo"><i class="fas fa-chart-line"></i> ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á SEO</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>
                        <section class="aiswarm-status-panel aiswarm-panel">
                            <div class="aiswarm-panel-header"><i class="fas fa-chart-line"></i> ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</div>
                            <div class="panel-content">
                                <table class="ai-providers-table ai-status-table">
                                    <thead>
                                        <tr>
                                            <th>AI ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</th>
                                            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                            <th>‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td id="activeProvidersCount" data-type="status" data-status="active">0</td>
                                            <td data-type="status">‡∏ß‡πà‡∏≤‡∏á</td>
                                            <td id="currentTaskStatus" data-type="status">-</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>
                        <section class="aiswarm-providers-panel aiswarm-panel">
                            <div class="aiswarm-panel-header">
                                <i class="fas fa-robot"></i> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ AI Providers
                                <div style="margin-left: auto; display: flex; gap: 5px;">
                                    <button onclick="forceRenderAIProviders()" class="btn btn-small btn-primary" title="‡πÅ‡∏™‡∏î‡∏á AI Providers">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button onclick="refreshAISwarmProviders()" class="btn btn-small btn-secondary" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                    <button onclick="debugAISwarm()" class="btn btn-small btn-warning" title="Debug">
                                        <i class="fas fa-bug"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="panel-content">
                                <table class="ai-providers-table" id="aiProvidersTable">
                                    <thead>
                                        <tr>
                                            <th>‡πÇ‡∏°‡πÄ‡∏î‡∏• AI</th>
                                            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                            <th>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</th>
                                            <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç</th>
                                        </tr>
                                    </thead>
                                    <tbody id="aiProvidersTableBody">
                                        <!-- AI Providers rows will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </div>
                </main>
            </div>
        </section>

        <!-- AI Monitoring Section -->
        <section id="ai-monitoring" class="content-section">
            <div class="section-header">
                <!-- Header text removed for cleaner UI -->
            </div>

            <!-- Performance Overview -->
            <div class="performance-overview">
                <h3>‚ö° ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</h3>
                <div class="performance-metrics-grid">
                    <div class="metric-card response-time">
                        <div class="metric-icon">‚ö°</div>
                        <div class="metric-content">
                            <div class="metric-value" id="avgResponseTimeDisplay">--</div>
                            <div class="metric-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (ms)</div>
                        </div>
                    </div>
                    <div class="metric-card success-rate">
                        <div class="metric-icon">‚úÖ</div>
                        <div class="metric-content">
                            <div class="metric-value" id="overallSuccessRateDisplay">--</div>
                            <div class="metric-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (%)</div>
                        </div>
                    </div>
                    <div class="metric-card quality-score">
                        <div class="metric-icon">üéØ</div>
                        <div class="metric-content">
                            <div class="metric-value" id="avgQualityScoreDisplay">--</div>
                            <div class="metric-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                        </div>
                    </div>
                    <div class="metric-card uptime">
                        <div class="metric-icon">üîÑ</div>
                        <div class="metric-content">
                            <div class="metric-value" id="uptimeDisplay">--</div>
                            <div class="metric-label">Uptime (%)</div>
                        </div>
                    </div>
                    <div class="metric-card total-cost">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-content">
                            <div class="metric-value" id="totalCostDisplay">--</div>
                            <div class="metric-label">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° (‡∏ø)</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Provider Performance Table -->
            <div class="provider-performance-container">
                <h3>üîç ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÅ‡∏ï‡πà‡∏•‡∏∞ Provider</h3>
                <div class="performance-controls">
                    <button class="btn btn-primary" onclick="refreshAllProviderMetrics()">
                        <i class="fas fa-sync"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                    </button>
                    <button class="btn btn-secondary" onclick="exportPerformanceReport()">
                        <i class="fas fa-download"></i> Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                
                <div class="performance-table-container">
                    <table class="performance-table" id="providerPerformanceTable">
                        <thead>
                            <tr>
                                <th>Provider</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠</th>
                                <th>‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</th>
                                <th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</th>
                                <th>Uptime</th>
                                <th>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏ø)</th>
                                <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="providerPerformanceTableBody">
                            <!-- Performance data will be loaded dynamically -->
                            <tr class="loading-row">
                                <td colspan="9" class="loading-cell">
                                    <i class="fas fa-spinner fa-spin"></i> Loading provider performance data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Performance Alerts -->
            <div class="performance-alerts-container">
                <h3>üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</h3>
                <div class="alerts-display" id="performanceAlertsDisplay">
                    <div class="no-alerts-message">
                        <i class="fas fa-check-circle"></i>
                        <span>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</span>
                    </div>
                </div>
            </div>

            <!-- AI Conversation Logs Panel (relocated from AI Swarm Council) -->
            <div class="ai-logs-panel monitoring-logs">
                <div class="panel-header logs">
                    <h3 class="panel-title">
                        <i class="fas fa-comments"></i>
                        AI Conversation Logs & Real-time Monitoring
                    </h3>
                </div>
                <div class="panel-content">
                    <div class="logs-container">
                        <div class="logs-header">
                            <h4 class="logs-title">
                                <i class="fas fa-terminal"></i>
                                ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á AI ‡πÅ‡∏ö‡∏ö Real-time
                            </h4>
                            <div class="logs-controls">
                                <button class="logs-btn save" onclick="saveConversationLogs()" id="saveLogsBtn">
                                    <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                </button>
                                <button class="logs-btn export" onclick="exportConversationLogs()" id="exportLogsBtn">
                                    <i class="fas fa-download"></i> Export
                                </button>
                                <button class="logs-btn clear" onclick="clearConversationLogs()" id="clearLogsBtn">
                                    <i class="fas fa-trash"></i> ‡∏•‡πâ‡∏≤‡∏á
                                </button>
                                <button class="logs-btn refresh" onclick="refreshMonitoringLogs()" id="refreshLogsBtn">
                                    <i class="fas fa-sync-alt"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                                </button>
                            </div>
                        </div>
                        <div class="logs-feed" id="aiConversationLogs">
                            <div class="logs-empty">
                                <div class="logs-empty-icon">üìä</div>
                                <div class="logs-empty-text">‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• AI Monitoring</div>
                                <div class="logs-empty-subtext">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á AI ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Database Migration Section -->
        <section id="migration" class="content-section">
            <div class="section-header">
                <!-- Header text removed for cleaner UI -->
            </div>
            
            <!-- Migration Status Overview -->
            <div class="migration-overview">
                <h3>‚ö° ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
                <div class="migration-metrics-grid">
                    <div class="metric-card migration-status">
                        <div class="metric-icon">üóÑÔ∏è</div>
                        <div class="metric-content">
                            <div class="metric-value" id="migration-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</div>
                            <div class="metric-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                        </div>
                    </div>
                    <div class="metric-card pending-migrations">
                        <div class="metric-icon">‚è≥</div>
                        <div class="metric-content">
                            <div class="metric-value" id="migration-results">--</div>
                            <div class="metric-label">Migration ‡∏ó‡∏µ‡πà‡∏£‡∏≠</div>
                        </div>
                    </div>
                    <div class="metric-card applied-migrations">
                        <div class="metric-icon">‚úÖ</div>
                        <div class="metric-content">
                            <div class="metric-value" id="appliedMigrationsDisplay">--</div>
                            <div class="metric-label">Migration ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div>
                        </div>
                    </div>
                    <div class="metric-card last-migration">
                        <div class="metric-icon">ÔøΩ</div>
                        <div class="metric-content">
                            <div class="metric-value" id="lastMigrationDisplay">--</div>
                            <div class="metric-label">Migration ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Migration Actions Panel -->
            <div class="migration-actions-container">
                <h3>üöÄ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Migration</h3>
                <div class="migration-controls">
                    <button class="btn btn-primary" onclick="refreshMigrationStatus()">
                        <i class="fas fa-sync"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                    </button>
                    <button class="btn btn-secondary" onclick="exportMigrationReport()">
                        <i class="fas fa-download"></i> Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                
                <div class="migration-action-buttons">
                    <button class="btn btn-success migration-action-btn" onclick="runPendingMigrations()">
                        <i class="fas fa-play"></i>
                        <span>‡∏£‡∏±‡∏ô Migration ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                        <small>Apply all pending migrations</small>
                    </button>
                    <button class="btn btn-warning migration-action-btn" onclick="rollbackLastMigration()">
                        <i class="fas fa-undo"></i>
                        <span>Rollback Migration ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</span>
                        <small>Revert the last applied migration</small>
                    </button>
                    <button class="btn btn-info migration-action-btn" onclick="checkDatabaseHealth()">
                        <i class="fas fa-heartbeat"></i>
                        <span>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
                        <small>Run database health check</small>
                    </button>
                </div>

                <div class="migration-warning-panel">
                    <div class="warning-content">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>
                            <strong>‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:</strong> ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ Migration ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                            <br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Migration List Table -->
            <div class="migration-list-container">
                <h3>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Migration</h3>
                <div class="migration-table-container">
                    <table class="migration-table" id="migrationListTable">
                        <thead>
                            <tr>
                                <th>Migration ID</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th>Applied At</th>
                                <th>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</th>
                                <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="migrationListTableBody">
                            <!-- Migration data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Migration Console Output -->
            <div class="migration-console-container">
                <h3>üñ•Ô∏è Console Output & Logs</h3>
                <div class="console-header">
                    <div class="console-title">
                        <i class="fas fa-terminal"></i>
                        <span>Migration Command Output</span>
                    </div>
                    <div class="console-controls">
                        <button class="console-btn clear" onclick="clearMigrationConsole()">
                            <i class="fas fa-eraser"></i> ‡∏•‡πâ‡∏≤‡∏á Console
                        </button>
                        <button class="console-btn export" onclick="exportConsoleLogs()">
                            <i class="fas fa-download"></i> Export Logs
                        </button>
                    </div>
                </div>
                <div class="console-output" id="migration-logs">
                    <div class="console-welcome">
                        <div class="console-welcome-icon">üîß</div>
                        <div class="console-welcome-text">Migration Console ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                        <div class="console-welcome-subtext">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Migration ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
                    </div>
                </div>

                <!-- Additional containers needed by JavaScript -->
                <div id="migration-status-card" style="display: none;"></div>
                <div id="migration-results-card" style="display: none;"></div>
                <div id="migration-logs-card" style="display: none;"></div>
            </div>

            <!-- Migration Alerts -->
            <div class="migration-alerts-container">
                <h3>üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Migration</h3>
                <div class="alerts-display" id="migrationAlertsDisplay">
                    <div class="no-alerts-message">
                        <i class="fas fa-check-circle"></i>
                        <span>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô - ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Security Dashboard Section -->
        <section id="security-dashboard" class="content-section">
            <div class="dashboard-header">
                <h2 class="dashboard-title">üõ°Ô∏è Security Dashboard</h2>
                <button class="refresh-btn" onclick="refreshSecurityDashboard()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <!-- Security Metrics Cards -->
            <div class="security-metrics-grid">
                <div class="security-metric-card" data-metric="failed-logins">
                    <div class="metric-value">--</div>
                    <div class="metric-label">Failed Logins Today</div>
                </div>
                
                <div class="security-metric-card" data-metric="blocked-ips">
                    <div class="metric-value">--</div>
                    <div class="metric-label">Blocked IPs</div>
                </div>
                
                <div class="security-metric-card" data-metric="rate-limited">
                    <div class="metric-value">--</div>
                    <div class="metric-label">Rate Limited Today</div>
                </div>
                
                <div class="security-metric-card" data-metric="security-alerts">
                    <div class="metric-value">--</div>
                    <div class="metric-label">Security Alerts</div>
                </div>
            </div>
            
            <!-- Recent Security Alerts -->
            <div class="security-alerts-container">
                <h3>‚ö†Ô∏è Recent Security Alerts</h3>
                <div id="security-alerts-list">
                    <p class="no-alerts">Loading security alerts...</p>
                </div>
            </div>
            
            <!-- System Status -->
            <div class="system-status-container">
                <h3>üè• System Status</h3>
                <div id="system-status">
                    <div class="status-item">
                        <span class="status-label">System:</span>
                        <span class="status-value">Loading...</span>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-last-updated">Last updated: --</div>
        </section>

        <!-- Authentication Logs Section -->
        <section id="auth-logs" class="content-section">
            <div class="dashboard-header">
                <h2 class="dashboard-title">üîí Authentication Logs</h2>
                <button class="refresh-btn" onclick="loadAuthLogs()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <div class="auth-logs-container">
                <table class="auth-logs-table" id="auth-logs-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Event</th>
                            <th>Username</th>
                            <th>IP Address</th>
                            <th>Status</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="loading-row">
                            <td colspan="6">
                                <i class="fas fa-spinner fa-spin"></i> Loading authentication logs...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Blocked IPs Section -->
        <section id="blocked-ips" class="content-section">
            <div class="dashboard-header">
                <h2 class="dashboard-title">üö´ Blocked IPs Management</h2>
                <button class="refresh-btn" onclick="loadBlockedIPs()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <div class="blocked-ips-container">
                <table class="blocked-ips-table" id="blocked-ips-table">
                    <thead>
                        <tr>
                            <th>IP Address</th>
                            <th>Reason</th>
                            <th>Blocked At</th>
                            <th>Attempts</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="loading-row">
                            <td colspan="5">
                                <i class="fas fa-spinner fa-spin"></i> Loading blocked IPs...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Security Alerts Section -->
        <section id="security-alerts" class="content-section">
            <div class="dashboard-header">
                <h2 class="dashboard-title">‚ö†Ô∏è Security Alerts</h2>
                <button class="refresh-btn" onclick="refreshSecurityDashboard()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <div class="security-alerts-container">
                <div id="security-alerts-list">
                    <p class="no-alerts">Loading security alerts...</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <span id="notificationText">Notification message here</span>
    </div>

    <!-- Article Idea Modal -->
    <div id="articleIdeaModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3><i class="fas fa-lightbulb"></i> ‡∏Ñ‡∏¥‡∏î‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</h3>
                <button class="modal-close" onclick="closeArticleIdeaModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="articleIdeaInput">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£?</label>
                    <input type="text" id="articleIdeaInput" class="form-control" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeArticleIdeaModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn btn-gemini" onclick="generateArticleIdea()">
                    <i class="fas fa-magic"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
                </button>
            </div>
        </div>
    </div>

    <!-- Backend-Managed AI Settings Modal -->
    <div id="simpleAIModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:99999;">
        <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:30px; border-radius:15px; max-width:700px; width:90%; max-height:80%; overflow-y:auto;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; border-bottom:2px solid #4285f4; padding-bottom:15px;">
                <h2 style="margin:0; color:#4285f4;">‚ö° AI Provider Status</h2>
                <button id="closeSimpleModal" style="background:none; border:none; font-size:24px; cursor:pointer; color:#666;">&times;</button>
            </div>
            
            <div style="background:#e8f4fd; padding:15px; border-radius:8px; margin-bottom:20px; border-left:4px solid #4285f4;">
                <p style="margin:0; color:#1565c0; font-weight:500;">
                    üîê <strong>Backend-Managed API Keys</strong><br>
                    API keys are securely stored on the server. No configuration needed - just check the status below.
                </p>
            </div>
            
            <div id="backendProviderStatus" style="display: flex; flex-direction: column; gap: 15px;">
                <!-- Loading state -->
                <div class="loading-providers" style="text-align:center; padding:40px; color:#666;">
                    <i class="fas fa-spinner fa-spin" style="font-size:24px; margin-bottom:10px;"></i>
                    <p>Loading provider status from backend...</p>
                </div>
            </div>
            
            <div style="margin-top:20px; padding-top:15px; border-top:1px solid #e0e0e0; text-align:right;">
                <button id="cancelSimpleModal" style="background:#6c757d; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; margin-right:10px;">Close</button>
                <button id="refreshBackendStatus" style="background:#4285f4; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer;">üîÑ Refresh Status</button>
            </div>
        </div>
    </div>
    
    <!-- Removed Old Enterprise AI Settings Modal -->
    <!-- Original AI Settings Modal (Keep for compatibility) -->
    <!-- Modern AI Settings Modal -->
    <div id="aiSettingsModal" class="ai-settings-modal ai-modal-hidden">
      <div class="ai-settings-modal-content">
        <!-- Header -->
        <div class="ai-settings-header">
          <h2 class="ai-settings-title">AI Settings</h2>
          <button class="ai-settings-close" onclick="closeAISettingsModal()" aria-label="Close">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- Tab Navigation -->
        <div class="ai-settings-tabs">
          <button class="ai-settings-tab active" data-tab="general" onclick="switchAITab('general')">
            General
          </button>
          <button class="ai-settings-tab" data-tab="models" onclick="switchAITab('models')">
            Models
          </button>
          <button class="ai-settings-tab" data-tab="performance" onclick="switchAITab('performance')">
            Performance
          </button>
          <button class="ai-settings-tab" data-tab="security" onclick="switchAITab('security')">
            Security
          </button>
          <button class="ai-settings-tab" data-tab="advanced" onclick="switchAITab('advanced')">
            Advanced
          </button>
        </div>

        <!-- Content Area -->
        <div class="ai-settings-content">
          <!-- General Tab -->
          <div class="ai-tab-content active" id="general-tab">
            <div class="ai-card-grid">
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîÑ Service Status</h3>
                  <span class="ai-card-badge">Live</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">AI Service Mode</label>
                    <select class="ai-form-input">
                      <option>Production</option>
                      <option>Development</option>
                      <option>Testing</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Request Timeout (seconds)</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="10" max="120" value="30" id="requestTimeout">
                      <span id="timeoutValue">30s</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üìä Usage Overview</h3>
                  <span class="ai-card-badge">Today</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">2,547</div>
                      <div class="ai-stat-label">API Calls</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">98.2%</div>
                      <div class="ai-stat-label">Success Rate</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Models Tab -->
          <div class="ai-tab-content" id="models-tab">
            <div class="ai-card-grid">
              <!-- AI Models Configuration -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">ü§ñ OpenAI Models</h3>
                  <span class="ai-card-badge" id="openai-badge">Not Connected</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">API Key</label>
                    <input type="password" id="openaiApiKey" class="ai-form-input" placeholder="sk-..." autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Default Model</label>
                    <select class="ai-form-input" id="openaiModel">
                      <option value="gpt-4">GPT-4</option>
                      <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                      <option value="gpt-4-turbo">GPT-4 Turbo</option>
                    </select>
                  </div>
                  <button class="ai-button" onclick="testProvider('openai')">
                    <i class="fas fa-plug"></i> Test Connection
                  </button>
                </div>
              </div>

              <!-- Claude Models -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üß† Claude Models</h3>
                  <span class="ai-card-badge" id="claude-badge">Not Connected</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">API Key</label>
                    <input type="password" id="claudeApiKey" class="ai-form-input" placeholder="sk-ant-..." autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Default Model</label>
                    <select class="ai-form-input" id="claudeModel">
                      <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet</option>
                      <option value="claude-3-opus-20240229">Claude 3 Opus</option>
                      <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
                    </select>
                  </div>
                  <button class="ai-button" onclick="testProvider('claude')">
                    <i class="fas fa-plug"></i> Test Connection
                  </button>
                </div>
              </div>

              <!-- Google Gemini Models -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">‚ú® Gemini Models</h3>
                  <span class="ai-card-badge" id="gemini-badge">Not Connected</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">API Key</label>
                    <input type="password" id="geminiApiKey" class="ai-form-input" placeholder="AIza..." autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Default Model</label>
                    <select class="ai-form-input" id="geminiModel">
                      <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash</option>
                      <option value="gemini-pro">Gemini Pro</option>
                      <option value="gemini-pro-vision">Gemini Pro Vision</option>
                    </select>
                  </div>
                  <button class="ai-button" onclick="testProvider('gemini')">
                    <i class="fas fa-plug"></i> Test Connection
                  </button>
                </div>
              </div>

              <!-- Model Settings -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">‚öôÔ∏è Model Settings</h3>
                  <span class="ai-card-badge">Global</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Temperature</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="0" max="2" step="0.1" value="0.7" id="temperature">
                      <span id="temperatureValue">0.7</span>
                    </div>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Max Tokens</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="100" max="4000" value="2000" id="maxTokens">
                      <span id="tokensValue">2000</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- DeepSeek Models -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üß† DeepSeek Models</h3>
                  <span class="ai-card-badge">Optional</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">DeepSeek API Key</label>
                    <input type="password" id="deepseekApiKey" class="ai-form-input" placeholder="sk-..." autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Available Models</label>
                    <select class="ai-form-input" id="deepseekModel">
                      <option value="deepseek-chat">DeepSeek-Chat</option>
                      <option value="deepseek-coder">DeepSeek-Coder</option>
                      <option value="deepseek-math">DeepSeek-Math</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <div class="ai-form-actions">
                      <button class="ai-button secondary" onclick="testProvider('deepseek')">
                        <i class="fas fa-plug"></i> Test Connection
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- ChindaX Models -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üêâ ChindaX Models</h3>
                  <span class="ai-card-badge">Optional</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">ChindaX API Key</label>
                    <input type="password" id="chindaxApiKey" class="ai-form-input" placeholder="Enter API Key" autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">ChindaX JWT Token</label>
                    <input type="password" id="chindaxJwtToken" class="ai-form-input" placeholder="Enter JWT Token" autocomplete="off">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Available Models</label>
                    <select class="ai-form-input" id="chindaxModel">
                      <option value="chindax-gpt">ChindaX-GPT</option>
                      <option value="chindax-pro">ChindaX-Pro</option>
                      <option value="chindax-turbo">ChindaX-Turbo</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <div class="ai-form-actions">
                      <button class="ai-button secondary" onclick="testProvider('chindax')">
                        <i class="fas fa-plug"></i> Test Connection
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Connection Status -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üü¢ Connection Status</h3>
                  <span class="ai-card-badge">Live</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary" id="connectedModels">5</div>
                      <div class="ai-stat-label">Available Providers</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success" id="totalRequests">12,547</div>
                      <div class="ai-stat-label">Total Requests</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Performance Tab -->
          <div class="ai-tab-content" id="performance-tab">
            <div class="ai-card-grid">
              <!-- System Performance -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üìä System Performance</h3>
                  <span class="ai-card-badge">Live</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">847ms</div>
                      <div class="ai-stat-label">Avg Response Time</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">98.7%</div>
                      <div class="ai-stat-label">Success Rate</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Request Analytics -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üìà Request Analytics</h3>
                  <span class="ai-card-badge">Today</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">15,247</div>
                      <div class="ai-stat-label">Total Requests</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">87.4%</div>
                      <div class="ai-stat-label">Cache Hit Rate</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Performance Settings -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">‚ö° Performance Settings</h3>
                  <span class="ai-card-badge">Configure</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Cache Duration (minutes)</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="5" max="60" value="15" id="cacheDuration">
                      <span id="cacheValue">15 min</span>
                    </div>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Max Concurrent Requests</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="1" max="20" value="5" id="maxRequests">
                      <span id="requestsValue">5</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Provider Performance -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üöÄ Provider Performance</h3>
                  <span class="ai-card-badge">24h</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Best Performing Provider</label>
                    <select class="ai-form-input" disabled>
                      <option>Claude 3.5 Sonnet - 98.9% Success</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Fastest Response</label>
                    <select class="ai-form-input" disabled>
                      <option>OpenAI GPT-4 - 542ms Average</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Optimization Features -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üéõÔ∏è Optimization</h3>
                  <span class="ai-card-badge">Auto</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Request Caching</label>
                    <select class="ai-form-input">
                      <option value="enabled" selected>Enabled</option>
                      <option value="disabled">Disabled</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Load Balancing</label>
                    <select class="ai-form-input">
                      <option value="enabled" selected>Enabled</option>
                      <option value="disabled">Disabled</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- System Health -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üíì System Health</h3>
                  <span class="ai-card-badge">Excellent</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">23%</div>
                      <div class="ai-stat-label">CPU Usage</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">47%</div>
                      <div class="ai-stat-label">Memory Usage</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Security Tab -->
          <div class="ai-tab-content" id="security-tab">
            <div class="ai-card-grid">
              <!-- Security Overview -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üõ°Ô∏è Security Score</h3>
                  <span class="ai-card-badge">94/100</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">94</div>
                      <div class="ai-stat-label">Security Score</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">5</div>
                      <div class="ai-stat-label">API Keys Active</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Threat Detection -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üö® Threat Detection</h3>
                  <span class="ai-card-badge">Online</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">0</div>
                      <div class="ai-stat-label">Active Threats</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">247</div>
                      <div class="ai-stat-label">Blocked Attempts</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Access Control -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîê Access Control</h3>
                  <span class="ai-card-badge">Active</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Rate Limiting (requests/minute)</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="10" max="1000" value="100" id="rateLimit">
                      <span id="rateLimitValue">100</span>
                    </div>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">API Key Rotation</label>
                    <select class="ai-form-input">
                      <option>Monthly</option>
                      <option>Quarterly</option>
                      <option>Yearly</option>
                      <option>Manual</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Authentication Security -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîí Authentication</h3>
                  <span class="ai-card-badge">Enhanced</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Session Timeout (minutes)</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="5" max="120" value="30" id="sessionTimeout">
                      <span id="sessionTimeoutValue">30</span>
                    </div>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Failed Login Attempts</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="3" max="10" value="5" id="maxLoginAttempts">
                      <span id="maxLoginAttemptsValue">5</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Encryption & Data Protection -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîê Encryption</h3>
                  <span class="ai-card-badge">AES-256</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">256-bit</div>
                      <div class="ai-stat-label">Encryption Level</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">100%</div>
                      <div class="ai-stat-label">Data Encrypted</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Security Monitoring -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üìä Security Monitoring</h3>
                  <span class="ai-card-badge">Real-time</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Monitoring Level</label>
                    <select class="ai-form-input" id="monitoringLevel">
                      <option>Basic</option>
                      <option>Standard</option>
                      <option selected>Advanced</option>
                      <option>Paranoid</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Alert Threshold</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="1" max="10" value="3" id="alertThreshold">
                      <span id="alertThresholdValue">3</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Advanced Tab -->
          <div class="ai-tab-content" id="advanced-tab">
            <div class="ai-card-grid">
              <!-- System Health -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üíª System Health</h3>
                  <span class="ai-card-badge">Excellent</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">99.8%</div>
                      <div class="ai-stat-label">Uptime</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">23%</div>
                      <div class="ai-stat-label">CPU Usage</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- AI Model Parameters -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üéõÔ∏è Model Parameters</h3>
                  <span class="ai-card-badge">Fine-tune</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Temperature (Creativity)</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="0" max="2" step="0.1" value="0.7" id="temperature">
                      <span id="temperatureValue">0.7</span>
                    </div>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Max Tokens</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="100" max="4000" value="1000" id="maxTokens">
                      <span id="maxTokensValue">1000</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Debug & Logging -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîß Debug Mode</h3>
                  <span class="ai-card-badge">Development</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Logging Level</label>
                    <select class="ai-form-input" id="loggingLevel">
                      <option value="error">Error</option>
                      <option value="warn">Warning</option>
                      <option value="info" selected>Info</option>
                      <option value="debug">Debug</option>
                      <option value="verbose">Verbose</option>
                    </select>
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Debug Sessions Active</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="0" max="10" value="3" id="debugSessions">
                      <span id="debugSessionsValue">3</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Cache Management -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üíæ Cache Management</h3>
                  <span class="ai-card-badge">94.2%</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-stats-grid">
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-success">94.2%</div>
                      <div class="ai-stat-label">Hit Rate</div>
                    </div>
                    <div class="ai-stat-item">
                      <div class="ai-stat-value-primary">2.3GB</div>
                      <div class="ai-stat-label">Cache Size</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Webhook Configuration -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîó Webhooks</h3>
                  <span class="ai-card-badge">Active</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <label class="ai-form-label">Webhook URL</label>
                    <input type="url" class="ai-form-input" placeholder="https://api.example.com/webhook" id="webhookUrl">
                  </div>
                  <div class="ai-form-group">
                    <label class="ai-form-label">Retry Attempts</label>
                    <div class="ai-slider-container">
                      <input type="range" class="ai-slider" min="1" max="10" value="3" id="webhookRetries">
                      <span id="webhookRetriesValue">3</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- System Maintenance -->
              <div class="ai-card">
                <div class="ai-card-header">
                  <h3 class="ai-card-title">üîÑ System Maintenance</h3>
                  <span class="ai-card-badge">Ready</span>
                </div>
                <div class="ai-card-content">
                  <div class="ai-form-group">
                    <button class="ai-button secondary" onclick="clearCache()">
                      <i class="fas fa-trash"></i> Clear Cache
                    </button>
                    <button class="ai-button secondary" onclick="resetSettings()">
                      <i class="fas fa-undo"></i> Reset to Defaults
                    </button>
                  </div>
                  <div class="ai-form-group">
                    <button class="ai-button" onclick="exportSettings()">
                      <i class="fas fa-download"></i> Export Settings
                    </button>
                    <button class="ai-button" onclick="runDiagnostics()">
                      <i class="fas fa-stethoscope"></i> Run Diagnostics
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="ai-settings-footer">
          <div class="ai-footer-text">
            Last saved: <span id="lastSaved">Never</span>
          </div>
          <div class="ai-settings-actions">
            <button class="ai-button secondary" onclick="closeAISettingsModal()">
              <i class="fas fa-times"></i> Cancel
            </button>
            <button class="ai-button" onclick="saveAISettings()">
              <i class="fas fa-save"></i> Save Settings
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Original AI Settings Modal (Keep for compatibility) -->
    <!-- Emergency debug fix for showSection ReferenceError -->
    <!-- Production-ready JavaScript -->
    <script src="api-helper.js?v=2&t=1752240000" onload="console.log('‚úÖ api-helper.js v2 loaded')" onerror="console.error('‚ùå Failed to load api-helper.js')"></script>
    <script src="main-production.js?v=2&t=1752240000" onload="console.log('‚úÖ main-production.js v2 loaded'); console.log('showSection type:', typeof window.showSection);" onerror="console.error('‚ùå Failed to load main-production.js')"></script>
    
    <!-- Complete Modal Conflict Fix -->
    <script>
        // ‚ö° Helper function to get auth token with Supabase support
        async function getAuthToken() {
            // Try to get from main-production.js global scope
            if (window.authToken) {
                return window.authToken;
            }
            
            // Try localStorage first
            const localToken = localStorage.getItem('jwtToken') || sessionStorage.getItem('authToken');
            if (localToken) {
                return localToken;
            }
            
            // Last resort: get Supabase token for migration endpoints
            try {
                const response = await fetch(`${window.rbckConfig?.apiBase || 'https://rbck.onrender.com/api'}/auth/get-supabase-token`, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.success && result.supabaseKey) {
                        return result.supabaseKey;
                    }
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è Could not get Supabase token:', error.message);
            }
            
            return '';
        }
        
        // CRITICAL FIX: Remove the conflicting overlay click handler from main-production.js
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                console.log('üîß [CRITICAL FIX] Completely removing conflicting modal handlers...');
                
                const aiSettingsModal = document.getElementById('aiSettingsModal');
                if (aiSettingsModal) {
                    // STEP 1: Clone the modal element to remove ALL event listeners
                    const parent = aiSettingsModal.parentNode;
                    const newModal = aiSettingsModal.cloneNode(true);
                    parent.replaceChild(newModal, aiSettingsModal);
                    
                    console.log('üîß [CRITICAL FIX] Modal element completely replaced');
                    
                    // STEP 2: Add ONLY our custom handlers
                    const modalContent = newModal.querySelector('.ai-modal');
                    
                    // Prevent clicks inside modal content from closing modal
                    if (modalContent) {
                        modalContent.addEventListener('click', function(event) {
                            event.stopPropagation();
                            console.log('üîß [CRITICAL FIX] Modal content clicked - prevented closure');
                        });
                    }
                    
                    // STEP 3: Add overlay click handler that ONLY closes on overlay clicks
                    newModal.addEventListener('click', function(event) {
                        console.log('üîß [CRITICAL FIX] Modal overlay clicked', event.target === newModal);
                        if (event.target === newModal) {
                            console.log('üîß [CRITICAL FIX] Closing modal via overlay click');
                            closeAISettingsModal();
                        }
                    });
                    
                    // STEP 4: Update close button handler
                    const closeBtn = newModal.querySelector('#closeAiSettingsModal');
                    if (closeBtn) {
                        closeBtn.onclick = function(event) {
                            event.preventDefault();
                            event.stopPropagation();
                            console.log('üîß [CRITICAL FIX] Closing modal via close button');
                            closeAISettingsModal();
                        };
                    }
                    
                    console.log('‚úÖ [CRITICAL FIX] All handlers properly configured');
                } else {
                    console.error('‚ùå [CRITICAL FIX] Modal not found!');
                }
            }, 2000); // Increased delay to ensure main-production.js is fully loaded
        });
    </script>
    
    <!-- AI Settings Modal Functions -->
    <script>
        // switchAITab function is now defined in main-production.js to ensure proper loading order
        
        // Initialize tab switching when modal opens
        window.initializeAISettingsTabs = function() {
            console.log('üîß [AI SETTINGS] Initializing tab functionality...');
            
            // Verify all tab content exists
            const expectedTabs = ['general', 'models', 'performance', 'security', 'advanced'];
            expectedTabs.forEach(tabName => {
                const tabContent = document.getElementById(`${tabName}-tab`);
                const tabButton = document.querySelector(`[data-tab="${tabName}"]`);
                console.log(`üîç [DEBUG] Checking tab "${tabName}":`, {
                    content: tabContent ? 'Found' : 'Missing',
                    button: tabButton ? 'Found' : 'Missing',
                    contentVisible: tabContent ? tabContent.offsetHeight > 0 : 'N/A',
                    contentDisplay: tabContent ? window.getComputedStyle(tabContent).display : 'N/A',
                    contentVisibility: tabContent ? window.getComputedStyle(tabContent).visibility : 'N/A'
                });
            });
            
            const tabButtons = document.querySelectorAll('.tab-button');
            console.log(`üîß [AI SETTINGS] Found ${tabButtons.length} tab buttons`);
            
            // Remove any existing event listeners to prevent duplicates
            tabButtons.forEach(button => {
                // Clone the button to remove all event listeners
                const newButton = button.cloneNode(true);
                button.parentNode.replaceChild(newButton, button);
            });
            
            // Add fresh event listeners
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabName = this.getAttribute('data-tab');
                    console.log('üñ±Ô∏è [AI SETTINGS] Tab button clicked:', tabName);
                    if (typeof window.switchAITab === 'function') {
                        window.switchAITab(tabName);
                    } else {
                        console.error('‚ùå [AI SETTINGS] switchAITab function not available');
                    }
                });
            });
            
            // Ensure General tab is active by default
            if (typeof window.switchAITab === 'function') {
                window.switchAITab('general');
            } else {
                console.log('üîÑ [AI SETTINGS] switchAITab not yet available, general tab will be active by default');
            }
            
            // Load real-time data for General tab
            if (typeof loadGeneralTabData === 'function') {
                loadGeneralTabData();
            }
            
            console.log('‚úÖ [AI SETTINGS] Tab functionality initialized');
        };
        
        // Debug function to test all tabs
        window.debugAITabs = function() {
            console.log('üß™ [DEBUG] Testing all AI Settings tabs...');
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            
            tabs.forEach((tabName, index) => {
                setTimeout(() => {
                    console.log(`üß™ [DEBUG] Testing ${tabName} tab...`);
                    window.switchAITab(tabName);
                    
                    const content = document.getElementById(`${tabName}-tab`);
                    const button = document.querySelector(`[data-tab="${tabName}"]`);
                    
                    console.log(`üß™ [DEBUG] ${tabName}:`, {
                        buttonActive: button?.classList.contains('active'),
                        contentActive: content?.classList.contains('active'),
                        contentHeight: content?.offsetHeight,
                        contentDisplay: content ? window.getComputedStyle(content).display : 'N/A',
                        contentVisibility: content ? window.getComputedStyle(content).visibility : 'N/A',
                        contentOpacity: content ? window.getComputedStyle(content).opacity : 'N/A'
                    });
                }, index * 2000);
            });
        };
        
        // Debug function that can be called from console
        window.testAllTabs = function() {
            console.log('üß™ [DEBUG] Testing all tabs...');
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            
            tabs.forEach((tabName, index) => {
                setTimeout(() => {
                    console.log(`üß™ [DEBUG] Testing tab: ${tabName}`);
                    if (typeof window.switchAITab === 'function') {
                        window.switchAITab(tabName);
                    } else {
                        console.error('‚ùå [DEBUG] switchAITab function not available');
                    }
                    
                    const content = document.getElementById(`${tabName}-tab`);
                    if (content) {
                        console.log(`‚úÖ [DEBUG] ${tabName} tab content height:`, content.offsetHeight);
                        console.log(`‚úÖ [DEBUG] ${tabName} tab content classes:`, content.className);
                        console.log(`‚úÖ [DEBUG] ${tabName} tab content innerHTML length:`, content.innerHTML.length);
                    }
                }, index * 1000);
            });
        };
        
        // Load data for General tab
        window.loadGeneralTabData = async function() {
            console.log('üìä [AI SETTINGS] Loading general tab data...');
            
            try {
                // Update service status
                const statusElement = document.getElementById('generalServiceStatus');
                if (statusElement) {
                    statusElement.innerHTML = '<span class="status-dot checking"></span><span>Checking...</span>';
                }
                
                // Fetch provider status
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const providers = data.providers || {};
                    
                    // Count active providers
                    const activeCount = Object.values(providers).filter(p => 
                        p.configured && p.status === 'connected').length;
                    
                    // Calculate total requests (mock data for now)
                    const totalRequests = Object.values(providers).reduce((sum, p) => 
                        sum + (p.totalRequests || 0), 0);
                    
                    // Calculate average response time
                    const responseTimes = Object.values(providers)
                        .filter(p => p.responseTime)
                        .map(p => p.responseTime);
                    const avgResponseTime = responseTimes.length > 0 
                        ? Math.round(responseTimes.reduce((a, b) => a + b, 0) / responseTimes.length)
                        : 0;
                    
                    // Update UI elements
                    updateElement('activeProvidersCount', activeCount);
                    updateElement('totalRequestsToday', totalRequests);
                    updateElement('avgResponseTime', avgResponseTime > 0 ? `${avgResponseTime}ms` : 'N/A');
                    
                    // Update service status
                    if (statusElement) {
                        if (activeCount > 0) {
                            statusElement.innerHTML = '<span class="status-dot connected"></span><span>Connected</span>';
                        } else {
                            statusElement.innerHTML = '<span class="status-dot error"></span><span>No providers configured</span>';
                        }
                    }
                    
                    console.log('‚úÖ [AI SETTINGS] General tab data loaded');
                } else {
                    throw new Error('Failed to fetch provider status');
                }
                
            } catch (error) {
                console.error('‚ùå [AI SETTINGS] Error loading general tab data:', error);
                if (document.getElementById('generalServiceStatus')) {
                    document.getElementById('generalServiceStatus').innerHTML = 
                        '<span class="status-dot error"></span><span>Connection error</span>';
                }
            }
        };
        
        function updateElement(id, value) {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = value;
            }
        }
        
        // showAISettings and openAISettingsModal functions moved to main-production.js for better timing
        
        window.closeAIConfigModal = function() {
            console.log('üîß [AI Settings] Closing configuration modal...');
            const modal = document.getElementById('aiConfigModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
                
                // Update chatbot provider dropdown when modal closes
                if (typeof updateChatbotProviders === 'function') {
                    updateChatbotProviders();
                }
                
                // Highlight the provider selection for user attention
                setTimeout(function() {
                    const providerSelect = document.getElementById('chatModelSelect');
                    if (providerSelect) {
                        providerSelect.style.border = '2px solid #4285f4';
                        providerSelect.style.boxShadow = '0 0 10px rgba(66, 133, 244, 0.3)';
                        
                        // Remove highlight after 3 seconds
                        setTimeout(function() {
                            providerSelect.style.border = '';
                            providerSelect.style.boxShadow = '';
                        }, 3000);
                    }
                }, 200);
                
                console.log('‚úÖ [AI Settings] Configuration modal closed successfully');
            }
        }
        
        window.loadCurrentProviderStatus = async function() {
            console.log('üîÑ [AI Settings] Loading current provider status...');
            
            try {
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const providers = data.providers || {};
                    
                    // Update status indicators for each provider
                    Object.keys(providers).forEach(providerId => {
                        const provider = providers[providerId];
                        const statusElement = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}Status`);
                        
                        if (statusElement) {
                            const statusDot = statusElement.querySelector('.status-dot');
                            const statusText = statusElement.querySelector('.status-text');
                            
                            if (provider.configured && provider.status === 'connected') {
                                statusDot.className = 'status-dot connected';
                                statusText.textContent = 'Connected';
                            } else if (provider.configured) {
                                statusDot.className = 'status-dot error';
                                statusText.textContent = 'Configuration Error';
                            } else {
                                statusDot.className = 'status-dot disconnected';
                                statusText.textContent = 'Not Configured';
                            }
                        }
                    });
                    
                    console.log('‚úÖ [AI Settings] Provider status updated');
                }
            } catch (error) {
                console.error('‚ùå [AI Settings] Error loading provider status:', error);
            }
        }
        
        window.testProviderConnection = async function(providerId) {
            console.log('üîå [AI Settings] Testing connection for:', providerId);
            
            const apiKeyInput = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}ApiKey`);
            const jwtTokenInput = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}JwtToken`);
            const feedbackElement = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}ApiFeedback`);
            const testButton = document.getElementById(`testConfig${providerId.charAt(0).toUpperCase() + providerId.slice(1)}Api`);
            
            if (!apiKeyInput || !apiKeyInput.value.trim()) {
                if (feedbackElement) {
                    feedbackElement.innerHTML = '<span style="color: #f44336;">‚ùå Please enter an API key</span>';
                }
                return;
            }
            
            const apiKey = apiKeyInput.value.trim();
            const jwtToken = jwtTokenInput ? jwtTokenInput.value.trim() : null;
            
            // Show loading state
            if (testButton) {
                testButton.disabled = true;
                testButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Testing...';
            }
            
            if (feedbackElement) {
                feedbackElement.innerHTML = '<span style="color: #2196f3;">üîÑ Testing connection...</span>';
            }
            
            try {
                const configData = { provider: providerId, apiKey };
                if (jwtToken) {
                    configData.jwtToken = jwtToken;
                }
                
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/providers/configure`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    },
                    body: JSON.stringify(configData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    if (feedbackElement) {
                        feedbackElement.innerHTML = `<span style="color: #4caf50;">‚úÖ ${result.message || 'Connected successfully'}</span>`;
                    }
                    
                    // Update status indicator
                    const statusElement = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}Status`);
                    if (statusElement) {
                        const statusDot = statusElement.querySelector('.status-dot');
                        const statusText = statusElement.querySelector('.status-text');
                        statusDot.className = 'status-dot connected';
                        statusText.textContent = 'Connected';
                    }
                    
                    // Update chatbot provider dropdown
                    if (typeof updateChatbotProviders === 'function') {
                        updateChatbotProviders();
                    }
                    
                    console.log('‚úÖ [AI Settings] Provider configured successfully:', providerId);
                } else {
                    throw new Error(result.error || 'Configuration failed');
                }
                
            } catch (error) {
                console.error('‚ùå [AI Settings] Error testing provider:', error);
                
                if (feedbackElement) {
                    feedbackElement.innerHTML = `<span style="color: #f44336;">‚ùå ${error.message}</span>`;
                }
                
                // Update status indicator to error
                const statusElement = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}Status`);
                if (statusElement) {
                    const statusDot = statusElement.querySelector('.status-dot');
                    const statusText = statusElement.querySelector('.status-text');
                    statusDot.className = 'status-dot error';
                    statusText.textContent = 'Error';
                }
            } finally {
                // Reset button state
                if (testButton) {
                    testButton.disabled = false;
                    testButton.innerHTML = '<i class="fas fa-plug"></i> Test Connection';
                }
            }
        }
        
        window.saveAllAISettings = async function() {
            console.log('üíæ [AI Settings] Saving all AI settings...');
            
            const providers = ['openai', 'claude', 'google', 'deepseek', 'chindax'];
            let savedCount = 0;
            let errors = 0;
            
            for (const providerId of providers) {
                const apiKeyInput = document.getElementById(`config${providerId.charAt(0).toUpperCase() + providerId.slice(1)}ApiKey`);
                
                if (apiKeyInput && apiKeyInput.value.trim()) {
                    try {
                        await testProviderConnection(providerId);
                        savedCount++;
                    } catch (error) {
                        errors++;
                        console.error(`‚ùå [AI Settings] Error saving ${providerId}:`, error);
                    }
                }
            }
            
            if (savedCount > 0) {
                showNotification(`‚úÖ Saved ${savedCount} AI provider${savedCount > 1 ? 's' : ''}`, 'success');
                setTimeout(() => {
                    closeAIConfigModal();
                }, 1500);
            } else if (errors > 0) {
                showNotification(`‚ùå Failed to save AI providers`, 'error');
            } else {
                showNotification('‚ö†Ô∏è No API keys to save', 'warning');
            }
        }
        
        // Global debug function - can be called from browser console
        window.debugAISettings = function() {
            console.log('üîç [DEBUG] AI Settings Debug Info:');
            const link = document.getElementById('aiSettingsLink');
            const btn = document.getElementById('aiSettingsBtn');
            const modal = document.getElementById('aiConfigModal');
            
            console.log('- aiSettingsLink exists:', !!link);
            console.log('- aiSettingsBtn exists:', !!btn);
            console.log('- aiConfigModal exists:', !!modal);
            console.log('- simpleAIModal exists:', !!document.getElementById('simpleAIModal'));
            console.log('- openAISettingsModal function exists:', typeof window.openAISettingsModal);
            console.log('- showAISettings function exists:', typeof window.showAISettings);
            
            if (link) {
                console.log('- aiSettingsLink onclick:', link.onclick);
                console.log('- aiSettingsLink style.pointerEvents:', link.style.pointerEvents);
                console.log('- aiSettingsLink computed style:', window.getComputedStyle(link).pointerEvents);
            }
            
            if (btn) {
                console.log('- aiSettingsBtn onclick:', btn.onclick);
                console.log('- aiSettingsBtn style.pointerEvents:', btn.style.pointerEvents);
                console.log('- aiSettingsBtn computed style:', window.getComputedStyle(btn).pointerEvents);
            }
            
            // Try to open modal directly
            console.log('üîç [DEBUG] Attempting to open modal...');
            try {
                window.openAISettingsModal();
                console.log('‚úÖ [DEBUG] Modal open attempt completed');
            } catch (error) {
                console.error('‚ùå [DEBUG] Error opening modal:', error);
            }
        };
        
        // Test function to verify clicks work
        window.testClick = function() {
            alert('Click test works! Function is available.');
            console.log('‚úÖ [TEST] Click function works');
        };
        
        // showAISettings function moved to top of file to avoid timing issues
        
        // Ensure elements are clickable
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const aiSettingsLink = document.getElementById('aiSettingsLink');
                
                if (aiSettingsLink) {
                    aiSettingsLink.style.pointerEvents = 'auto';
                    aiSettingsLink.style.cursor = 'pointer';
                    console.log('‚úÖ [FORCE] aiSettingsLink made clickable');
                }
            }, 2000);
        });
        
        function closeAISettingsModal() {
            console.log('üîß [AI Settings] Closing modal...');
            const modal = document.getElementById('aiSettingsModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
                
                // Re-enable other modal handlers
                const existingHandlers = document.querySelectorAll('[data-modal-handler]');
                existingHandlers.forEach(handler => {
                    handler.style.pointerEvents = '';
                });
                
                console.log('üîß [AI Settings] Modal closed successfully');
            }
        }
        
        // ‚ö° Create fallback modal if not found
        function createFallbackModal() {
            console.log('üîß [AI Settings] Creating fallback modal...');
            
            const modalHTML = `
                <div id="aiSettingsModal" class="ai-settings-modal" style="display: none;">
                    <div class="ai-modal">
                        <div class="modal-header">
                            <h3>ü§ñ AI Provider Settings</h3>
                            <button class="modal-close" onclick="closeAISettingsModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p>AI Settings modal is loading...</p>
                            <p>Please wait while we initialize the settings interface.</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            console.log('‚úÖ [AI Settings] Fallback modal created');
        }
        
        // ‚ö° Enhanced modal setup with fallback
        function setupModalHandlers() {
            console.log('üîß [AI Settings] Setting up modal handlers...');
            
            let modal = document.getElementById('aiSettingsModal') || document.querySelector('.ai-settings-modal');
            
            if (!modal) {
                console.error('‚ùå [AI Settings] Modal not found in DOM!');
                console.error('‚ùå [AI Settings] Available elements with ai:', Array.from(document.querySelectorAll('[id*="ai"], [class*="ai"]')).map(el => `${el.tagName}#${el.id}.${el.className}`));
                createFallbackModal();
                modal = document.getElementById('aiSettingsModal');
            }
            
            const modalContent = modal ? modal.querySelector('.ai-modal, .ai-settings-modal-content') : null;
            
            if (modal && modalContent) {
                // Prevent modal content clicks from bubbling to overlay
                modalContent.addEventListener('click', function(event) {
                    event.stopPropagation();
                    event.preventDefault();
                });
                
                // Override any existing overlay click handlers
                modal.addEventListener('click', function(event) {
                    if (event.target === modal) {
                        event.stopPropagation();
                        event.preventDefault();
                        closeAISettingsModal();
                    }
                });
                
                // Add ESC key support
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'Escape' && modal.style.display === 'flex') {
                        event.preventDefault();
                        closeAISettingsModal();
                    }
                });
                
                console.log('‚úÖ [AI Settings] Modal handlers setup complete');
            } else {
                console.error('‚ùå [AI Settings] Modal found but content not found');
                console.error('‚ùå [AI Settings] Modal innerHTML length:', modal ? modal.innerHTML.length : 'N/A');
                console.error('‚ùå [AI Settings] Modal children:', modal ? Array.from(modal.children).map(c => c.className) : 'N/A');
                
                if (modal) {
                    // Modal exists but content missing - add basic handlers
                    modal.addEventListener('click', function(event) {
                        if (event.target === modal) {
                            modal.style.display = 'none';
                        }
                    });
                    console.log('‚úÖ [AI Settings] Basic modal handlers added');
                } else {
                    // No modal at all - create fallback
                    createFallbackModal();
                }
            }
        }
        
        // ‚ö° Initialize modal handlers when ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', setupModalHandlers);
        } else {
            setupModalHandlers();
        }
        
        // ‚ö° Also try after a delay in case DOM is still loading
        setTimeout(setupModalHandlers, 1000);
            
        // Override any conflicting handlers from main-production.js
        setTimeout(function() {
            const existingModal = document.getElementById('aiSettingsModal');
            if (existingModal) {
                // Remove all existing event listeners by cloning the element
                const newModal = existingModal.cloneNode(true);
                existingModal.parentNode.replaceChild(newModal, existingModal);
                
                // Re-add our custom handlers
                const modalContent = newModal.querySelector('.ai-modal');
                if (modalContent) {
                    modalContent.addEventListener('click', function(event) {
                        event.stopPropagation();
                    });
                }
                
                newModal.addEventListener('click', function(event) {
                    if (event.target === newModal) {
                        closeAISettingsModal();
                    }
                });
            }
        }, 2000);
        
        // AI Config Modal Functions (New approach)
        function openAIConfigModal() {
            console.log('üîß [AI CONFIG] Opening modal...');
            
            const modal = document.getElementById('aiConfigModal');
            if (modal) {
                console.log('üîß [AI CONFIG] Modal found, opening...');
                
                // Force display with inline styles - NO CONFLICTS!
                modal.style.setProperty('display', 'flex', 'important');
                modal.style.setProperty('z-index', '10001', 'important');
                modal.style.setProperty('position', 'fixed', 'important');
                modal.style.setProperty('top', '0', 'important');
                modal.style.setProperty('left', '0', 'important');
                modal.style.setProperty('width', '100%', 'important');
                modal.style.setProperty('height', '100%', 'important');
                
                document.body.style.overflow = 'hidden';
                
                console.log('‚úÖ [AI CONFIG] Modal opened successfully - NO CONFLICTS!');
                
                // Add event listeners for this specific modal
                const modalContent = modal.querySelector('.ai-modal');
                if (modalContent) {
                    modalContent.onclick = function(event) {
                        event.stopPropagation();
                    };
                }
                
                modal.onclick = function(event) {
                    if (event.target === modal) {
                        closeAIConfigModal();
                    }
                };
                
            } else {
                console.error('‚ùå [AI CONFIG] Modal element not found');
            }
            
            return false;
        }
        
        function closeAIConfigModal() {
            console.log('üîß [AI CONFIG] Closing modal...');
            const modal = document.getElementById('aiConfigModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
                console.log('‚úÖ [AI CONFIG] Modal closed successfully');
            }
        }
        
        // BACKEND-MANAGED AI SETTINGS MODAL SYSTEM
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîß [BACKEND MODAL] Setting up backend-managed AI settings modal...');
            
            setTimeout(function() {
                // Set up test button event handlers
                const testButtons = [
                    { id: 'testConfigOpenaiApi', provider: 'openai' },
                    { id: 'testConfigClaudeApi', provider: 'claude' },
                    { id: 'testConfigGoogleApi', provider: 'google' },
                    { id: 'testConfigDeepSeekApi', provider: 'deepseek' },
                    { id: 'testConfigChindaXApi', provider: 'chindax' }
                ];
                
                testButtons.forEach(button => {
                    const element = document.getElementById(button.id);
                    if (element) {
                        element.addEventListener('click', function(e) {
                            e.preventDefault();
                            testProviderConnection(button.provider);
                        });
                        console.log(`‚úÖ [AI Settings] Added test handler for ${button.provider}`);
                    }
                });
                
                // Set up save button event handler
                const saveButton = document.getElementById('saveConfigAiSettings');
                if (saveButton) {
                    saveButton.addEventListener('click', function(e) {
                        e.preventDefault();
                        saveAllAISettings();
                    });
                    console.log('‚úÖ [AI Settings] Added save handler');
                }
                
                // Dashboard AI Settings button was removed per user request
                
                // Debug: Check if modal elements exist
                const configModal = document.getElementById('aiConfigModal');
                console.log('üîç [AI SETTINGS] Debug - aiConfigModal exists:', !!configModal);
                if (configModal) {
                    console.log('üîç [AI SETTINGS] Modal display style:', configModal.style.display);
                }
                
                // Get elements with error checking
                const aiSettingsLink = document.getElementById('aiSettingsLink');
                const simpleModal = document.getElementById('simpleAIModal');
                const closeBtn = document.getElementById('closeSimpleModal');
                const cancelBtn = document.getElementById('cancelSimpleModal');
                const refreshBtn = document.getElementById('refreshBackendStatus');
                
                console.log('üîß [BACKEND MODAL] Elements found:', {
                    link: !!aiSettingsLink,
                    modal: !!simpleModal,
                    closeBtn: !!closeBtn,
                    cancelBtn: !!cancelBtn,
                    refreshBtn: !!refreshBtn
                });
                
                if (aiSettingsLink) {
                    console.log('‚úÖ [AI SETTINGS] Found aiSettingsLink, adding click handler');
                    
                    // OPEN CONFIGURATION MODAL - Allow API key setup
                    aiSettingsLink.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('üîß [AI SETTINGS] Sidebar link clicked - Opening configuration modal...');
                        
                        // Call the configuration modal function
                        openAISettingsModal();
                        
                        console.log('‚úÖ [AI SETTINGS] Configuration modal should be open now');
                        return false;
                    };
                } else {
                    console.error('‚ùå [AI SETTINGS] aiSettingsLink not found!');
                }
                
                // CLOSE MODAL - Multiple close methods
                function closeModal() {
                    console.log('üîß [BACKEND MODAL] Closing modal...');
                    simpleModal.style.display = 'none';
                    document.body.style.overflow = '';
                    console.log('‚úÖ [BACKEND MODAL] Modal closed successfully!');
                }
                
                if (closeBtn) {
                    closeBtn.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        closeModal();
                    };
                }
                
                if (cancelBtn) {
                    cancelBtn.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        closeModal();
                    };
                }
                
                if (refreshBtn) {
                    refreshBtn.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        loadBackendProviderStatus();
                    };
                }
                
                // Close on overlay click
                simpleModal.onclick = function(e) {
                    if (e.target === simpleModal) {
                        closeModal();
                    }
                };
                
                // Close on ESC key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && simpleModal.style.display === 'block') {
                        closeModal();
                    }
                });
                
                console.log('‚úÖ [BACKEND MODAL] All event handlers set up successfully!');
            }, 3000);
        });
        
        // BACKEND AI PROVIDER STATUS FUNCTIONALITY
        async function loadBackendProviderStatus() {
            console.log('üîó [BACKEND] Loading provider status from backend...');
            
            const container = document.getElementById('backendProviderStatus');
            if (!container) {
                console.error('‚ùå [BACKEND] Provider status container not found');
                return;
            }
            
            // Show loading state
            container.innerHTML = `
                <div class="loading-providers" style="text-align:center; padding:40px; color:#666;">
                    <i class="fas fa-spinner fa-spin" style="font-size:24px; margin-bottom:10px;"></i>
                    <p>Loading provider status from backend...</p>
                </div>
            `;
            
            try {
                // Get auth token
                const authToken = localStorage.getItem('jwtToken') || sessionStorage.getItem('authToken');
                
                // Make API call to backend to get provider status
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    }
                });
                
                let providersData;
                
                if (response.ok) {
                    const data = await response.json();
                    providersData = data.providers || {};
                } else {
                    console.warn('‚ö†Ô∏è [BACKEND] Backend not available, using mock data');
                    // Fallback to mock data for development
                    providersData = generateMockProviderStatus();
                }
                
                // Render provider status
                renderProviderStatus(providersData);
                
                console.log('‚úÖ [BACKEND] Provider status loaded successfully');
                
            } catch (error) {
                console.error('‚ùå [BACKEND] Error loading provider status:', error);
                
                // Show error state with mock data option
                container.innerHTML = `
                    <div style="text-align:center; padding:40px; color:#666;">
                        <div style="font-size:48px; margin-bottom:15px;">‚ö†Ô∏è</div>
                        <h3 style="color:#dc3545; margin-bottom:10px;">Backend Connection Error</h3>
                        <p style="margin-bottom:20px;">Cannot connect to backend API. Using simulated data for demonstration.</p>
                        <button onclick="loadBackendProviderStatus()" style="background:#4285f4; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; margin-right:10px;">
                            üîÑ Retry Connection
                        </button>
                        <button onclick="showMockData()" style="background:#28a745; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer;">
                            üìä Show Demo Data
                        </button>
                    </div>
                `;
            }
        }
        
        function generateMockProviderStatus() {
            // Simulate backend response for development
            return {
                openai: {
                    configured: true,
                    status: 'connected',
                    lastCheck: new Date().toISOString(),
                    responseTime: 850,
                    apiKeyValid: true
                },
                claude: {
                    configured: true,
                    status: 'connected', 
                    lastCheck: new Date().toISOString(),
                    responseTime: 650,
                    apiKeyValid: true
                },
                gemini: {
                    configured: true,
                    status: 'connected',
                    lastCheck: new Date().toISOString(), 
                    responseTime: 420,
                    apiKeyValid: true
                },
                deepseek: {
                    configured: false,
                    status: 'not_configured',
                    lastCheck: null,
                    responseTime: null,
                    apiKeyValid: false
                },
                chindax: {
                    configured: true,
                    status: 'error',
                    lastCheck: new Date().toISOString(),
                    responseTime: null,
                    apiKeyValid: false,
                    error: 'Authentication failed'
                }
            };
        }
        
        function renderProviderStatus(providersData) {
            const container = document.getElementById('backendProviderStatus');
            if (!container) return;
            
            const providers = [
                { id: 'openai', name: 'OpenAI', model: 'GPT-4/3.5', icon: 'ü§ñ' },
                { id: 'claude', name: 'Claude', model: 'Anthropic', icon: 'üß†' },
                { id: 'gemini', name: 'Gemini', model: '2.0 Flash', icon: '‚ú®' },
                { id: 'deepseek', name: 'DeepSeek', model: 'V2', icon: 'üîç' },
                { id: 'chindax', name: 'ChindaX', model: 'qwen3-32b', icon: 'üöÄ' }
            ];
            
            let html = '';
            
            providers.forEach(provider => {
                const data = providersData[provider.id];
                const status = getProviderDisplayStatus(data);
                
                html += `
                    <div style="border:1px solid #e0e0e0; border-radius:10px; padding:20px; margin-bottom:15px; background:${status.bgColor};">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                            <div style="display:flex; align-items:center; gap:12px;">
                                <span style="font-size:24px;">${provider.icon}</span>
                                <div>
                                    <h3 style="margin:0; color:#333; font-size:18px;">${provider.name}</h3>
                                    <p style="margin:0; color:#666; font-size:14px;">${provider.model}</p>
                                </div>
                            </div>
                            <span style="padding:6px 12px; border-radius:20px; font-size:12px; font-weight:600; background:${status.badgeColor}; color:${status.textColor};">
                                ${status.text}
                            </span>
                        </div>
                        
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; font-size:14px;">
                            <div>
                                <strong>Configuration:</strong><br>
                                <span style="color:${data?.configured ? '#28a745' : '#dc3545'};">
                                    ${data?.configured ? '‚úÖ Configured' : '‚ùå Not Configured'}
                                </span>
                            </div>
                            <div>
                                <strong>API Key Status:</strong><br>
                                <span style="color:${data?.apiKeyValid ? '#28a745' : '#dc3545'};">
                                    ${data?.apiKeyValid ? '‚úÖ Valid' : '‚ùå Invalid/Missing'}
                                </span>
                            </div>
                            <div>
                                <strong>Response Time:</strong><br>
                                <span>${data?.responseTime ? data.responseTime + 'ms' : 'N/A'}</span>
                            </div>
                            <div>
                                <strong>Last Check:</strong><br>
                                <span>${data?.lastCheck ? formatTime(data.lastCheck) : 'Never'}</span>
                            </div>
                        </div>
                        
                        ${data?.error ? `
                            <div style="margin-top:15px; padding:10px; background:#fee; border:1px solid #fcc; border-radius:5px; color:#c33;">
                                <strong>Error:</strong> ${data.error}
                            </div>
                        ` : ''}
                        
                        <div style="margin-top:15px; text-align:right;">
                            <button onclick="testBackendProvider('${provider.id}')" 
                                    style="background:#4285f4; color:white; border:none; padding:8px 16px; border-radius:5px; cursor:pointer; font-size:13px;">
                                üîç Test Now
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function getProviderDisplayStatus(data) {
            if (!data || !data.configured) {
                return {
                    text: 'Not Configured',
                    badgeColor: '#dc3545',
                    textColor: 'white',
                    bgColor: '#fff'
                };
            }
            
            switch (data.status) {
                case 'connected':
                    return {
                        text: 'Connected',
                        badgeColor: '#28a745',
                        textColor: 'white',
                        bgColor: '#f8fff9'
                    };
                case 'error':
                    return {
                        text: 'Connection Error',
                        badgeColor: '#dc3545',
                        textColor: 'white',
                        bgColor: '#fff8f8'
                    };
                case 'checking':
                    return {
                        text: 'Checking...',
                        badgeColor: '#ffc107',
                        textColor: 'black',
                        bgColor: '#fffbf0'
                    };
                default:
                    return {
                        text: 'Unknown',
                        badgeColor: '#6c757d',
                        textColor: 'white',
                        bgColor: '#fff'
                    };
            }
        }
        
        function formatTime(isoString) {
            const date = new Date(isoString);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            
            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins} min ago`;
            if (diffMins < 1440) return `${Math.floor(diffMins / 60)} hours ago`;
            return date.toLocaleDateString();
        }
        
        window.showMockData = function() {
            const mockData = generateMockProviderStatus();
            renderProviderStatus(mockData);
        };
        
        window.testBackendProvider = async function(providerId) {
            console.log(`üîç [BACKEND] Testing ${providerId} connection...`);
            
            try {
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/providers/${providerId}/test`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (window.showNotification) {
                        window.showNotification(`‚úÖ ${providerId} test successful`, 'success');
                    }
                } else {
                    if (window.showNotification) {
                        window.showNotification(`‚ùå ${providerId} test failed`, 'error');
                    }
                }
                
                // Refresh status after test
                setTimeout(() => {
                    loadBackendProviderStatus();
                }, 1000);
                
            } catch (error) {
                console.error(`‚ùå [BACKEND] Error testing ${providerId}:`, error);
                if (window.showNotification) {
                    window.showNotification(`‚ùå Connection error testing ${providerId}`, 'error');
                }
            }
        };
        
        // Note: saveAllAPIKeys function removed - backend manages API keys
        // All API key management is now handled on the backend
        
        // Note: loadSavedAPIKeys function removed - backend manages API keys
        // All API key loading is now handled via backend status checks
        
        // Note: updateAllStatusBadges function removed - backend manages API keys
        // All status updates are now handled via backend status checks
        
        async function testProviderConnection(providerId) {
            console.log(`üîç [AI TEST] Testing ${providerId} connection...`);
            
            const testBtn = document.getElementById(`test${providerId.charAt(0).toUpperCase() + providerId.slice(1)}Btn`);
            const resultSpan = document.getElementById(`${providerId}TestResult`);
            
            if (testBtn) {
                testBtn.textContent = 'Testing...';
                testBtn.disabled = true;
            }
            
            if (resultSpan) {
                resultSpan.textContent = 'üîÑ Testing...';
                resultSpan.style.color = '#ffc107';
            }
            
            try {
                // Get API key for testing
                let apiKey = '';
                let jwtToken = '';
                
                if (providerId === 'chindax') {
                    apiKey = document.getElementById('chindaxApiKeyInput')?.value;
                    jwtToken = document.getElementById('chindaxJwtTokenInput')?.value;
                } else {
                    apiKey = document.getElementById(`${providerId}ApiKeyInput`)?.value;
                }
                
                if (!apiKey || (providerId === 'chindax' && !jwtToken)) {
                    throw new Error('API key is required');
                }
                
                // ‚úÖ Use APIHelper for real connection testing
                let testResult;
                if (window.testProviderConnection) {
                    console.log(`üß™ [AI TEST] Using APIHelper to test ${providerId}`);
                    testResult = await window.testProviderConnection(providerId, apiKey);
                } else {
                    // Fallback to basic format validation
                    console.log(`‚ö†Ô∏è [AI TEST] APIHelper not available, using format validation`);
                    
                    let isValid = false;
                    switch (providerId) {
                        case 'openai':
                            isValid = apiKey.startsWith('sk-');
                            break;
                        case 'claude':
                            isValid = apiKey.startsWith('sk-ant-');
                            break;
                        case 'gemini':
                            isValid = apiKey.startsWith('AIza');
                            break;
                        case 'deepseek':
                            isValid = apiKey.startsWith('sk-');
                            break;
                        case 'chindax':
                            isValid = apiKey.length > 0 && jwtToken.length > 0;
                            break;
                    }
                    
                    testResult = {
                        success: isValid,
                        message: isValid ? 'API key format valid' : 'Invalid API key format'
                    };
                }
                
                if (testResult.success) {
                    if (resultSpan) {
                        resultSpan.textContent = '‚úÖ Connected';
                        resultSpan.style.color = '#28a745';
                    }
                    
                    const badge = document.getElementById(`${providerId}StatusBadge`);
                    if (badge) {
                        badge.style.background = '#28a745';
                        badge.textContent = 'Connected';
                    }
                    
                    console.log(`‚úÖ [AI TEST] ${providerId} connection successful:`, testResult.message);
                } else {
                    throw new Error(testResult.message || 'Connection failed');
                }
                
            } catch (error) {
                console.error(`‚ùå [AI TEST] ${providerId} test failed:`, error);
                
                if (resultSpan) {
                    resultSpan.textContent = '‚ùå Failed';
                    resultSpan.style.color = '#dc3545';
                }
            } finally {
                if (testBtn) {
                    testBtn.textContent = 'Test Connection';
                    testBtn.disabled = false;
                }
            }
        }
        
        // Note: Old updateChatbotProviders function removed - backend manages API keys
        // New updateChatbotProviders function is implemented above with backend integration
        
        // Note: API key access functions removed - backend manages API keys
        // All API key access is now handled via backend endpoints
        
        window.refreshAIProviders = function() {
            updateChatbotProviders();
            // Note: updateAllStatusBadges removed - backend manages status
        };
        
        // DASHBOARD AI PROVIDERS STATUS FUNCTIONALITY
        window.refreshAIStatus = function() {
            console.log('üîÑ [DASHBOARD] Refreshing AI providers status...');
            
            const container = document.getElementById('aiProvidersStatusContainer');
            if (!container) {
                console.error('‚ùå [DASHBOARD] AI providers status container not found');
                return;
            }
            
            // Show loading state
            container.innerHTML = `
                <div class="loading-message">
                    <i class="fas fa-spinner fa-spin"></i> Refreshing AI provider status...
                </div>
            `;
            
            // Simulate API delay and then load real data
            setTimeout(() => {
                loadAIProvidersStatus();
            }, 1000);
        };
        
        async function loadAIProvidersStatus() {
            console.log('üìä [DASHBOARD] Loading AI providers status from backend...');
            
            try {
                const container = document.getElementById('aiProvidersStatusContainer');
                
                // Get provider status from backend instead of localStorage
                let providersData = {};
                
                try {
                    const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status`, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        // Handle the new backend API response structure
                        if (data.success && data.data && data.data.providers) {
                            // Convert backend provider status to expected format
                            providersData = {};
                            Object.entries(data.data.providers).forEach(([key, provider]) => {
                                providersData[key] = {
                                    configured: provider.configured,
                                    status: provider.status
                                };
                            });
                        } else {
                            console.warn('‚ö†Ô∏è [DASHBOARD] Invalid backend response structure, using mock data');
                            providersData = generateMockProviderStatus();
                        }
                    } else {
                        console.warn('‚ö†Ô∏è [DASHBOARD] Backend not available, using mock data');
                        providersData = generateMockProviderStatus();
                    }
                } catch (error) {
                    console.error('‚ùå [DASHBOARD] Error fetching provider status:', error);
                    providersData = generateMockProviderStatus();
                }
                
                // Define all AI providers with backend configuration
                const providers = [
                    {
                        id: 'openai',
                        name: 'OpenAI',
                        model: 'GPT-4/3.5',
                        icon: 'ü§ñ',
                        hasKey: providersData.openai?.configured || false,
                        status: providersData.openai?.status || 'not_configured'
                    },
                    {
                        id: 'claude',
                        name: 'Claude',
                        model: 'Anthropic',
                        icon: 'üß†',
                        hasKey: providersData.claude?.configured || false,
                        status: providersData.claude?.status || 'not_configured'
                    },
                    {
                        id: 'gemini',
                        name: 'Gemini',
                        model: '2.0 Flash',
                        icon: '‚ú®',
                        hasKey: providersData.gemini?.configured || false,
                        status: providersData.gemini?.status || 'not_configured'
                    },
                    {
                        id: 'deepseek',
                        name: 'DeepSeek',
                        model: 'V2',
                        icon: 'üîç',
                        hasKey: providersData.deepseek?.configured || false,
                        status: providersData.deepseek?.status || 'not_configured'
                    },
                    {
                        id: 'chindax',
                        name: 'ChindaX',
                        model: 'qwen3-32b',
                        icon: 'üöÄ',
                        hasKey: providersData.chindax?.configured || false,
                        status: providersData.chindax?.status || 'not_configured'
                    }
                ];
                
                if (container) {
                    // Check if any providers are configured
                    const configuredProviders = providers.filter(p => p.hasKey);
                    
                    if (configuredProviders.length === 0) {
                        // No data available message
                        container.innerHTML = `
                            <div class="no-data-message">
                                <div class="no-data-icon">üîê</div>
                                <div class="no-data-text">
                                    <strong>No AI providers configured</strong>
                                    <p>Configure API keys in AI Settings to see provider status</p>
                                    <button class="btn btn-sm btn-primary" onclick="document.getElementById('aiSettingsLink').click()">
                                        <i class="fas fa-cog"></i> Configure AI Settings
                                    </button>
                                </div>
                            </div>
                        `;
                    } else {
                        // Generate provider status items
                        let statusHTML = '';
                        
                        providers.forEach(provider => {
                            const status = getProviderConnectionStatus(provider);
                            statusHTML += `
                                <div class="provider-status-item" data-provider="${provider.id}">
                                    <div class="provider-info">
                                        <span class="provider-icon">${provider.icon}</span>
                                        <div class="provider-details">
                                            <span class="provider-name">${provider.name}</span>
                                            <span class="provider-model">${provider.model}</span>
                                        </div>
                                    </div>
                                    <div class="status-indicator ${status.class}">
                                        <span class="status-dot"></span>
                                        <span>${status.text}</span>
                                    </div>
                                </div>
                            `;
                        });
                        
                        container.innerHTML = statusHTML;
                    }
                    
                    console.log('‚úÖ [DASHBOARD] AI providers status loaded successfully');
                } else {
                    console.error('‚ùå [DASHBOARD] Container not found during load');
                }
                
            } catch (error) {
                console.error('‚ùå [DASHBOARD] Error loading AI providers status:', error);
                
                if (container) {
                    container.innerHTML = `
                        <div class="error-message">
                            <div class="error-icon">‚ö†Ô∏è</div>
                            <div class="error-text">
                                <strong>Error loading provider status</strong>
                                <p>Please try refreshing or check your connection</p>
                                <button class="btn btn-sm btn-secondary" onclick="refreshAIStatus()">
                                    <i class="fas fa-sync"></i> Try Again
                                </button>
                            </div>
                        </div>
                    `;
                }
            }
        }
        
        function getProviderConnectionStatus(provider) {
            if (!provider.hasKey) {
                return {
                    class: 'not-configured',
                    text: 'Not Configured'
                };
            }
            
            // Use backend status instead of mock data
            switch (provider.status) {
                case 'connected':
                    return {
                        class: 'connected',
                        text: 'Connected'
                    };
                case 'error':
                    return {
                        class: 'error',
                        text: 'Connection Error'
                    };
                case 'checking':
                    return {
                        class: 'checking',
                        text: 'Checking...'
                    };
                case 'not_configured':
                    return {
                        class: 'not-configured',
                        text: 'Not Configured'
                    };
                default:
                    return {
                        class: 'unknown',
                        text: 'Unknown'
                    };
            }
        }
        
        // AI MONITORING PERFORMANCE FUNCTIONALITY
        window.refreshAllProviderMetrics = async function() {
            console.log('üìä [AI MONITORING] Refreshing all provider metrics...');
            loadProviderPerformanceData();
            await updatePerformanceOverview();
        };
        
        function loadProviderPerformanceData() {
            console.log('üìà [AI MONITORING] Loading provider performance data...');
            
            const tableBody = document.getElementById('providerPerformanceTableBody');
            if (!tableBody) {
                console.error('‚ùå [AI MONITORING] Performance table body not found');
                return;
            }
            
            // Show loading state
            tableBody.innerHTML = `
                <tr class="loading-row">
                    <td colspan="9" class="loading-cell">
                        <i class="fas fa-spinner fa-spin"></i> Refreshing provider performance data...
                    </td>
                </tr>
            `;
            
            // Simulate API delay and load data
            setTimeout(async () => {
                try {
                    // Get providers from backend instead of localStorage
                    const providers = await getConfiguredProviders();
                    
                    if (providers.length === 0) {
                        // No configured providers
                        tableBody.innerHTML = `
                            <tr class="no-data-row">
                                <td colspan="9" class="no-data-cell">
                                    <div class="no-data-message-inline">
                                        <div class="no-data-icon">üîê</div>
                                        <div class="no-data-text">
                                            <strong>No AI providers configured</strong>
                                            <p>Configure API keys in AI Settings to see performance data</p>
                                            <button class="btn btn-sm btn-primary" onclick="document.getElementById('aiSettingsLink').click()">
                                                <i class="fas fa-cog"></i> Configure AI Settings
                                            </button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        `;
                    } else {
                        // Fetch real performance data from backend
                        let metricsData = null;
                        
                        try {
                            const metricsResponse = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/metrics`, {
                                method: 'GET',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                                }
                            });
                            
                            if (metricsResponse.ok) {
                                const data = await metricsResponse.json();
                                metricsData = data.metrics;
                                console.log('‚úÖ [MONITORING] Real metrics loaded from backend');
                            } else {
                                console.warn('‚ö†Ô∏è [MONITORING] Backend metrics not available, using fallback');
                            }
                        } catch (error) {
                            console.error('‚ùå [MONITORING] Error fetching backend metrics:', error);
                        }
                        
                        // Generate performance data for configured providers
                        let tableHTML = '';
                        
                        for (const provider of providers) {
                            const performance = await generateProviderPerformanceData(provider, metricsData);
                            
                            // ‚úÖ Fixed: Simplified template to avoid nested template literal issues
                            const successRateClass = performance.successRate >= 95 ? 'good' : performance.successRate >= 85 ? 'warning' : 'danger';
                            const responseTimeClass = performance.responseTime <= 1000 ? 'good' : performance.responseTime <= 3000 ? 'warning' : 'danger';
                            const qualityClass = performance.qualityScore >= 4.5 ? 'good' : performance.qualityScore >= 3.5 ? 'warning' : 'danger';
                            const uptimeClass = performance.uptime >= 99 ? 'good' : performance.uptime >= 95 ? 'warning' : 'danger';
                            
                            tableHTML += '<tr class="provider-row" data-provider="' + provider.id + '">' +
                                '<td class="provider-cell">' +
                                    '<div class="provider-info-cell">' +
                                        '<span class="provider-icon">' + provider.icon + '</span>' +
                                        '<div class="provider-details">' +
                                            '<div class="provider-name">' + provider.name + '</div>' +
                                            '<div class="provider-model">' + provider.model + '</div>' +
                                        '</div>' +
                                    '</div>' +
                                '</td>' +
                                '<td class="status-cell">' +
                                    '<div class="status-indicator ' + performance.status.class + '">' +
                                        '<span class="status-dot"></span>' +
                                        '<span>' + performance.status.text + '</span>' +
                                    '</div>' +
                                '</td>' +
                                '<td class="requests-cell">' +
                                    '<div class="metric-value">' + (performance.requests || 0).toLocaleString() + '</div>' +
                                    '<div class="metric-sub">Today</div>' +
                                '</td>' +
                                '<td class="success-rate-cell">' +
                                    '<div class="metric-value ' + successRateClass + '">' + performance.successRate + '%</div>' +
                                    '<div class="metric-sub">' + performance.successful + '/' + performance.total + '</div>' +
                                '</td>' +
                                '<td class="response-time-cell">' +
                                    '<div class="metric-value ' + responseTimeClass + '">' + performance.responseTime + 'ms</div>' +
                                    '<div class="metric-sub">Avg</div>' +
                                '</td>' +
                                '<td class="quality-cell">' +
                                    '<div class="metric-value ' + qualityClass + '">' + performance.qualityScore + '/5.0</div>' +
                                    '<div class="metric-sub">Rating</div>' +
                                '</td>' +
                                '<td class="uptime-cell">' +
                                    '<div class="metric-value ' + uptimeClass + '">' + performance.uptime + '%</div>' +
                                    '<div class="metric-sub">' + performance.uptimeHours + 'h</div>' +
                                '</td>' +
                                '<td class="cost-cell">' +
                                    '<div class="metric-value">‡∏ø' + (performance.cost || 0).toFixed(2) + '</div>' +
                                    '<div class="metric-sub">Today</div>' +
                                '</td>' +
                                '<td class="activity-cell">' +
                                    '<div class="last-activity">' +
                                        '<div class="activity-text">' + (performance.lastActivity?.action || 'No activity') + '</div>' +
                                        '<div class="activity-time">' + (performance.lastActivity?.time || 'Unknown') + '</div>' +
                                    '</div>' +
                                '</td>' +
                            '</tr>';
                        }
                        
                        tableBody.innerHTML = tableHTML;
                    }
                    
                    console.log('‚úÖ [AI MONITORING] Provider performance data loaded successfully');
                    
                } catch (error) {
                    console.error('‚ùå [AI MONITORING] Error loading performance data:', error);
                    
                    // ‚úÖ Fixed: Simplified error template
                    tableBody.innerHTML = 
                        '<tr class="error-row">' +
                            '<td colspan="9" class="error-cell">' +
                                '<div class="error-message-inline">' +
                                    '<div class="error-icon">‚ö†Ô∏è</div>' +
                                    '<div class="error-text">' +
                                        '<strong>Error loading performance data</strong>' +
                                        '<p>Please try refreshing or check your connection</p>' +
                                        '<button class="btn btn-sm btn-secondary" onclick="refreshAllProviderMetrics()">' +
                                            '<i class="fas fa-sync"></i> Try Again' +
                                        '</button>' +
                                    '</div>' +
                                '</div>' +
                            '</td>' +
                        '</tr>';
                }
            }, 1500);
        }
        
        async function getConfiguredProviders(providersData = null) {
            // Get provider status from backend if not provided
            if (!providersData) {
                try {
                    const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status`, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        // Handle the new backend API response structure
                        if (data.success && data.data && data.data.providers) {
                            // Convert backend provider status to expected format
                            providersData = {};
                            Object.entries(data.data.providers).forEach(([key, provider]) => {
                                providersData[key] = {
                                    configured: provider.configured,
                                    status: provider.status
                                };
                            });
                        } else {
                            console.warn('‚ö†Ô∏è [MONITORING] Invalid backend response structure, using mock data');
                            providersData = generateMockProviderStatus();
                        }
                    } else {
                        console.warn('‚ö†Ô∏è [MONITORING] Backend not available, using mock data');
                        providersData = generateMockProviderStatus();
                    }
                } catch (error) {
                    console.error('‚ùå [MONITORING] Error fetching provider status:', error);
                    providersData = generateMockProviderStatus();
                }
            }
            
            const allProviders = [
                {
                    id: 'openai',
                    name: 'OpenAI',
                    model: 'GPT-4/3.5',
                    icon: 'ü§ñ',
                    hasKey: providersData.openai?.configured || false
                },
                {
                    id: 'claude',
                    name: 'Claude',
                    model: 'Anthropic',
                    icon: 'üß†',
                    hasKey: providersData.claude?.configured || false
                },
                {
                    id: 'gemini',
                    name: 'Gemini',
                    model: '2.0 Flash',
                    icon: '‚ú®',
                    hasKey: providersData.gemini?.configured || false
                },
                {
                    id: 'deepseek',
                    name: 'DeepSeek',
                    model: 'V2',
                    icon: 'üîç',
                    hasKey: providersData.deepseek?.configured || false
                },
                {
                    id: 'chindax',
                    name: 'ChindaX',
                    model: 'qwen3-32b',
                    icon: 'üöÄ',
                    hasKey: providersData.chindax?.configured || false
                }
            ];
            
            return allProviders.filter(provider => provider.hasKey);
        }
        
        async function generateProviderPerformanceData(provider, metricsData = null) {
            // Use real backend metrics data if provided, otherwise fetch it or use mock data
            
            // If real metrics data is provided, use it
            if (metricsData && metricsData[provider.id]) {
                const metrics = metricsData[provider.id];
                
                const activities = [
                    'Content Generation',
                    'Text Analysis', 
                    'SEO Optimization',
                    'Translation',
                    'Code Review',
                    'Data Processing'
                ];
                
                // Determine status class based on backend status
                let statusClass = 'not-configured';
                let statusText = 'Not Configured';
                
                if (metrics.configured) {
                    switch (metrics.status) {
                        case 'active':
                            statusClass = 'connected';
                            statusText = 'Connected';
                            break;
                        case 'maintenance':
                            statusClass = 'checking';
                            statusText = 'Maintenance';
                            break;
                        case 'error':
                            statusClass = 'error';
                            statusText = 'Connection Error';
                            break;
                        default:
                            statusClass = 'unknown';
                            statusText = 'Unknown';
                    }
                }
                
                return {
                    requests: metrics.totalRequests || 0,
                    total: metrics.totalRequests || 0,
                    successful: metrics.successfulRequests || 0,
                    successRate: metrics.successRate || 0,
                    responseTime: Math.round(metrics.averageResponseTime) || 0,
                    qualityScore: metrics.qualityScore || 0,
                    uptime: metrics.uptime || 0,
                    uptimeHours: Math.floor((metrics.uptime || 0) * 24 / 100),
                    cost: metrics.cost || 0,
                    status: { class: statusClass, text: statusText },
                    lastActivity: {
                        action: activities[Math.floor(Math.random() * activities.length)],
                        time: metrics.lastActive ? formatTime(metrics.lastActive) : 'Never'
                    }
                };
            }
            
            // Fallback to mock data for development
            const baseMetrics = {
                openai: {
                    requests: Math.floor(Math.random() * 5000) + 1000,
                    successRate: 95 + Math.random() * 4,
                    responseTime: 800 + Math.random() * 400,
                    qualityScore: 4.2 + Math.random() * 0.7,
                    uptime: 99.2 + Math.random() * 0.7,
                    cost: Math.random() * 150 + 50,
                    status: { class: 'connected', text: 'Connected' }
                },
                claude: {
                    requests: Math.floor(Math.random() * 3000) + 800,
                    successRate: 97 + Math.random() * 2,
                    responseTime: 600 + Math.random() * 300,
                    qualityScore: 4.5 + Math.random() * 0.4,
                    uptime: 99.5 + Math.random() * 0.4,
                    cost: Math.random() * 120 + 40,
                    status: { class: 'connected', text: 'Connected' }
                },
                gemini: {
                    requests: Math.floor(Math.random() * 4000) + 1200,
                    successRate: 96 + Math.random() * 3,
                    responseTime: 500 + Math.random() * 250,
                    qualityScore: 4.3 + Math.random() * 0.5,
                    uptime: 99.8 + Math.random() * 0.2,
                    cost: Math.random() * 80 + 30,
                    status: { class: 'connected', text: 'Connected' }
                },
                deepseek: {
                    requests: Math.floor(Math.random() * 2000) + 500,
                    successRate: 88 + Math.random() * 8,
                    responseTime: 1200 + Math.random() * 600,
                    qualityScore: 3.8 + Math.random() * 0.8,
                    uptime: 95 + Math.random() * 4,
                    cost: Math.random() * 60 + 20,
                    status: { class: 'error', text: 'Connection Issues' }
                },
                chindax: {
                    requests: Math.floor(Math.random() * 1500) + 300,
                    successRate: 92 + Math.random() * 5,
                    responseTime: 900 + Math.random() * 400,
                    qualityScore: 4.0 + Math.random() * 0.6,
                    uptime: 98 + Math.random() * 2,
                    cost: Math.random() * 40 + 15,
                    status: { class: 'checking', text: 'Monitoring' }
                }
            };
            
            const metrics = baseMetrics[provider.id] || baseMetrics.openai;
            
            const activities = [
                'Content Generation',
                'Text Analysis',
                'SEO Optimization',
                'Translation',
                'Code Review',
                'Data Processing'
            ];
            
            return {
                ...metrics,
                total: metrics.requests,
                successful: Math.floor(metrics.requests * (metrics.successRate / 100)),
                uptimeHours: Math.floor((metrics.uptime / 100) * 24),
                lastActivity: {
                    action: activities[Math.floor(Math.random() * activities.length)],
                    time: `${Math.floor(Math.random() * 60)} min ago`
                }
            };
        }
        
        async function updatePerformanceOverview() {
            console.log('üìä [AI MONITORING] Updating performance overview...');
            
            try {
                // Get providers from backend instead of localStorage
                const providers = await getConfiguredProviders();
                
                if (providers.length === 0) {
                    // Set overview to no data state
                    document.getElementById('avgResponseTimeDisplay').textContent = 'N/A';
                    document.getElementById('overallSuccessRateDisplay').textContent = 'N/A';
                    document.getElementById('avgQualityScoreDisplay').textContent = 'N/A';
                    document.getElementById('uptimeDisplay').textContent = 'N/A';
                    document.getElementById('totalCostDisplay').textContent = 'N/A';
                } else {
                    // Calculate aggregate metrics
                    let totalResponseTime = 0;
                    let totalSuccessRate = 0;
                    let totalQualityScore = 0;
                    let totalUptime = 0;
                    let totalCost = 0;
                    
                    // Fetch metrics data first
                    let metricsData = null;
                    try {
                        const metricsResponse = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/metrics`, {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                            }
                        });
                        
                        if (metricsResponse.ok) {
                            const data = await metricsResponse.json();
                            metricsData = data.metrics;
                        }
                    } catch (error) {
                        console.error('‚ùå [OVERVIEW] Error fetching metrics:', error);
                    }
                    
                    for (const provider of providers) {
                        const performance = await generateProviderPerformanceData(provider, metricsData);
                        totalResponseTime += performance.responseTime;
                        totalSuccessRate += performance.successRate;
                        totalQualityScore += performance.qualityScore;
                        totalUptime += performance.uptime;
                        totalCost += performance.cost;
                    }
                    
                    const count = providers.length;
                    
                    document.getElementById('avgResponseTimeDisplay').textContent = Math.round(totalResponseTime / count) + 'ms';
                    document.getElementById('overallSuccessRateDisplay').textContent = (totalSuccessRate / count).toFixed(1) + '%';
                    document.getElementById('avgQualityScoreDisplay').textContent = (totalQualityScore / count).toFixed(1);
                    document.getElementById('uptimeDisplay').textContent = (totalUptime / count).toFixed(1) + '%';
                    document.getElementById('totalCostDisplay').textContent = '‡∏ø' + totalCost.toFixed(2);
                }
                
                console.log('‚úÖ [AI MONITORING] Performance overview updated');
                
            } catch (error) {
                console.error('‚ùå [AI MONITORING] Error updating overview:', error);
            }
        }
        
        window.exportPerformanceReport = async function() {
            console.log('üì§ [AI MONITORING] Exporting performance report...');
            
            try {
                // Get providers from backend instead of localStorage
                const providers = await getConfiguredProviders();
                
                if (providers.length === 0) {
                    if (window.showNotification) {
                        window.showNotification('‚ö†Ô∏è No configured providers to export', 'warning');
                    } else {
                        alert('No configured providers to export');
                    }
                    return;
                }
                
                // Generate CSV data
                const headers = ['Provider', 'Model', 'Status', 'Requests', 'Success Rate (%)', 'Response Time (ms)', 'Quality Score', 'Uptime (%)', 'Cost (‡∏ø)', 'Last Activity'];
                let csvContent = headers.join(',') + '\\n';
                
                for (const provider of providers) {
                    const performance = await generateProviderPerformanceData(provider);
                    const row = [
                        provider.name,
                        provider.model,
                        performance.status.text,
                        performance.requests,
                        performance.successRate.toFixed(1),
                        performance.responseTime,
                        performance.qualityScore.toFixed(1),
                        performance.uptime.toFixed(1),
                        performance.cost.toFixed(2),
                        performance.lastActivity.action + ' (' + performance.lastActivity.time + ')'
                    ];
                    csvContent += row.join(',') + '\\n';
                }
                
                // Download CSV
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', `ai_performance_report_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                if (window.showNotification) {
                    window.showNotification('‚úÖ Performance report exported successfully', 'success');
                } else {
                    alert('Performance report exported successfully');
                }
                
                console.log('‚úÖ [AI MONITORING] Performance report exported');
                
            } catch (error) {
                console.error('‚ùå [AI MONITORING] Error exporting report:', error);
                
                if (window.showNotification) {
                    window.showNotification('‚ùå Error exporting performance report', 'error');
                } else {
                    alert('Error exporting performance report');
                }
            }
        };
        
        // ===== BACKEND-INTEGRATED CHATBOT FUNCTIONALITY =====
        
        // Chatbot event handlers
        document.addEventListener('DOMContentLoaded', function() {
            const chatbotForm = document.getElementById('chatbotForm');
            const chatbotInput = document.getElementById('chatbotInput');
            
            if (chatbotForm) {
                chatbotForm.addEventListener('submit', handleChatSubmit);
            }
            
            if (chatbotInput) {
                // Auto-resize textarea
                chatbotInput.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                });
                
                // Submit on Ctrl+Enter
                chatbotInput.addEventListener('keydown', function(e) {
                    if (e.ctrlKey && e.key === 'Enter') {
                        e.preventDefault();
                        handleChatSubmit(e);
                    }
                });
            }
        });
        
        async function handleChatSubmit(e) {
            e.preventDefault();
            
            const input = document.getElementById('chatbotInput');
            const messages = document.getElementById('chatbotMessages');
            const modelSelect = document.getElementById('chatModelSelect');
            
            if (!input || !messages || !modelSelect) {
                console.error('‚ùå [CHATBOT] Required elements not found');
                return;
            }
            
            const message = input.value.trim();
            if (!message) return;
            
            const selectedModel = modelSelect.value;
            
            console.log('ü§ñ [CHATBOT] Sending message to backend:', selectedModel);
            
            // Add user message to chat
            addMessageToChat('user', message);
            
            // Clear input and show typing indicator
            input.value = '';
            input.style.height = 'auto';
            
            const typingId = addTypingIndicator();
            
            try {
                console.log('üöÄ Sending request to AI chat endpoint');
                
                const response = await fetch(`${window.rbckConfig.apiBase}/ai/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: message,
                        provider: selectedModel,
                        model: getModelForProvider(selectedModel)
                    })
                });
                
                removeTypingIndicator(typingId);
                
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.success && data.response) {
                        addMessageToChat('assistant', data.response, selectedModel);
                        
                        // Double check: Force direct DOM manipulation if normal method fails
                        setTimeout(() => {
                            const messagesContainer = document.getElementById('chatbotMessages');
                            if (messagesContainer && messagesContainer.children.length < 2) {
                                console.warn('‚ö†Ô∏è Fallback: Direct DOM manipulation');
                                messagesContainer.innerHTML += `
                                    <div class="chat-message assistant-message" style="margin-bottom: 16px; padding: 12px; border-radius: 12px; background: rgba(255, 255, 255, 0.9); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: block !important; visibility: visible !important; opacity: 1 !important;">
                                        <div class="message-header" style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; font-size: 12px; color: #666;">
                                            <span class="message-avatar" style="font-size: 16px;">‚ú®</span>
                                            <span class="message-author" style="font-weight: 600; color: #333;">Gemini</span>
                                            <span class="message-time" style="color: #999;">${new Date().toLocaleTimeString()}</span>
                                        </div>
                                        <div class="message-content" style="background: #f8f9fa; color: #333; padding: 12px; border-radius: 8px; line-height: 1.4; word-wrap: break-word;">${data.response}</div>
                                    </div>
                                `;
                            }
                        }, 100);
                    } else {
                        console.error('Invalid data format:', data);
                        throw new Error(data.error || 'No response from AI');
                    }
                } else {
                    const errorText = await response.text();
                    console.error('HTTP Error:', response.status, errorText);
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
            } catch (error) {
                console.error('Chatbot error:', error);
                removeTypingIndicator(typingId);
                addMessageToChat('error', `Error: ${error.message}`);
                
                if (window.showNotification) {
                    window.showNotification('‚ùå Chatbot error: ' + error.message, 'error');
                }
            }
        }
        
        function getModelForProvider(provider) {
            const modelMap = {
                'openai': 'gpt-4o-mini',
                'anthropic': 'claude-3-haiku-20240307',
                'gemini': 'gemini-2.0-flash',
                'deepseek': 'deepseek-chat',
                'chinda': 'chinda-qwen3-32b'
            };
            return modelMap[provider] || 'gpt-4o-mini';
        }
        
        function addMessageToChat(type, content, provider = null) {
            const messages = document.getElementById('chatbotMessages');
            if (!messages) {
                console.error('‚ùå chatbotMessages element not found!');
                return;
            }
            console.log('‚úÖ Adding message to chat:', type, content.substring(0, 50));
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type}-message`;
            messageDiv.style.cssText = 'margin-bottom: 16px; padding: 12px; border-radius: 12px; background: rgba(255, 255, 255, 0.9); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: block !important; visibility: visible !important; opacity: 1 !important;';
            
            let avatar = '';
            let authorName = '';
            
            switch (type) {
                case 'user':
                    avatar = 'üë§';
                    authorName = 'You';
                    break;
                case 'assistant':
                    const providerMap = {
                        'openai': { avatar: 'ü§ñ', name: 'OpenAI' },
                        'anthropic': { avatar: 'üß†', name: 'Claude' },
                        'gemini': { avatar: '‚ú®', name: 'Gemini' },
                        'deepseek': { avatar: 'üîç', name: 'DeepSeek' },
                        'chinda': { avatar: 'üöÄ', name: 'ChindaX' }
                    };
                    const providerInfo = providerMap[provider] || { avatar: 'ü§ñ', name: 'AI' };
                    avatar = providerInfo.avatar;
                    authorName = providerInfo.name;
                    break;
                case 'error':
                    avatar = '‚ö†Ô∏è';
                    authorName = 'System';
                    break;
            }
            
            messageDiv.innerHTML = `
                <div class="message-header" style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; font-size: 12px; color: #666;">
                    <span class="message-avatar" style="font-size: 16px;">${avatar}</span>
                    <span class="message-author" style="font-weight: 600; color: #333;">${authorName}</span>
                    <span class="message-time" style="color: #999;">${new Date().toLocaleTimeString()}</span>
                </div>
                <div class="message-content" style="background: ${type === 'user' ? '#007bff' : '#f8f9fa'}; color: ${type === 'user' ? 'white' : '#333'}; padding: 12px; border-radius: 8px; line-height: 1.4; word-wrap: break-word;">${content}</div>
            `;
            
            messages.appendChild(messageDiv);
            messages.scrollTop = messages.scrollHeight;
        }
        
        function addTypingIndicator() {
            const messages = document.getElementById('chatbotMessages');
            if (!messages) return null;
            
            const typingDiv = document.createElement('div');
            const typingId = 'typing-' + Date.now();
            typingDiv.id = typingId;
            typingDiv.className = 'chat-message typing-message';
            typingDiv.innerHTML = `
                <div class="message-header">
                    <span class="message-avatar">ü§ñ</span>
                    <span class="message-author">AI</span>
                </div>
                <div class="message-content typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            `;
            
            messages.appendChild(typingDiv);
            messages.scrollTop = messages.scrollHeight;
            
            return typingId;
        }
        
        function removeTypingIndicator(typingId) {
            if (typingId) {
                const typingDiv = document.getElementById(typingId);
                if (typingDiv) {
                    typingDiv.remove();
                }
            }
        }
        
        async function updateChatbotProviders() {
            const modelSelect = document.getElementById('chatModelSelect');
            if (!modelSelect) return;
            
            try {
                // Get provider status from backend (using available endpoint) - with cache busting
                const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status?t=${Date.now()}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                    }
                });
                
                let providersData = {};
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('üîç [CHATBOT] Provider data received:', data);
                    // Handle both /ai/status and /ai/status response formats
                    providersData = data.data?.providers || data.providers || {};
                } else {
                    console.warn('‚ö†Ô∏è [CHATBOT] Backend not available, using fallback');
                    // Fallback: use basic providers as ready (especially Gemini and ChindaX)
                    providersData = {
                        gemini: { configured: true, status: 'ready' },
                        openai: { configured: false, status: 'needs_configuration' },
                        claude: { configured: false, status: 'needs_configuration' },
                        deepseek: { configured: false, status: 'needs_configuration' },
                        chinda: { configured: true, status: 'ready' }
                    };
                }
                
                console.log('üîç [CHATBOT] Processing providers data:', providersData);
                
                // Force Gemini as available if backend confirms it's working
                if (providersData.gemini && providersData.gemini.configured) {
                    providersData.gemini.status = 'ready';
                    console.log('‚úÖ [CHATBOT] Gemini marked as ready');
                }
                
                // Force ChindaX as available if backend confirms it's working
                if (providersData.chinda && providersData.chinda.configured) {
                    providersData.chinda.status = 'ready';
                    console.log('‚úÖ [CHATBOT] ChindaX marked as ready');
                }
                
                // Update dropdown options (match with backend provider status)
                const options = [
                    { value: 'openai', text: 'OpenAI (GPT-4/3.5)', enabled: providersData.openai?.configured && providersData.openai?.status === 'ready' },
                    { value: 'anthropic', text: 'Anthropic (Claude)', enabled: providersData.claude?.configured && providersData.claude?.status === 'ready' },
                    { value: 'gemini', text: 'Gemini 2.0 Flash', enabled: providersData.gemini?.configured && providersData.gemini?.status === 'ready' },
                    { value: 'deepseek', text: 'DeepSeek AI', enabled: providersData.deepseek?.configured && providersData.deepseek?.status === 'ready' },
                    { value: 'chinda', text: 'ChindaX (qwen3-32b)', enabled: providersData.chinda?.configured && providersData.chinda?.status === 'ready' }
                ];
                
                modelSelect.innerHTML = '';
                
                options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.value;
                    optionElement.textContent = option.text + (option.enabled ? '' : ' (Not Available)');
                    optionElement.disabled = !option.enabled;
                    modelSelect.appendChild(optionElement);
                });
                
                // Select first available provider
                const firstAvailable = options.find(opt => opt.enabled);
                if (firstAvailable) {
                    modelSelect.value = firstAvailable.value;
                }
                
                console.log('‚úÖ [CHATBOT] Provider dropdown updated with backend status');
                
            } catch (error) {
                console.error('‚ùå [CHATBOT] Error updating providers:', error);
                
                // Fallback: show all providers (force Gemini and ChindaX as ready)
                const fallbackOptions = [
                    { value: 'gemini', text: 'Gemini 2.0 Flash' },
                    { value: 'chinda', text: 'ChindaX (qwen3-32b)' },
                    { value: 'openai', text: 'OpenAI (GPT-4/3.5) (Not Available)' },
                    { value: 'anthropic', text: 'Anthropic (Claude) (Not Available)' }
                ];
                
                modelSelect.innerHTML = '';
                fallbackOptions.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.value;
                    optionElement.textContent = option.text;
                    modelSelect.appendChild(optionElement);
                });
            }
        }
        
        // Initialize backend-integrated features on page load
        setTimeout(function() {
            // Note: loadSavedAPIKeys removed - backend manages API keys
            updateChatbotProviders(); // Uses backend status now
            refreshAIStatus(); // Load dashboard AI status from backend
            refreshAllProviderMetrics(); // Load AI monitoring data from backend
        }, 4000);
        
        // Make functions globally available (use existing functions from main-production.js)
        // Functions are already defined in main-production.js, no need to reassign
        if (!window.openAISettingsModal) {
            window.openAISettingsModal = function() { 
                console.warn('‚ö†Ô∏è openAISettingsModal not yet loaded'); 
            };
        }
        if (!window.closeAISettingsModal) {
            window.closeAISettingsModal = function() { 
                const modal = document.getElementById('aiSettingsModal');
                if (modal) modal.style.display = 'none';
            };
        }
        
        // DEBUG: Test function for Performance tab
        window.debugPerformanceTab = function() {
            console.log('üîß [DEBUG] Manual Performance Tab Test');
            const perfTab = document.getElementById('performance-tab');
            const perfButton = document.querySelector('[data-tab="performance"]');
            
            console.log('Performance tab element:', perfTab);
            console.log('Performance button element:', perfButton);
            
            if (perfTab) {
                console.log('Performance tab HTML:', perfTab.innerHTML.substring(0, 200) + '...');
                console.log('Performance tab computed styles:', {
                    display: window.getComputedStyle(perfTab).display,
                    visibility: window.getComputedStyle(perfTab).visibility,
                    opacity: window.getComputedStyle(perfTab).opacity,
                    height: window.getComputedStyle(perfTab).height
                });
            }
            
            // Force show Performance tab
            if (perfTab) {
                perfTab.style.display = 'block !important';
                perfTab.style.visibility = 'visible !important';
                perfTab.style.opacity = '1 !important';
                perfTab.classList.add('active');
                console.log('‚úÖ Forced Performance tab to show');
            }
        };

        // Modern AI Settings Functions
        // switchAITab function ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏ô main-production.js ‡πÅ‡∏•‡πâ‡∏ß

        async function testProvider(provider) {
            console.log(`üîß [AI Settings] Testing ${provider} provider connection...`);
            
            const badge = document.getElementById(`${provider}-badge`);
            const apiKeyInput = document.getElementById(`${provider}ApiKey`);
            
            if (!apiKeyInput || !apiKeyInput.value.trim()) {
                if (badge) {
                    badge.textContent = 'No API Key';
                    badge.style.background = '#f59e0b';
                }
                showNotification(`‚ùå Please enter ${provider} API key first`, 'error');
                return;
            }
            
            if (badge) {
                badge.textContent = 'Testing...';
                badge.style.background = '#ffc107';
            }
            
            try {
                let testResult = false;
                const apiKey = apiKeyInput.value.trim();
                
                switch(provider) {
                    case 'openai':
                        testResult = await testOpenAIConnection(apiKey);
                        break;
                    case 'claude':
                        testResult = await testClaudeConnection(apiKey);
                        break;
                    case 'gemini':
                        testResult = await testGeminiConnection(apiKey);
                        break;
                    case 'deepseek':
                        testResult = await testDeepSeekConnection(apiKey);
                        break;
                    case 'chindax':
                        const jwtToken = document.getElementById('chindaxJwtToken')?.value || '';
                        testResult = await testChindaXConnection(apiKey, jwtToken);
                        break;
                    default:
                        console.error(`Unknown provider: ${provider}`);
                        testResult = false;
                }
                
                if (badge) {
                    if (testResult) {
                        badge.textContent = 'Connected';
                        badge.style.background = '#10b981';
                        showNotification(`‚úÖ ${provider} connection successful`, 'success');
                    } else {
                        badge.textContent = 'Failed';
                        badge.style.background = '#ef4444';
                        showNotification(`‚ùå ${provider} connection failed`, 'error');
                    }
                }
                
                return testResult;
                
            } catch (error) {
                console.error(`‚ùå [AI Settings] ${provider} test failed:`, error);
                if (badge) {
                    badge.textContent = 'Error';
                    badge.style.background = '#ef4444';
                }
                showNotification(`‚ùå ${provider} connection error: ${error.message}`, 'error');
                return false;
            }
        }

        // Real API connection test functions
        async function testOpenAIConnection(apiKey) {
            try {
                console.log('üîç [OpenAI] Testing connection...');
                const response = await fetch('https://api.openai.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ [OpenAI] Connection successful', data.data?.length || 0, 'models');
                    return true;
                } else {
                    console.error('‚ùå [OpenAI] API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå [OpenAI] Connection failed:', error);
                return false;
            }
        }

        async function testClaudeConnection(apiKey) {
            try {
                console.log('üîç [Claude] Testing connection...');
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'x-api-key': apiKey,
                        'Content-Type': 'application/json',
                        'anthropic-version': '2023-06-01'
                    },
                    body: JSON.stringify({
                        model: 'claude-3-haiku-20240307',
                        max_tokens: 10,
                        messages: [{ role: 'user', content: 'test' }]
                    })
                });
                
                if (response.ok) {
                    console.log('‚úÖ [Claude] Connection successful');
                    return true;
                } else {
                    console.error('‚ùå [Claude] API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå [Claude] Connection failed:', error);
                return false;
            }
        }

        async function testGeminiConnection(apiKey) {
            try {
                console.log('üîç [Gemini] Testing connection...');
                const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: 'test' }] }],
                        generationConfig: { maxOutputTokens: 10 }
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ [Gemini] Connection successful');
                    return true;
                } else {
                    console.error('‚ùå [Gemini] API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå [Gemini] Connection failed:', error);
                return false;
            }
        }

        async function testDeepSeekConnection(apiKey) {
            try {
                console.log('üîç [DeepSeek] Testing connection...');
                const response = await fetch('https://api.deepseek.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    console.log('‚úÖ [DeepSeek] Connection successful');
                    return true;
                } else {
                    console.error('‚ùå [DeepSeek] API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå [DeepSeek] Connection failed:', error);
                return false;
            }
        }

        async function testChindaXConnection(apiKey, jwtToken) {
            try {
                console.log('üîç [ChindaX] Testing connection...');
                // ChindaX API endpoint - adjust as needed
                const response = await fetch('https://api.chindax.com/v1/test', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'X-JWT-Token': jwtToken,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    console.log('‚úÖ [ChindaX] Connection successful');
                    return true;
                } else {
                    console.error('‚ùå [ChindaX] API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå [ChindaX] Connection failed:', error);
                return false;
            }
        }

        // Real-time status monitoring
        let connectionStatusInterval = null;
        
        function startRealTimeMonitoring() {
            console.log('üîÑ [AI Settings] Starting real-time monitoring...');
            
            // Clear existing interval
            if (connectionStatusInterval) {
                clearInterval(connectionStatusInterval);
            }
            
            // Check status every 30 seconds
            connectionStatusInterval = setInterval(async () => {
                const currentTab = document.querySelector('.ai-settings-tab.active')?.getAttribute('data-tab');
                
                if (currentTab === 'models') {
                    await updateConnectionStatusSilent();
                } else if (currentTab === 'general') {
                    window.loadGeneralTabData?.();
                } else if (currentTab === 'performance') {
                    window.loadPerformanceData?.();
                }
            }, 30000); // 30 seconds
        }
        
        function stopRealTimeMonitoring() {
            console.log('‚èπÔ∏è [AI Settings] Stopping real-time monitoring...');
            if (connectionStatusInterval) {
                clearInterval(connectionStatusInterval);
                connectionStatusInterval = null;
            }
        }
        
        // Silent status update (no notifications)
        async function updateConnectionStatusSilent() {
            console.log('üîÑ [AI Settings] Silent status update...');
            
            const providers = ['openai', 'claude', 'gemini', 'deepseek', 'chindax'];
            
            for (const provider of providers) {
                const badge = document.getElementById(`${provider}-badge`);
                const apiKeyInput = document.getElementById(`${provider}ApiKey`);
                
                if (badge && apiKeyInput && apiKeyInput.value.trim()) {
                    const currentStatus = badge.textContent;
                    
                    // Only check if not already checking
                    if (currentStatus !== 'Testing...') {
                        try {
                            // Test connection silently
                            const testResult = await testProviderSilent(provider);
                            
                            if (testResult !== null) {
                                if (testResult) {
                                    badge.textContent = 'Connected';
                                    badge.style.background = '#10b981';
                                } else {
                                    badge.textContent = 'Failed';
                                    badge.style.background = '#ef4444';
                                }
                            }
                        } catch (error) {
                            console.error(`‚ùå [${provider}] Silent check failed:`, error);
                        }
                    }
                } else if (badge && badge.textContent !== 'No API Key') {
                    badge.textContent = 'Not Connected';
                    badge.style.background = '#6c757d';
                }
            }
        }
        
        // Silent test (no UI feedback during test)
        async function testProviderSilent(provider) {
            try {
                const apiKeyInput = document.getElementById(`${provider}ApiKey`);
                if (!apiKeyInput || !apiKeyInput.value.trim()) return null;
                
                const apiKey = apiKeyInput.value.trim();
                
                switch(provider) {
                    case 'openai':
                        return await testOpenAIConnection(apiKey);
                    case 'claude':
                        return await testClaudeConnection(apiKey);
                    case 'gemini':
                        return await testGeminiConnection(apiKey);
                    case 'deepseek':
                        return await testDeepSeekConnection(apiKey);
                    case 'chindax':
                        const jwtToken = document.getElementById('chindaxJwtToken')?.value || '';
                        return await testChindaXConnection(apiKey, jwtToken);
                    default:
                        return null;
                }
            } catch (error) {
                console.error(`‚ùå [${provider}] Silent test failed:`, error);
                return false;
            }
        }
        
        // Auto-test on API key input
        function setupAutoTesting() {
            const providers = ['openai', 'claude', 'gemini', 'deepseek', 'chindax'];
            
            providers.forEach(provider => {
                const apiKeyInput = document.getElementById(`${provider}ApiKey`);
                if (apiKeyInput) {
                    // Debounced auto-test
                    let autoTestTimeout = null;
                    
                    apiKeyInput.addEventListener('input', function() {
                        const badge = document.getElementById(`${provider}-badge`);
                        
                        // Clear previous timeout
                        if (autoTestTimeout) {
                            clearTimeout(autoTestTimeout);
                        }
                        
                        // Update badge immediately
                        if (badge) {
                            if (this.value.trim()) {
                                badge.textContent = 'Ready to Test';
                                badge.style.background = '#3b82f6';
                            } else {
                                badge.textContent = 'No API Key';
                                badge.style.background = '#6c757d';
                            }
                        }
                        
                        // Auto-test after 2 seconds of no typing
                        if (this.value.trim().length > 10) { // Only if looks like valid key
                            autoTestTimeout = setTimeout(async () => {
                                console.log(`üîÑ [${provider}] Auto-testing connection...`);
                                await testProvider(provider);
                            }, 2000);
                        }
                    });
                }
                
                // Also set up for JWT token input (ChindaX)
                if (provider === 'chindax') {
                    const jwtInput = document.getElementById('chindaxJwtToken');
                    if (jwtInput) {
                        jwtInput.addEventListener('input', function() {
                            const badge = document.getElementById('chindax-badge');
                            if (badge && this.value.trim()) {
                                badge.textContent = 'Ready to Test';
                                badge.style.background = '#3b82f6';
                            }
                        });
                    }
                }
            });
        }

        function saveAISettings() {
            console.log('üíæ [Modern AI Settings] Saving settings...');
            
            // Collect all API keys
            const settings = {
                openai: document.getElementById('openaiApiKey')?.value || '',
                claude: document.getElementById('claudeApiKey')?.value || '',
                gemini: document.getElementById('geminiApiKey')?.value || '',
                deepseek: document.getElementById('deepseekApiKey')?.value || '',
                chindax: {
                    apiKey: document.getElementById('chindaxApiKey')?.value || '',
                    jwtToken: document.getElementById('chindaxJwtToken')?.value || ''
                },
                requestTimeout: document.getElementById('requestTimeout')?.value || 30,
                cacheDuration: document.getElementById('cacheDuration')?.value || 15,
                maxRequests: document.getElementById('maxRequests')?.value || 5,
                rateLimit: document.getElementById('rateLimit')?.value || 100,
                loggingLevel: document.getElementById('loggingLevel')?.value || 'info',
                temperature: document.getElementById('temperature')?.value || 0.7
            };
            
            // Save to localStorage
            localStorage.setItem('rbck_ai_settings', JSON.stringify(settings));
            
            // Update last saved timestamp
            const lastSavedElement = document.getElementById('lastSaved');
            if (lastSavedElement) {
                lastSavedElement.textContent = new Date().toLocaleString();
            }
            
            // Show success notification
            showNotification('AI Settings saved successfully!', 'success');
            
            // Update dashboard if visible
            if (typeof refreshAIStatus === 'function') {
                setTimeout(refreshAIStatus, 500);
            }
            
            console.log('‚úÖ [Modern AI Settings] Settings saved successfully');
        }

        function loadAISettings() {
            console.log('üì• [Modern AI Settings] Loading saved settings...');
            
            const savedSettings = localStorage.getItem('rbck_ai_settings');
            if (savedSettings) {
                try {
                    const settings = JSON.parse(savedSettings);
                    
                    // Load API keys
                    if (settings.openai) document.getElementById('openaiApiKey').value = settings.openai;
                    if (settings.claude) document.getElementById('claudeApiKey').value = settings.claude;
                    if (settings.gemini) document.getElementById('geminiApiKey').value = settings.gemini;
                    if (settings.deepseek) document.getElementById('deepseekApiKey').value = settings.deepseek;
                    if (settings.chindax?.apiKey) document.getElementById('chindaxApiKey').value = settings.chindax.apiKey;
                    if (settings.chindax?.jwtToken) document.getElementById('chindaxJwtToken').value = settings.chindax.jwtToken;
                    
                    // Load other settings
                    if (settings.requestTimeout) {
                        const timeoutSlider = document.getElementById('requestTimeout');
                        const timeoutValue = document.getElementById('timeoutValue');
                        if (timeoutSlider && timeoutValue) {
                            timeoutSlider.value = settings.requestTimeout;
                            timeoutValue.textContent = settings.requestTimeout + 's';
                        }
                    }
                    
                    // Update provider status indicators
                    updateProviderStatus();
                    
                    console.log('‚úÖ [Modern AI Settings] Settings loaded successfully');
                } catch (error) {
                    console.error('‚ùå [Modern AI Settings] Error loading settings:', error);
                }
            }
        }

        function updateProviderStatus() {
            const providers = ['openai', 'claude', 'gemini', 'deepseek', 'chindax'];
            
            providers.forEach(provider => {
                const statusIndicator = document.getElementById(`${provider}-status`);
                const statusText = document.getElementById(`${provider}-status-text`);
                
                if (statusIndicator && statusText) {
                    let hasKey = false;
                    
                    if (provider === 'chindax') {
                        const apiKey = document.getElementById('chindaxApiKey')?.value;
                        const jwtToken = document.getElementById('chindaxJwtToken')?.value;
                        hasKey = apiKey && jwtToken;
                    } else {
                        const apiKeyField = document.getElementById(`${provider}ApiKey`);
                        hasKey = apiKeyField && apiKeyField.value.length > 0;
                    }
                    
                    if (hasKey) {
                        statusIndicator.style.background = 'var(--accent-emerald)';
                        statusText.textContent = 'Configured';
                    } else {
                        statusIndicator.style.background = 'var(--gray-400)';
                        statusText.textContent = 'Not Configured';
                    }
                }
            });
        }

        // Slider value updates
        function updateSliderValues() {
            const sliders = [
                { id: 'requestTimeout', valueId: 'timeoutValue', suffix: 's' },
                { id: 'cacheDuration', valueId: 'cacheValue', suffix: ' min' },
                { id: 'maxRequests', valueId: 'requestsValue', suffix: '' },
                { id: 'rateLimit', valueId: 'rateLimitValue', suffix: '' },
                { id: 'temperature', valueId: 'temperatureValue', suffix: '' }
            ];
            
            sliders.forEach(slider => {
                const element = document.getElementById(slider.id);
                const valueElement = document.getElementById(slider.valueId);
                
                if (element && valueElement) {
                    element.addEventListener('input', function() {
                        valueElement.textContent = element.value + slider.suffix;
                    });
                }
            });
        }

        // Utility functions
        function clearCache() {
            localStorage.removeItem('rbck_ai_cache');
            showNotification('Cache cleared successfully!', 'success');
        }

        function resetSettings() {
            if (confirm('Are you sure you want to reset all AI settings to defaults?')) {
                localStorage.removeItem('rbck_ai_settings');
                location.reload();
            }
        }

        function exportSettings() {
            const settings = localStorage.getItem('rbck_ai_settings');
            if (settings) {
                const blob = new Blob([settings], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'ai-settings-export.json';
                a.click();
                URL.revokeObjectURL(url);
                showNotification('Settings exported successfully!', 'success');
            }
        }

        // Initialize modern AI settings when modal opens
        function initializeModernAISettings() {
            console.log('üöÄ [Modern AI Settings] Initializing...');
            
            // Ensure General tab is active by default
            setTimeout(() => {
                switchAITab('general');
            }, 50);
            
            // Load saved settings
            loadAISettings();
            
            // Setup slider value updates
            updateSliderValues();
            
            // Setup input change listeners for real-time status updates
            const inputs = ['openaiApiKey', 'claudeApiKey', 'geminiApiKey', 'deepseekApiKey', 'chindaxApiKey', 'chindaxJwtToken'];
            inputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                if (input) {
                    input.addEventListener('input', updateProviderStatus);
                }
            });
            
            console.log('‚úÖ [Modern AI Settings] Initialized successfully');
        }

        // Override openAISettingsModal to use modern version
        const originalOpenAISettingsModal = window.openAISettingsModal;
        window.openAISettingsModal = function() {
            console.log('üîß [Modern AI Settings] Opening modern modal...');
            
            const modal = document.getElementById('aiSettingsModal');
            if (modal) {
                modal.classList.remove('ai-modal-hidden');
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
                document.body.classList.add('ai-modal-open'); // Add white background class
                
                // Initialize after modal is visible
                setTimeout(initializeModernAISettings, 100);
                
                console.log('‚úÖ [Modern AI Settings] Modern modal opened');
            } else {
                console.error('‚ùå [Modern AI Settings] Modal not found');
            }
        };

        // Override closeAISettingsModal to use modern version
        window.closeAISettingsModal = function() {
            console.log('üîß [Modern AI Settings] Closing modern modal...');
            
            // Stop real-time monitoring when modal closes
            if (typeof window.stopRealTimeMonitoring === 'function') {
                window.stopRealTimeMonitoring();
            }
            
            const modal = document.getElementById('aiSettingsModal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.classList.add('ai-modal-hidden');
                }, 300); // Wait for animation
                document.body.style.overflow = '';
                document.body.classList.remove('ai-modal-open'); // Remove white background class
                
                console.log('‚úÖ [Modern AI Settings] Modern modal closed');
            }
        };

        // Performance Tab Functions
        function refreshPerformanceData() {
            console.log('üîÑ [Performance] Refreshing performance data...');
            
            // Simulate data refresh with animation
            const refreshBtn = document.querySelector('.performance-refresh-btn');
            if (refreshBtn) {
                refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Refreshing...';
                refreshBtn.disabled = true;
                
                setTimeout(() => {
                    // Update metrics with new values
                    updatePerformanceMetrics();
                    refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                    refreshBtn.disabled = false;
                    showNotification('Performance data refreshed successfully!', 'success');
                }, 2000);
            }
        }

        function updatePerformanceMetrics() {
            // Simulate real-time metric updates
            const metrics = {
                avgResponseTime: Math.floor(Math.random() * 300 + 700) + 'ms',
                successRate: (Math.random() * 2 + 97).toFixed(1) + '%',
                totalRequests: (Math.floor(Math.random() * 5000) + 12000).toLocaleString(),
                cacheHitRate: (Math.random() * 10 + 85).toFixed(1) + '%'
            };

            Object.keys(metrics).forEach(metricId => {
                const element = document.getElementById(metricId);
                if (element) {
                    element.textContent = metrics[metricId];
                }
            });

            // Animate usage bars
            animateUsageBars();
            
            // Animate health metrics
            animateHealthMetrics();
        }

        function animateUsageBars() {
            document.querySelectorAll('.usage-fill').forEach(bar => {
                const width = bar.getAttribute('data-width');
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width + '%';
                }, 100);
            });
        }

        function animateHealthMetrics() {
            document.querySelectorAll('.health-metric-fill').forEach(fill => {
                const percentage = fill.getAttribute('data-percentage');
                fill.style.width = '0%';
                setTimeout(() => {
                    fill.style.width = percentage + '%';
                }, 200);
            });
        }

        function exportPerformanceReport() {
            console.log('üì§ [Performance] Exporting performance report...');
            
            const reportData = {
                timestamp: new Date().toISOString(),
                metrics: {
                    avgResponseTime: document.getElementById('avgResponseTime')?.textContent || 'N/A',
                    successRate: document.getElementById('successRate')?.textContent || 'N/A',
                    totalRequests: document.getElementById('totalRequests')?.textContent || 'N/A',
                    cacheHitRate: document.getElementById('cacheHitRate')?.textContent || 'N/A'
                },
                providers: [
                    { name: 'OpenAI GPT-4', usage: '32%', requests: '4,879' },
                    { name: 'Claude 3.5', usage: '28%', requests: '4,269' },
                    { name: 'Gemini 2.0', usage: '23%', requests: '3,507' },
                    { name: 'ChindaX', usage: '12%', requests: '1,829' },
                    { name: 'DeepSeek V2', usage: '5%', requests: '763' }
                ]
            };

            const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `performance-report-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Performance report exported successfully!', 'success');
        }

        function toggleProviderDetails() {
            console.log('üëÅÔ∏è [Performance] Toggling provider details...');
            showNotification('Provider details view coming soon!', 'info');
        }

        function initializePerformanceTab() {
            console.log('üöÄ [Performance] Initializing performance tab...');
            
            // Initialize usage bar animations
            setTimeout(animateUsageBars, 500);
            
            // Initialize health metrics
            setTimeout(animateHealthMetrics, 800);
            
            // Setup chart control buttons
            document.querySelectorAll('.chart-control-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.chart-control-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const period = this.getAttribute('data-period');
                    console.log(`üìä [Performance] Switching chart to ${period} view`);
                    showNotification(`Chart switched to ${period} view`, 'info');
                });
            });
            
            // Setup optimization checkboxes
            document.querySelectorAll('.optimization-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const feature = this.id;
                    const isEnabled = this.checked;
                    const statusElement = this.closest('.optimization-item').querySelector('.optimization-status');
                    
                    if (statusElement) {
                        if (isEnabled) {
                            statusElement.className = 'optimization-status enabled';
                            statusElement.innerHTML = '<i class="fas fa-check"></i> Enabled';
                        } else {
                            statusElement.className = 'optimization-status disabled';
                            statusElement.innerHTML = '<i class="fas fa-times"></i> Disabled';
                        }
                    }
                    
                    console.log(`‚öôÔ∏è [Performance] ${feature} ${isEnabled ? 'enabled' : 'disabled'}`);
                    showNotification(`${feature.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())} ${isEnabled ? 'enabled' : 'disabled'}`, 'success');
                });
            });
            
            console.log('‚úÖ [Performance] Performance tab initialized successfully');
        }

        // Override tab switching to initialize performance tab
        const originalSwitchAITab = switchAITab;
        function enhancedSwitchAITab(tabName) {
            originalSwitchAITab(tabName);
            
            if (tabName === 'performance') {
                setTimeout(initializePerformanceTab, 100);
            }
        }

        // Make new functions globally available
        window.switchAITab = enhancedSwitchAITab;
        window.testProvider = testProvider;
        window.saveAISettings = saveAISettings;
        window.clearCache = clearCache;
        window.resetSettings = resetSettings;
        window.exportSettings = exportSettings;
        window.refreshPerformanceData = refreshPerformanceData;
        window.exportPerformanceReport = exportPerformanceReport;
        window.toggleProviderDetails = toggleProviderDetails;
        
        // Make monitoring functions globally available
        window.startRealTimeMonitoring = startRealTimeMonitoring;
        window.stopRealTimeMonitoring = stopRealTimeMonitoring;
        window.setupAutoTesting = setupAutoTesting;
        window.updateConnectionStatusSilent = updateConnectionStatusSilent;
        
        // Comprehensive testing function
        window.testAISettingsComplete = async function() {
            console.log('üß™ [TEST] Starting comprehensive AI Settings test...');
            
            // Test 1: Tab switching with content verification
            console.log('üß™ [TEST] Phase 1: Testing tab switching...');
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            
            for (const tab of tabs) {
                console.log(`üß™ [TEST] Switching to ${tab} tab...`);
                window.switchAITab(tab);
                
                // Verify tab is active
                const activeTab = document.querySelector('.ai-settings-tab.active');
                const activeContent = document.querySelector('.ai-tab-content.active');
                
                if (activeTab?.getAttribute('data-tab') === tab && activeContent?.id === `${tab}-tab`) {
                    console.log(`‚úÖ [TEST] ${tab} tab switch successful`);
                    
                    // Check unique content
                    const contentText = activeContent.textContent.substring(0, 100);
                    console.log(`üìù [TEST] ${tab} tab content preview:`, contentText);
                    
                    // Verify visibility
                    const computedStyle = window.getComputedStyle(activeContent);
                    console.log(`üëÅÔ∏è [TEST] ${tab} tab visibility:`, {
                        display: computedStyle.display,
                        visibility: computedStyle.visibility,
                        opacity: computedStyle.opacity,
                        height: activeContent.offsetHeight
                    });
                } else {
                    console.error(`‚ùå [TEST] ${tab} tab switch failed`);
                    console.error('Active tab:', activeTab?.getAttribute('data-tab'));
                    console.error('Active content:', activeContent?.id);
                }
                
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            // Test 2: Connection status elements
            console.log('üß™ [TEST] Phase 2: Testing connection status elements...');
            const providers = ['openai', 'claude', 'gemini', 'deepseek', 'chindax'];
            
            for (const provider of providers) {
                const badge = document.getElementById(`${provider}-badge`);
                const apiKeyInput = document.getElementById(`${provider}ApiKey`);
                const testButton = document.querySelector(`button[onclick="testProvider('${provider}')"]`);
                
                if (badge && apiKeyInput && testButton) {
                    console.log(`‚úÖ [TEST] ${provider} UI elements found`);
                } else {
                    console.error(`‚ùå [TEST] ${provider} missing elements:`, {
                        badge: !!badge,
                        apiKeyInput: !!apiKeyInput,
                        testButton: !!testButton
                    });
                }
            }
            
            // Test 3: Function availability
            console.log('üß™ [TEST] Phase 3: Testing function availability...');
            const requiredFunctions = [
                'switchAITab',
                'testProvider',
                'startRealTimeMonitoring',
                'stopRealTimeMonitoring',
                'setupAutoTesting',
                'updateConnectionStatus',
                'loadPerformanceData',
                'loadGeneralTabData'
            ];
            
            for (const funcName of requiredFunctions) {
                if (typeof window[funcName] === 'function') {
                    console.log(`‚úÖ [TEST] Function ${funcName} available`);
                } else {
                    console.error(`‚ùå [TEST] Function ${funcName} missing`);
                }
            }
            
            // Test 4: Real-time monitoring
            console.log('üß™ [TEST] Phase 4: Testing real-time monitoring...');
            window.startRealTimeMonitoring();
            
            setTimeout(() => {
                if (connectionStatusInterval) {
                    console.log('‚úÖ [TEST] Real-time monitoring started');
                    window.stopRealTimeMonitoring();
                    
                    setTimeout(() => {
                        if (!connectionStatusInterval) {
                            console.log('‚úÖ [TEST] Real-time monitoring stopped');
                        } else {
                            console.error('‚ùå [TEST] Real-time monitoring failed to stop');
                        }
                    }, 100);
                } else {
                    console.error('‚ùå [TEST] Real-time monitoring failed to start');
                }
            }, 100);
            
            console.log('üéâ [TEST] Comprehensive test completed!');
            console.log('üí° [TEST] Use window.testProvider("gemini") to test actual API connections');
        };
        
        // ===== AI SWARM COUNCIL FUNCTIONS =====
        
        // Global AI Swarm Council object
        window.aiSwarmCouncil = {
            providers: {
                gemini: { name: 'Gemini 2.0 Flash', status: false, role: 'primary_creator' },
                openai: { name: 'OpenAI GPT', status: false, role: 'quality_reviewer' },
                claude: { name: 'Claude AI', status: false, role: 'content_optimizer' },
                deepseek: { name: 'DeepSeek AI', status: false, role: 'technical_validator' },
                chinda: { name: 'ChindaX AI', status: false, role: 'multilingual_advisor' }
            },
            
            async checkProviderStatus(providerKey) {
                try {
                    console.log(`üîç [AI SWARM] Checking ${providerKey} via API...`);
                    const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status/${providerKey}?t=${Date.now()}`, {
                        method: 'GET',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json',
                            'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        console.log(`‚úÖ [AI SWARM] ${providerKey} API response:`, data);
                        // Check for success and proper status structure
                        return data.success && (data.data?.status === 'ready' || data.data?.configured === true);
                    } else {
                        console.warn(`‚ö†Ô∏è [AI SWARM] ${providerKey} API returned ${response.status}`);
                    }
                } catch (error) {
                    console.error(`‚ùå [AI SWARM] ${providerKey} check failed:`, error);
                }
                return false;
            },
            
            async refreshProviders() {
                console.log('üîÑ [AI SWARM] Refreshing all providers...');
                const connectedProviders = [];
                
                for (const [key, provider] of Object.entries(this.providers)) {
                    try {
                        const isConnected = await this.checkProviderStatus(key);
                        this.providers[key].status = isConnected;
                        
                        if (isConnected) {
                            connectedProviders.push(key);
                            console.log(`‚úÖ [AI SWARM] ${key} is connected`);
                        } else {
                            console.log(`‚ùå [AI SWARM] ${key} is disconnected`);
                        }
                    } catch (error) {
                        console.error(`[AI SWARM] Error checking ${key} status:`, error);
                        this.providers[key].status = false;
                    }
                }
                
                this.renderProviders();
                console.log(`üîó [AI SWARM] Connected providers: ${connectedProviders.length}/5`);
                return connectedProviders;
            },
            
            renderProviders() {
                const tableBody = document.getElementById('aiProvidersTableBody');
                if (!tableBody) {
                    console.error('‚ùå [AI SWARM] Table body not found');
                    return;
                }
                
                tableBody.innerHTML = '';
                
                Object.entries(this.providers).forEach(([key, provider]) => {
                    const row = document.createElement('tr');
                    const statusClass = provider.status ? 'status-connected' : 'status-disconnected';
                    const statusText = provider.status ? '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß' : '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠';
                    const statusIcon = provider.status ? 'üü¢' : 'üî¥';
                    
                    row.innerHTML = `
                        <td data-type="model">${provider.name}</td>
                        <td data-type="status" class="${statusClass}">${statusIcon} ${statusText}</td>
                        <td data-type="role">${this.getRoleText(provider.role)}</td>
                        <td data-type="expertise">${this.getExpertiseText(key)}</td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Update active providers count
                const activeCount = Object.values(this.providers).filter(p => p.status).length;
                const activeCountElement = document.getElementById('activeProvidersCount');
                if (activeCountElement) {
                    activeCountElement.textContent = activeCount;
                }
            },
            
            getRoleText(role) {
                const roleMap = {
                    'primary_creator': '‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å',
                    'quality_reviewer': '‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û',
                    'content_optimizer': '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤',
                    'technical_validator': '‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ',
                    'multilingual_advisor': '‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤'
                };
                return roleMap[role] || role;
            },
            
            getExpertiseText(provider) {
                const expertiseMap = {
                    'gemini': '‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤, SEO',
                    'openai': '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û, ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á',
                    'claude': '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô',
                    'deepseek': '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ, ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÇ‡∏Ñ‡πâ‡∏î',
                    'chinda': '‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•, ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°'
                };
                return expertiseMap[provider] || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏';
            }
        };
        
        // Global functions for AI Swarm Council
        window.refreshAISwarmProviders = function() {
            window.aiSwarmCouncil.refreshProviders();
        };
        
        window.debugAISwarm = function() {
            console.log('üêõ [AI SWARM DEBUG] Current state:', window.aiSwarmCouncil.providers);
            console.log('üêõ [AI SWARM DEBUG] API Base:', window.rbckConfig?.apiBase);
            window.aiSwarmCouncil.refreshProviders();
        };
        
        // ===== AI MONITORING FUNCTIONS =====
        
        window.aiMonitoringSystem = {
            providers: ['gemini', 'openai', 'claude', 'deepseek', 'chinda'],
            metrics: {},
            
            init() {
                this.providers.forEach(provider => {
                    this.metrics[provider] = {
                        totalRequests: 0,
                        successfulRequests: 0,
                        failedRequests: 0,
                        averageResponseTime: 0,
                        successRate: 1.0,
                        status: 'unknown',
                        lastChecked: null
                    };
                });
            },
            
            async collectProviderMetrics(provider) {
                try {
                    console.log(`[AI MONITOR] Checking ${provider} status...`);
                    
                    const response = await window.safeApiCall(`${window.rbckConfig.apiBase}/ai/status/${provider}?t=${Date.now()}`, {
                        method: 'GET',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json',
                            'Authorization': (await getAuthToken()) ? `Bearer ${await getAuthToken()}` : ''
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        console.log(`[AI MONITOR] ${provider} API response:`, data);
                        
                        // Check if provider is working based on backend response structure
                        const isConnected = data.success && (data.data?.status === 'ready' || data.data?.configured === true);
                        
                        this.metrics[provider] = {
                            ...this.metrics[provider],
                            status: isConnected ? 'healthy' : 'error',
                            lastChecked: new Date(),
                            averageResponseTime: data.data?.responseTime || 0,
                            successRate: isConnected ? (data.data?.successRate || 1.0) : 0,
                            totalRequests: this.metrics[provider].totalRequests + 1,
                            successfulRequests: isConnected ? this.metrics[provider].successfulRequests + 1 : this.metrics[provider].successfulRequests
                        };
                        
                        if (!isConnected) {
                            this.metrics[provider].failedRequests += 1;
                        }
                        
                    } else {
                        this.metrics[provider].status = 'error';
                        this.metrics[provider].failedRequests += 1;
                        this.metrics[provider].totalRequests += 1;
                    }
                    
                } catch (error) {
                    console.error(`[AI MONITOR] ${provider} check failed:`, error);
                    this.metrics[provider].status = 'error';
                    this.metrics[provider].failedRequests += 1;
                    this.metrics[provider].totalRequests += 1;
                }
            },
            
            async refreshMetrics() {
                console.log('[AI MONITOR] Refreshing all metrics...');
                for (const provider of this.providers) {
                    await this.collectProviderMetrics(provider);
                }
                this.updateDisplay();
            },
            
            updateDisplay() {
                // Update overview metrics
                const healthyProviders = Object.values(this.metrics).filter(m => m.status === 'healthy');
                const avgResponseTime = healthyProviders.reduce((sum, m) => sum + m.averageResponseTime, 0) / (healthyProviders.length || 1);
                const overallSuccessRate = healthyProviders.reduce((sum, m) => sum + m.successRate, 0) / (healthyProviders.length || 1);
                
                const avgDisplay = document.getElementById('avgResponseTimeDisplay');
                const successDisplay = document.getElementById('overallSuccessRateDisplay');
                
                if (avgDisplay) avgDisplay.textContent = Math.round(avgResponseTime) + 'ms';
                if (successDisplay) successDisplay.textContent = Math.round(overallSuccessRate * 100) + '%';
                
                console.log('[AI MONITOR] Display updated with live data');
            }
        };
        
        // Initialize AI Monitoring
        window.aiMonitoringSystem.init();
        
        // Auto-refresh every 30 seconds for AI Swarm Council
        setInterval(() => {
            if (document.getElementById('ai-swarm').style.display !== 'none') {
                window.aiSwarmCouncil.refreshProviders();
            }
        }, 30000);
        
        // Auto-refresh every 60 seconds for AI Monitoring  
        setInterval(() => {
            if (document.getElementById('ai-monitoring').style.display !== 'none') {
                window.aiMonitoringSystem.refreshMetrics();
            }
        }, 60000);
        
        // Debug tab content issues
        window.debugTabContent = function() {
            console.log('üîç [DEBUG] Analyzing tab content structure...');
            
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            
            tabs.forEach(tabName => {
                const tabContent = document.getElementById(`${tabName}-tab`);
                const tabButton = document.querySelector(`[data-tab="${tabName}"]`);
                
                console.log(`üîç [DEBUG] Tab: ${tabName}`);
                console.log('  Content element:', !!tabContent);
                console.log('  Button element:', !!tabButton);
                
                if (tabContent) {
                    console.log('  Content classes:', tabContent.className);
                    console.log('  Content display:', window.getComputedStyle(tabContent).display);
                    console.log('  Content visibility:', window.getComputedStyle(tabContent).visibility);
                    console.log('  Content children:', tabContent.children.length);
                    console.log('  Content text preview:', tabContent.textContent.substring(0, 80) + '...');
                    console.log('  Content height:', tabContent.offsetHeight);
                }
                
                if (tabButton) {
                    console.log('  Button classes:', tabButton.className);
                    console.log('  Button active:', tabButton.classList.contains('active'));
                }
                
                console.log('---');
            });
            
            // Check for overlapping content
            const allActiveContent = document.querySelectorAll('.ai-tab-content.active');
            console.log('üîç [DEBUG] Active content elements:', allActiveContent.length);
            allActiveContent.forEach((content, index) => {
                console.log(`  Active ${index + 1}: ${content.id}`);
            });
            
            // Check for duplicate IDs
            const allTabContent = document.querySelectorAll('.ai-tab-content');
            const ids = Array.from(allTabContent).map(el => el.id);
            const duplicates = ids.filter((id, index) => ids.indexOf(id) !== index);
            if (duplicates.length > 0) {
                console.error('üö® [DEBUG] Duplicate tab content IDs found:', duplicates);
            }
        };
        
        // Test tab content isolation
        window.testTabIsolation = async function() {
            console.log('üß™ [ISOLATION] Testing tab content isolation...');
            
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            
            for (const tab of tabs) {
                console.log(`üß™ [ISOLATION] Testing ${tab} tab...`);
                window.switchAITab(tab);
                
                // Wait for switch to complete
                await new Promise(resolve => setTimeout(resolve, 300));
                
                // Check only one tab is active
                const activeContents = document.querySelectorAll('.ai-tab-content.active');
                const visibleContents = Array.from(document.querySelectorAll('.ai-tab-content'))
                    .filter(el => window.getComputedStyle(el).display === 'block');
                
                console.log(`  Active content count: ${activeContents.length}`);
                console.log(`  Visible content count: ${visibleContents.length}`);
                
                if (activeContents.length === 1 && activeContents[0].id === `${tab}-tab`) {
                    console.log(`  ‚úÖ ${tab} tab correctly isolated`);
                } else {
                    console.error(`  ‚ùå ${tab} tab isolation failed`);
                    console.error(`    Expected: ${tab}-tab`);
                    console.error(`    Active:`, Array.from(activeContents).map(el => el.id));
                }
            }
            
            console.log('üéâ [ISOLATION] Tab isolation test completed');
        };
        
        // Quick fix verification
        window.verifyTabContentFix = function() {
            console.log('üîß [VERIFY] Verifying tab content fix...');
            
            // Test each tab quickly
            const tabs = ['general', 'models', 'performance', 'security', 'advanced'];
            const results = {};
            
            tabs.forEach(tab => {
                window.switchAITab(tab);
                
                const activeContent = document.querySelector('.ai-tab-content.active');
                const allVisible = document.querySelectorAll('.ai-tab-content[style*="block"]');
                
                results[tab] = {
                    correctActive: activeContent?.id === `${tab}-tab`,
                    onlyOneVisible: allVisible.length === 1,
                    uniqueContent: activeContent?.textContent.includes(tab === 'general' ? 'Service Status' : 
                                  tab === 'models' ? 'OpenAI Models' :
                                  tab === 'performance' ? 'System Performance' :
                                  tab === 'security' ? 'Security Score' : 'System Health')
                };
            });
            
            console.log('üìä [VERIFY] Tab content fix results:');
            Object.entries(results).forEach(([tab, result]) => {
                const status = result.correctActive && result.onlyOneVisible && result.uniqueContent ? '‚úÖ' : '‚ùå';
                console.log(`  ${status} ${tab}: Active(${result.correctActive}) Isolated(${result.onlyOneVisible}) Unique(${result.uniqueContent})`);
            });
            
            const allGood = Object.values(results).every(r => r.correctActive && r.onlyOneVisible && r.uniqueContent);
            
            if (allGood) {
                console.log('üéâ [VERIFY] All tabs working correctly! Fix successful.');
            } else {
                console.error('‚ùå [VERIFY] Some tabs still have issues. Manual inspection needed.');
            }
            
            return allGood;
        };
        
        // Comprehensive frontend system validation
        window.validateFrontendSystem = async function() {
            console.log('üîß [SYSTEM VALIDATION] Starting comprehensive frontend system check...');
            
            const results = {
                tabSystem: { status: 'pending', issues: [] },
                chatInterface: { status: 'pending', issues: [] },
                apiConnectivity: { status: 'pending', issues: [] },
                uiComponents: { status: 'pending', issues: [] },
                performance: { status: 'pending', issues: [] }
            };
            
            // 1. Tab System Validation
            console.log('üìã [VALIDATION] Testing tab system...');
            try {
                const tabTest = window.verifyTabContentFix();
                results.tabSystem.status = tabTest ? 'pass' : 'fail';
                if (!tabTest) {
                    results.tabSystem.issues.push('Tab content isolation failed');
                }
            } catch (error) {
                results.tabSystem.status = 'error';
                results.tabSystem.issues.push(`Tab system error: ${error.message}`);
            }
            
            // 2. Chat Interface Validation
            console.log('üí¨ [VALIDATION] Testing chat interface...');
            try {
                const chatForm = document.getElementById('chatbotForm');
                const chatMessages = document.getElementById('chatbotMessages');
                const chatInput = document.getElementById('chatbotInput');
                
                if (chatForm && chatMessages && chatInput) {
                    results.chatInterface.status = 'pass';
                } else {
                    results.chatInterface.status = 'fail';
                    results.chatInterface.issues.push('Missing chat interface elements');
                }
            } catch (error) {
                results.chatInterface.status = 'error';
                results.chatInterface.issues.push(`Chat interface error: ${error.message}`);
            }
            
            // 3. API Connectivity Validation
            console.log('üîó [VALIDATION] Testing API connectivity...');
            try {
                if (window.api && typeof window.api.get === 'function') {
                    results.apiConnectivity.status = 'pass';
                } else {
                    results.apiConnectivity.status = 'fail';
                    results.apiConnectivity.issues.push('API client not available');
                }
            } catch (error) {
                results.apiConnectivity.status = 'error';
                results.apiConnectivity.issues.push(`API connectivity error: ${error.message}`);
            }
            
            // 4. UI Components Validation
            console.log('üé® [VALIDATION] Testing UI components...');
            try {
                const criticalElements = [
                    'aiSettingsModal',
                    'chatbotPanel',
                    'blog-manage',
                    'ai-chatbot'
                ];
                
                let missingElements = [];
                criticalElements.forEach(id => {
                    if (!document.getElementById(id)) {
                        missingElements.push(id);
                    }
                });
                
                if (missingElements.length === 0) {
                    results.uiComponents.status = 'pass';
                } else {
                    results.uiComponents.status = 'fail';
                    results.uiComponents.issues.push(`Missing elements: ${missingElements.join(', ')}`);
                }
            } catch (error) {
                results.uiComponents.status = 'error';
                results.uiComponents.issues.push(`UI components error: ${error.message}`);
            }
            
            // 5. Performance Check
            console.log('‚ö° [VALIDATION] Testing performance...');
            try {
                const jsFiles = Array.from(document.querySelectorAll('script[src]')).length;
                const cssFiles = Array.from(document.querySelectorAll('link[rel="stylesheet"]')).length;
                
                results.performance.status = 'pass';
                results.performance.metrics = {
                    jsFiles,
                    cssFiles,
                    domElements: document.querySelectorAll('*').length
                };
            } catch (error) {
                results.performance.status = 'error';
                results.performance.issues.push(`Performance check error: ${error.message}`);
            }
            
            // Generate report
            console.log('üìä [VALIDATION] System validation results:');
            Object.entries(results).forEach(([category, result]) => {
                const status = result.status === 'pass' ? '‚úÖ' : result.status === 'fail' ? '‚ùå' : '‚ö†Ô∏è';
                console.log(`  ${status} ${category}: ${result.status}`);
                if (result.issues && result.issues.length > 0) {
                    result.issues.forEach(issue => console.log(`    - ${issue}`));
                }
                if (result.metrics) {
                    console.log(`    Metrics:`, result.metrics);
                }
            });
            
            const overallStatus = Object.values(results).every(r => r.status === 'pass') ? 'HEALTHY' : 'ISSUES_FOUND';
            console.log(`üéØ [VALIDATION] Overall system status: ${overallStatus}`);
            
            return results;
        };
        
        // Generate comprehensive system health report
        window.generateSystemHealthReport = async function() {
            console.log('üìä [HEALTH REPORT] Generating comprehensive system health report...');
            
            const report = {
                timestamp: new Date().toISOString(),
                overallHealth: 'UNKNOWN',
                systemInfo: {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    cookieEnabled: navigator.cookieEnabled,
                    onlineStatus: navigator.onLine
                },
                validation: {},
                diagnostics: {},
                performance: {},
                recommendations: []
            };
            
            // 1. Run system validation
            try {
                report.validation = await window.validateFrontendSystem();
                console.log('‚úÖ System validation completed');
            } catch (error) {
                console.error('‚ùå System validation failed:', error);
                report.validation = { error: error.message };
            }
            
            // 2. Collect diagnostics
            try {
                report.diagnostics = {
                    jsErrors: window.jsErrors || [],
                    domElements: document.querySelectorAll('*').length,
                    scripts: document.querySelectorAll('script').length,
                    stylesheets: document.querySelectorAll('link[rel="stylesheet"]').length,
                    images: document.querySelectorAll('img').length,
                    forms: document.querySelectorAll('form').length,
                    buttons: document.querySelectorAll('button').length,
                    inputs: document.querySelectorAll('input').length
                };
                console.log('‚úÖ Diagnostics collected');
            } catch (error) {
                console.error('‚ùå Diagnostics collection failed:', error);
                report.diagnostics = { error: error.message };
            }
            
            // 3. Performance metrics
            try {
                const performance = window.performance;
                report.performance = {
                    navigation: performance.timing ? {
                        pageLoad: performance.timing.loadEventEnd - performance.timing.navigationStart,
                        domReady: performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart,
                        firstPaint: performance.timing.responseStart - performance.timing.navigationStart
                    } : 'Not available',
                    memory: performance.memory ? {
                        usedJSHeapSize: performance.memory.usedJSHeapSize,
                        totalJSHeapSize: performance.memory.totalJSHeapSize,
                        jsHeapSizeLimit: performance.memory.jsHeapSizeLimit
                    } : 'Not available',
                    resources: performance.getEntriesByType ? performance.getEntriesByType('resource').length : 'Not available'
                };
                console.log('‚úÖ Performance metrics collected');
            } catch (error) {
                console.error('‚ùå Performance metrics failed:', error);
                report.performance = { error: error.message };
            }
            
            // 4. Generate recommendations
            try {
                // Tab system recommendations
                if (report.validation.tabSystem?.status !== 'pass') {
                    report.recommendations.push({
                        category: 'Tab System',
                        severity: 'high',
                        issue: 'Tab content isolation issues detected',
                        solution: 'Run window.verifyTabContentFix() to diagnose and fix tab issues'
                    });
                }
                
                // Chat interface recommendations
                if (report.validation.chatInterface?.status !== 'pass') {
                    report.recommendations.push({
                        category: 'Chat Interface',
                        severity: 'high',
                        issue: 'Chat interface elements missing or non-functional',
                        solution: 'Check HTML structure and ensure all chat elements are properly initialized'
                    });
                }
                
                // API connectivity recommendations
                if (report.validation.apiConnectivity?.status !== 'pass') {
                    report.recommendations.push({
                        category: 'API Connectivity',
                        severity: 'critical',
                        issue: 'API client not properly initialized',
                        solution: 'Ensure api-client.js is loaded and window.api is available'
                    });
                }
                
                // Performance recommendations
                if (report.performance.navigation?.pageLoad > 5000) {
                    report.recommendations.push({
                        category: 'Performance',
                        severity: 'medium',
                        issue: 'Page load time exceeds 5 seconds',
                        solution: 'Consider code splitting and resource optimization'
                    });
                }
                
                // DOM size recommendations
                if (report.diagnostics.domElements > 5000) {
                    report.recommendations.push({
                        category: 'Performance',
                        severity: 'medium',
                        issue: 'Large DOM size detected',
                        solution: 'Consider lazy loading and DOM virtualization'
                    });
                }
                
                console.log('‚úÖ Recommendations generated');
            } catch (error) {
                console.error('‚ùå Recommendations generation failed:', error);
                report.recommendations = [{ error: error.message }];
            }
            
            // 5. Determine overall health
            const validationResults = Object.values(report.validation).filter(r => r.status);
            const passCount = validationResults.filter(r => r.status === 'pass').length;
            const totalCount = validationResults.length;
            
            if (passCount === totalCount) {
                report.overallHealth = 'HEALTHY';
            } else if (passCount >= totalCount * 0.7) {
                report.overallHealth = 'MINOR_ISSUES';
            } else if (passCount >= totalCount * 0.4) {
                report.overallHealth = 'MODERATE_ISSUES';
            } else {
                report.overallHealth = 'CRITICAL_ISSUES';
            }
            
            // 6. Display report
            console.log('üìã [HEALTH REPORT] System Health Report Generated');
            console.log('='.repeat(50));
            console.log(`üéØ Overall Health: ${report.overallHealth}`);
            console.log(`üìÖ Timestamp: ${report.timestamp}`);
            console.log('üîç Validation Results:', Object.entries(report.validation).map(([k, v]) => `${k}: ${v.status}`).join(', '));
            console.log('üìä Performance:', report.performance.navigation ? `Page Load: ${report.performance.navigation.pageLoad}ms` : 'Not available');
            console.log(`üìà DOM Elements: ${report.diagnostics.domElements}`);
            console.log(`üí° Recommendations: ${report.recommendations.length}`);
            
            if (report.recommendations.length > 0) {
                console.log('\nüõ†Ô∏è Recommendations:');
                report.recommendations.forEach((rec, i) => {
                    console.log(`  ${i + 1}. [${rec.severity?.toUpperCase()}] ${rec.category}: ${rec.issue}`);
                    console.log(`     Solution: ${rec.solution}`);
                });
            }
            
            console.log('='.repeat(50));
            
            return report;
        };
    </script>
    
    <!-- Debug Script for Function Availability -->
    <script>
        // Wait for module to load and check function availability with delay
        window.addEventListener('load', function() {
            // Add delay to ensure main-production.js is fully loaded
            setTimeout(function() {
                console.log('üîç [DEBUG] Page loaded, checking functions...');
                
                const criticalFunctions = [
                    'showSection', 'showNotification', 'loadBlogPosts', 
                    'savePost', 'editPost', 'deletePost', 'clearForm'
                ];
                
                let missingFunctions = [];
                criticalFunctions.forEach(fn => {
                    if (typeof window[fn] !== 'function') {
                        missingFunctions.push(fn);
                    }
                });
                
                if (missingFunctions.length > 0) {
                    console.error('‚ùå [DEBUG] Missing functions:', missingFunctions);
                    console.log('üîß [DEBUG] Functions will be available after main-production.js loads');
                } else {
                    console.log('‚úÖ [DEBUG] All critical functions are available');
                }
            }, 2000); // 2 second delay
        });
        
        // ‚úÖ Wait for main-production.js to load, then check for showSection
        function checkAndCreateFallback() {
            if (typeof window.showSection === 'undefined') {
                console.error('‚ùå [FALLBACK] showSection NOT AVAILABLE - CREATING FALLBACK!');
                console.error('‚ùå [FALLBACK] This means main-production.js failed to load or has errors!');
                window.showSection = function(sectionId) {
                console.error('üö® [FALLBACK] Using fallback showSection for:', sectionId);
                
                // ‚úÖ ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞ reload ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á section ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
                try {
                    // Hide all sections first
                    const allSections = document.querySelectorAll('.content-section, .section');
                    allSections.forEach(section => {
                        section.style.display = 'none';
                        section.classList.remove('active');
                    });
                    
                    // Show target section
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.style.display = 'block';
                        targetSection.classList.add('active');
                        console.log('‚úÖ [FALLBACK] Section shown successfully:', sectionId);
                        
                        // Update nav links
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        const navLink = document.querySelector(`.nav-link[onclick*="${sectionId}"]`);
                        if (navLink) {
                            navLink.classList.add('active');
                        }
                        
                    } else {
                        console.error('‚ùå [FALLBACK] Section not found:', sectionId);
                        alert(`‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡∏ô‡πâ‡∏≤ ${sectionId} ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á`);
                    }
                } catch (error) {
                    console.error('‚ùå [FALLBACK] Error in fallback showSection:', error);
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏à');
                }
            };
            } else {
                console.log('‚úÖ [FALLBACK] showSection already available from main-production.js');
            }
            
            // ‚úÖ Also check switchAITab
            if (typeof window.switchAITab === 'undefined') {
                console.error('‚ùå [FALLBACK] switchAITab NOT AVAILABLE - CREATING FALLBACK!');
                // switchAITab ‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å main-production.js ‡πÅ‡∏•‡πâ‡∏ß
            } else {
                console.log('‚úÖ [FALLBACK] switchAITab already available from main-production.js');
            }
            
            // ‚úÖ Check and create other essential functions
            const essentialFunctions = ['showNotification', 'loadBlogPosts', 'savePost', 'editPost', 'deletePost', 'clearForm'];
            essentialFunctions.forEach(funcName => {
                if (typeof window[funcName] === 'undefined') {
                    console.error(`‚ùå [FALLBACK] ${funcName} NOT AVAILABLE - CREATING FALLBACK!`);
                    window[funcName] = function(...args) {
                        console.error(`üö® [FALLBACK] Using fallback ${funcName} with args:`, args);
                        if (funcName === 'showNotification') {
                            alert(args[0] || 'Notification');
                        } else {
                            alert(`${funcName} function is not fully loaded yet. Please refresh the page.`);
                        }
                    };
                } else {
                    console.log(`‚úÖ [FALLBACK] ${funcName} already available`);
                }
            });
        }
        
        // ‚úÖ Check immediately and also after delays with more debugging
        console.log('üîç [DEBUG] Checking showSection availability...');
        console.log('üîç [DEBUG] window.showSection type:', typeof window.showSection);
        
        checkAndCreateFallback();
        
        setTimeout(() => {
            console.log('üîç [DEBUG] After 1s - window.showSection type:', typeof window.showSection);
            checkAndCreateFallback();
        }, 1000);
        
        setTimeout(() => {
            console.log('üîç [DEBUG] After 3s - window.showSection type:', typeof window.showSection);
            checkAndCreateFallback();
        }, 3000);
    </script>
    <!-- ‚ö° PERFORMANCE: High-performance module system -->
    <script type="module">
        // ‚ö° Global configuration for modules
        window.rbckConfig = {
            apiBase: (() => {
                const hostname = window.location.hostname;
                if (hostname === 'localhost' || hostname === '127.0.0.1' || hostname.includes('192.168.')) {
                    return 'http://localhost:10000/api';
                }
                return 'https://rbck.onrender.com/api';
            })(),
            isDevelopment: window.location.hostname.includes('localhost'),
            isProduction: !window.location.hostname.includes('localhost'),
            version: '2025-07-05-performance-optimized'
        };

        // ‚úÖ UTILITY FUNCTIONS: Auth and API utilities for embedded code
        window.getAuthToken = async function() {
            try {
                // Try to get from localStorage first
                const token = localStorage.getItem('rbck_token') || localStorage.getItem('token');
                if (token && token !== 'null' && token !== 'undefined') {
                    return token;
                }
                
                // Fallback: try to get from session storage
                const sessionToken = sessionStorage.getItem('rbck_token') || sessionStorage.getItem('token');
                if (sessionToken && sessionToken !== 'null' && sessionToken !== 'undefined') {
                    return sessionToken;
                }
                
                // For public endpoints, don't warn about missing token
                return null;
            } catch (error) {
                console.error('‚ùå [AUTH] Error getting auth token:', error);
                return null;
            }
        };

        window.safeApiCall = async function(url, options = {}) {
            try {
                console.log(`üîó [API] Calling: ${url}`);
                
                // Ensure headers exist
                options.headers = options.headers || {};
                
                // Add auth token if available (but don't require it for public endpoints)
                const token = await window.getAuthToken();
                if (token) {
                    options.headers['Authorization'] = `Bearer ${token}`;
                }
                
                // Make the API call
                const response = await fetch(url, options);
                
                console.log(`üì° [API] Response status for ${url}:`, response.status);
                
                return response;
                
            } catch (error) {
                console.error(`‚ùå [API] Failed to call ${url}:`, error);
                throw error;
            }
        };

        // ‚úÖ LIVE AI STATUS DASHBOARD: Real-time provider monitoring
        window.createLiveAIStatusDashboard = function() {
            const dashboardHtml = `
                <div id="liveAIStatusDashboard" style="
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    width: 350px;
                    background: rgba(255, 255, 255, 0.95);
                    border: 2px solid #4285f4;
                    border-radius: 12px;
                    padding: 15px;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
                    backdrop-filter: blur(10px);
                    z-index: 9999;
                    font-family: 'Segoe UI', sans-serif;
                    max-height: 500px;
                    overflow-y: auto;
                ">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; color: #1a73e8; font-size: 16px;">ü§ñ Live AI Status</h3>
                        <button onclick="window.toggleAIStatusDashboard()" style="
                            background: none;
                            border: none;
                            font-size: 18px;
                            cursor: pointer;
                            color: #666;
                            padding: 0;
                            margin-left: auto;
                        ">√ó</button>
                    </div>
                    
                    <div id="aiStatusGrid" style="display: grid; gap: 8px;">
                        <!-- Provider status cards will be inserted here -->
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid #e0e0e0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <small style="color: #666;">Last Updated: <span id="lastUpdateTime">--</span></small>
                            <button onclick="window.refreshAIStatus()" style="
                                background: #4285f4;
                                color: white;
                                border: none;
                                border-radius: 6px;
                                padding: 6px 12px;
                                font-size: 12px;
                                cursor: pointer;
                            ">Refresh</button>
                        </div>
                        
                        <!-- AI Action Buttons -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px;">
                            <button onclick="window.testAISwarmCouncil()" style="
                                background: #10b981;
                                color: white;
                                border: none;
                                border-radius: 6px;
                                padding: 8px 12px;
                                font-size: 11px;
                                cursor: pointer;
                                font-weight: 600;
                            ">ü§ñ Test Swarm</button>
                            <button onclick="window.testAIMonitoring()" style="
                                background: #f59e0b;
                                color: white;
                                border: none;
                                border-radius: 6px;
                                padding: 8px 12px;
                                font-size: 11px;
                                cursor: pointer;
                                font-weight: 600;
                            ">üìä Test Monitor</button>
                        </div>
                        
                        <!-- Test Results -->
                        <div id="aiTestResults" style="margin-top: 10px; font-size: 11px;"></div>
                    </div>
                </div>
            `;
            
            // Remove existing dashboard if any
            const existing = document.getElementById('liveAIStatusDashboard');
            if (existing) {
                existing.remove();
            }
            
            // Add new dashboard
            document.body.insertAdjacentHTML('beforeend', dashboardHtml);
            
            // Start monitoring
            window.startAIStatusMonitoring();
        };

        window.toggleAIStatusDashboard = function() {
            const dashboard = document.getElementById('liveAIStatusDashboard');
            if (dashboard) {
                dashboard.remove();
                clearInterval(window.aiStatusInterval);
            } else {
                window.createLiveAIStatusDashboard();
            }
        };

        window.startAIStatusMonitoring = function() {
            // Clear any existing interval
            if (window.aiStatusInterval) {
                clearInterval(window.aiStatusInterval);
            }
            
            // Initial check
            window.refreshAIStatus();
            
            // Set up periodic refresh every 10 seconds
            window.aiStatusInterval = setInterval(() => {
                window.refreshAIStatus();
            }, 10000);
        };

        window.refreshAIStatus = async function() {
            try {
                console.log('üîÑ [LIVE STATUS] Refreshing AI provider status...');
                
                // Call backend API without authentication (public endpoint)
                const response = await fetch(`${window.rbckConfig.apiBase}/ai/status?t=${Date.now()}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ [LIVE STATUS] API Response:', data);
                    window.updateAIStatusDisplay(data);
                } else {
                    console.error('‚ùå [LIVE STATUS] API Error:', response.status);
                    window.showAIStatusError(`API Error: ${response.status}`);
                }
                
            } catch (error) {
                console.error('‚ùå [LIVE STATUS] Network Error:', error);
                window.showAIStatusError(`Network Error: ${error.message}`);
            }
        };

        window.updateAIStatusDisplay = function(data) {
            const grid = document.getElementById('aiStatusGrid');
            const timeElement = document.getElementById('lastUpdateTime');
            
            if (!grid || !timeElement) return;
            
            // Update timestamp
            timeElement.textContent = new Date().toLocaleTimeString();
            
            // Clear existing content
            grid.innerHTML = '';
            
            if (data.success && data.data && data.data.providers) {
                Object.entries(data.data.providers).forEach(([providerKey, provider]) => {
                    const isReady = provider.status === 'ready' || provider.configured;
                    const statusColor = isReady ? '#10b981' : '#ef4444';
                    const statusText = isReady ? '‚úÖ Ready' : '‚ùå Not Configured';
                    
                    const providerCard = `
                        <div style="
                            background: white;
                            border: 1px solid ${statusColor};
                            border-radius: 8px;
                            padding: 10px;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <div>
                                <div style="font-weight: 600; color: #333; font-size: 14px;">${provider.name || providerKey}</div>
                                <div style="font-size: 12px; color: #666;">${providerKey.toUpperCase()}</div>
                            </div>
                            <div style="
                                background: ${statusColor}20;
                                color: ${statusColor};
                                padding: 4px 8px;
                                border-radius: 6px;
                                font-size: 11px;
                                font-weight: 600;
                            ">${statusText}</div>
                        </div>
                    `;
                    
                    grid.insertAdjacentHTML('beforeend', providerCard);
                });
                
                // ‚úÖ SYNC: Update AI Swarm Council Table
                window.updateAISwarmCouncilTable(data.data.providers);
                
            } else {
                window.showAIStatusError('Invalid API response structure');
            }
        };

        // ‚úÖ UPDATE AI SWARM COUNCIL TABLE
        window.updateAISwarmCouncilTable = function(providers) {
            const tableBody = document.getElementById('aiProvidersTableBody');
            if (!tableBody) return;
            
            console.log('üîÑ [SYNC] Updating AI Swarm Council table...');
            
            // Clear existing content
            tableBody.innerHTML = '';
            
            // Provider metadata
            const providerMeta = {
                gemini: {
                    name: 'Gemini 2.0 Flash',
                    icon: '‚ö°',
                    role: '‡∏ô‡∏±‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å',
                    expertise: ['‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û SEO', '‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤']
                },
                openai: {
                    name: 'OpenAI GPT',
                    icon: 'üß†',
                    role: '‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û',
                    expertise: ['‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û', '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á']
                },
                claude: {
                    name: 'Claude AI',
                    icon: 'üé≠',
                    role: '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤',
                    expertise: ['‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á', '‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢', '‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à']
                },
                deepseek: {
                    name: 'DeepSeek AI',
                    icon: 'üîç',
                    role: '‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ',
                    expertise: ['‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ', '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î', '‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û']
                },
                chinda: {
                    name: 'ChindaX AI',
                    icon: 'üß†',
                    role: '‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤',
                    expertise: ['‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤', '‡∏õ‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°', '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢']
                }
            };
            
            Object.entries(providers).forEach(([providerKey, provider]) => {
                const meta = providerMeta[providerKey] || {
                    name: provider.name || providerKey,
                    icon: 'ü§ñ',
                    role: 'AI Provider',
                    expertise: ['AI Processing']
                };
                
                const isReady = provider.status === 'ready' || provider.configured;
                const statusClass = isReady ? 'connected' : 'disconnected';
                const statusText = isReady ? '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß' : '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠';
                
                const row = `
                    <tr class="provider-row ${providerKey} ${statusClass}" id="provider-${providerKey}">
                        <td data-label="‡πÇ‡∏°‡πÄ‡∏î‡∏• AI">
                            <div class="provider-info">
                                <div class="provider-icon">${meta.icon}</div>
                                <div class="provider-details">
                                    <h4>${meta.name}</h4>
                                    <p class="provider-model">${providerKey.charAt(0).toUpperCase() + providerKey.slice(1)} AI</p>
                                </div>
                            </div>
                        </td>
                        <td data-label="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞" id="status-${providerKey}">
                            <div class="provider-status">
                                <div class="status-dot ${statusClass}"></div>
                                <span class="status-text ${statusClass}">${statusText}</span>
                            </div>
                        </td>
                        <td data-label="‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô">
                            <div class="provider-role">${meta.role}</div>
                        </td>
                        <td data-label="‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç">
                            <div class="provider-expertise">
                                ${meta.expertise.map(exp => `<span class="expertise-tag">${exp}</span>`).join('')}
                            </div>
                        </td>
                    </tr>
                `;
                
                tableBody.insertAdjacentHTML('beforeend', row);
            });
            
            console.log('‚úÖ [SYNC] AI Swarm Council table updated');
        };

        window.showAIStatusError = function(errorMessage) {
            const grid = document.getElementById('aiStatusGrid');
            if (!grid) return;
            
            grid.innerHTML = `
                <div style="
                    background: #fef2f2;
                    border: 1px solid #ef4444;
                    border-radius: 8px;
                    padding: 15px;
                    text-align: center;
                    color: #dc2626;
                ">
                    <div style="font-weight: 600; margin-bottom: 5px;">‚ùå Connection Error</div>
                    <div style="font-size: 12px;">${errorMessage}</div>
                </div>
            `;
        };

        // ‚úÖ AI SYSTEM TEST FUNCTIONS
        window.testAISwarmCouncil = async function() {
            const resultsDiv = document.getElementById('aiTestResults');
            if (!resultsDiv) return;
            
            resultsDiv.innerHTML = '<div style="color: #f59e0b;">üîÑ Testing AI Swarm Council...</div>';
            
            try {
                const response = await fetch(`${window.rbckConfig.apiBase}/ai/swarm/process`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        prompt: '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ç‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö AI Swarm Council',
                        workflow: 'create'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultsDiv.innerHTML = `
                        <div style="color: #10b981; font-weight: 600;">‚úÖ Swarm Council Working!</div>
                        <div style="color: #666; margin-top: 2px;">Execution: ${data.data?.executionTime || 'N/A'}ms</div>
                    `;
                } else if (response.status === 404) {
                    // Swarm endpoints not deployed yet
                    resultsDiv.innerHTML = `
                        <div style="color: #f59e0b; font-weight: 600;">‚ö†Ô∏è Swarm Not Deployed</div>
                        <div style="color: #666; margin-top: 2px; font-size: 10px;">Backend needs redeployment</div>
                    `;
                } else {
                    resultsDiv.innerHTML = `<div style="color: #ef4444;">‚ùå Swarm Error: ${response.status}</div>`;
                }
                
            } catch (error) {
                resultsDiv.innerHTML = `<div style="color: #ef4444;">‚ùå Swarm Failed: ${error.message}</div>`;
            }
        };

        window.testAIMonitoring = async function() {
            const resultsDiv = document.getElementById('aiTestResults');
            if (!resultsDiv) return;
            
            resultsDiv.innerHTML = '<div style="color: #f59e0b;">üîÑ Testing AI Monitoring...</div>';
            
            try {
                // First try the test endpoint (now public)
                let response = await fetch(`${window.rbckConfig.apiBase}/ai/test/gemini`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        prompt: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö AI Monitoring System'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultsDiv.innerHTML = `
                        <div style="color: #10b981; font-weight: 600;">‚úÖ Monitoring Working!</div>
                        <div style="color: #666; margin-top: 2px;">Response: ${data.responseTime || 'N/A'}ms</div>
                    `;
                } else if (response.status === 404) {
                    // Fallback to basic status check
                    response = await fetch(`${window.rbckConfig.apiBase}/ai/status/gemini`, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        resultsDiv.innerHTML = `
                            <div style="color: #f59e0b; font-weight: 600;">‚ö†Ô∏è Basic Status Only</div>
                            <div style="color: #666; margin-top: 2px; font-size: 10px;">Test endpoints not deployed</div>
                        `;
                    } else {
                        resultsDiv.innerHTML = `<div style="color: #ef4444;">‚ùå Monitor Error: ${response.status}</div>`;
                    }
                } else {
                    resultsDiv.innerHTML = `<div style="color: #ef4444;">‚ùå Monitor Error: ${response.status}</div>`;
                }
                
            } catch (error) {
                resultsDiv.innerHTML = `<div style="color: #ef4444;">‚ùå Monitor Failed: ${error.message}</div>`;
            }
        };

        // ‚úÖ MANUAL TRIGGER: Allow users to manually sync AI Swarm Council
        window.syncAISwarmCouncil = async function() {
            console.log('üîÑ [MANUAL] Manual AI Swarm Council sync requested...');
            
            try {
                const response = await fetch(`${window.rbckConfig.apiBase}/ai/status?t=${Date.now()}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.data && data.data.providers) {
                        window.updateAISwarmCouncilTable(data.data.providers);
                        
                        // Show success notification if function exists
                        if (typeof window.showNotification === 'function') {
                            window.showNotification('‚úÖ AI Swarm Council ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß', 'success');
                        } else {
                            alert('‚úÖ AI Swarm Council ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß');
                        }
                    }
                } else {
                    console.error('‚ùå [MANUAL] API Error:', response.status);
                    alert('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï AI Swarm Council ‡πÑ‡∏î‡πâ');
                }
            } catch (error) {
                console.error('‚ùå [MANUAL] Network Error:', error);
                alert('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠');
            }
        };

        // Auto-create dashboard on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Wait a bit for page to settle
            setTimeout(() => {
                window.createLiveAIStatusDashboard();
                
                // Also trigger initial AI Swarm Council sync
                setTimeout(() => {
                    window.syncAISwarmCouncil();
                }, 3000);
            }, 2000);
        });

        console.log('‚ö° [PERFORMANCE] Starting optimized RBCK CMS...');
        console.log('‚ö° [CONFIG] Environment:', window.rbckConfig.isDevelopment ? 'Development' : 'Production');
        console.log('‚ö° [CONFIG] API Base:', window.rbckConfig.apiBase);
        
        // ‚ö° Load bootstrap module (this will load other modules as needed)
        import('./core/bootstrap.js').then(() => {
            console.log('‚ö° [PERFORMANCE] Bootstrap initialization complete');
        }).catch(error => {
            console.error('‚ùå [PERFORMANCE] Bootstrap failed:', error);
            
            // ‚ö° Fallback to loading main-production.js if modules fail
            console.warn('‚ö†Ô∏è [FALLBACK] Loading main-production.js as fallback...');
            const script = document.createElement('script');
            script.src = 'main-production.js';
            script.onerror = () => {
                console.error('‚ùå [FALLBACK] Complete failure - please check network connectivity');
            };
            document.head.appendChild(script);
        });
        
        // ‚ö° Performance debugging tools
        window.getPerformanceMetrics = () => {
            return {
                navigation: performance.getEntriesByType('navigation')[0],
                resources: performance.getEntriesByType('resource'),
                measures: performance.getEntriesByType('measure'),
                memory: performance.memory ? {
                    used: `${(performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(1)}MB`,
                    total: `${(performance.memory.totalJSHeapSize / 1024 / 1024).toFixed(1)}MB`,
                    limit: `${(performance.memory.jsHeapSizeLimit / 1024 / 1024).toFixed(1)}MB`
                } : 'Not available'
            };
        };
        
        // ‚ö° Load deferred scripts after critical path
        setTimeout(() => {
            // ‚ö° Load migration system (always load for admin functionality)
            const timestamp = 1752245000; // Fixed timestamp for migration fix
            // Load modern migration system
            import(`./migration-modern.js?v=${Date.now()}`).then(() => {
                console.log('‚úÖ Modern migration system loaded');
            }).catch(() => {
                console.warn('‚ö†Ô∏è Modern migration not available, loading fallback...');
                import(`./migration.js?v=1752255000`).catch(() => console.warn('Migration script not available'));
            });
        }, 500);
    </script>
    
    <!-- ‚ö° PERFORMANCE: Fallback for non-module browsers -->
    <script nomodule>
        console.warn('‚ö†Ô∏è [COMPATIBILITY] Browser does not support ES modules, loading fallback...');
        const script = document.createElement('script');
        script.src = 'main-production.js';
        document.head.appendChild(script);
    </script>
</body>
</html>
